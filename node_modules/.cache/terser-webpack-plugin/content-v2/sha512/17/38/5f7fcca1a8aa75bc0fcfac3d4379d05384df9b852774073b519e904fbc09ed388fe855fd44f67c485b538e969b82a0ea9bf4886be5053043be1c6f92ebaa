{"code":"(this[\"webpackJsonpwarehouse-dashboard\"]=this[\"webpackJsonpwarehouse-dashboard\"]||[]).push([[0],{15:function(t,e,a){},24:function(t,e,a){},30:function(t,e,a){},31:function(t,e,a){},32:function(t,e,a){},33:function(t,e,a){},34:function(t,e,a){},35:function(t,e,a){},36:function(t,e,a){\"use strict\";a.r(e);var s=a(1),c=a.n(s),n=a(16),r=a.n(n),l=a(9),i=a(2),o=a(0);const d=Object(s.createContext)(null),h=t=>{let{children:e}=t;const[a,c]=Object(s.useState)(null),[n,r]=Object(s.useState)(!0);Object(s.useEffect)((()=>{const t=localStorage.getItem(\"user\");t&&c(JSON.parse(t)),r(!1)}),[]);return Object(o.jsx)(d.Provider,{value:{user:a,login:async t=>{c(t),localStorage.setItem(\"user\",JSON.stringify(t))},logout:()=>{c(null),localStorage.removeItem(\"user\")},loading:n},children:e})},u=()=>{const t=Object(s.useContext)(d);if(!t)throw new Error(\"useAuth must be used within an AuthProvider\");return t};var j=a(3),b=a(17);a(24);const m=[\"component\"];var O=t=>{let{component:e}=t,a=Object(b.a)(t,m);const{user:s,loading:c}=u();return c?Object(o.jsxs)(\"div\",{className:\"loading-container\",children:[Object(o.jsx)(\"div\",{className:\"loading-spinner\"}),Object(o.jsx)(\"p\",{children:\"\\u0110ang t\\u1ea3i...\"})]}):Object(o.jsx)(i.b,Object(j.a)(Object(j.a)({},a),{},{render:t=>s?Object(o.jsx)(e,Object(j.a)({},t)):Object(o.jsx)(i.a,{to:{pathname:\"/login\",state:{from:t.location}}})}))};a(30);var p=()=>{const[t,e]=Object(s.useState)(\"\"),[a,c]=Object(s.useState)(\"\"),[n,r]=Object(s.useState)(\"\"),[l,d]=Object(s.useState)(!1),h=Object(i.g)(),j=Object(i.h)(),{login:b}=u();return Object(o.jsxs)(\"div\",{className:\"login-container\",children:[Object(o.jsx)(\"h2\",{children:\"\\u0110\\u0103ng Nh\\u1eadp H\\u1ec7 Th\\u1ed1ng\"}),Object(o.jsxs)(\"form\",{onSubmit:async e=>{e.preventDefault(),r(\"\"),d(!0);try{if(!t||!a)throw new Error(\"Vui l\\xf2ng nh\\u1eadp \\u0111\\u1ea7y \\u0111\\u1ee7 th\\xf4ng tin\");if(\"admin\"!==t||\"admin123\"!==a)throw new Error(\"Th\\xf4ng tin \\u0111\\u0103ng nh\\u1eadp kh\\xf4ng ch\\xednh x\\xe1c\");{await b({username:t,role:\"admin\"});const{from:e}=j.state||{from:{pathname:\"/dashboard\"}};h.replace(e)}}catch(s){r(s.message)}finally{d(!1)}},children:[Object(o.jsxs)(\"div\",{className:\"form-group\",children:[Object(o.jsx)(\"label\",{htmlFor:\"username\",children:\"T\\xean \\u0111\\u0103ng nh\\u1eadp:\"}),Object(o.jsx)(\"input\",{type:\"text\",id:\"username\",value:t,onChange:t=>e(t.target.value),disabled:l,required:!0,placeholder:\"Nh\\u1eadp t\\xean \\u0111\\u0103ng nh\\u1eadp\"})]}),Object(o.jsxs)(\"div\",{className:\"form-group\",children:[Object(o.jsx)(\"label\",{htmlFor:\"password\",children:\"M\\u1eadt kh\\u1ea9u:\"}),Object(o.jsx)(\"input\",{type:\"password\",id:\"password\",value:a,onChange:t=>c(t.target.value),disabled:l,required:!0,placeholder:\"Nh\\u1eadp m\\u1eadt kh\\u1ea9u\"})]}),n&&Object(o.jsx)(\"div\",{className:\"error-message\",children:n}),Object(o.jsx)(\"button\",{type:\"submit\",disabled:l,children:l?\"\\u0110ang x\\u1eed l\\xfd...\":\"\\u0110\\u0103ng Nh\\u1eadp\"})]}),Object(o.jsxs)(\"div\",{className:\"login-note\",children:[Object(o.jsx)(\"p\",{children:\"T\\xe0i kho\\u1ea3n m\\u1eb7c \\u0111\\u1ecbnh: admin / admin123\"}),Object(o.jsx)(\"p\",{children:\"L\\u01b0u \\xfd: Ch\\u1ec9 d\\xe0nh cho m\\u1ee5c \\u0111\\xedch ki\\u1ec3m th\\u1eed\"})]})]})};a(31),a(15);var g=t=>{let{tier:e,tray:a,status:s,onClick:c,isFiltered:n}=t;const r=(s||\"empty\").toLowerCase(),l={high:\"K\\u1ec7 ch\\u1ee9a nhi\\u1ec1u\",medium:\"K\\u1ec7 ch\\u1ee9a v\\u1eeba ph\\u1ea3i\",empty:\"K\\u1ec7 tr\\u1ed1ng\"},i=void 0!==n?n?\"filtered-in\":\"filtered-out\":\"\";return Object(o.jsx)(\"div\",{className:\"shelf-item \".concat(r,\" \").concat(i),onClick:t=>{t.preventDefault(),t.stopPropagation(),c&&c()},onKeyPress:t=>{\"Enter\"!==t.key&&\" \"!==t.key||(t.preventDefault(),c&&c())},title:\"T\\u1ea7ng \".concat(e,\" - Khay \").concat(a,\" | \").concat(l[r]),tabIndex:0,role:\"button\",\"aria-label\":\"K\\u1ec7 t\\u1ea7ng \".concat(e,\" khay \").concat(a,\" tr\\u1ea1ng th\\xe1i \").concat(l[r]),style:{cursor:c?\"pointer\":\"default\"},children:Object(o.jsxs)(\"span\",{className:\"shelf-label\",children:[e,\"-\",a]})})};a(32);var x=t=>{let{shelf:e,onClose:a}=t;const c=Object(s.useMemo)((()=>{if(!e)return 0;return(e.itemCount||0)/(e.capacity||1)*100}),[e]);if(!e)return null;const n=\"string\"===typeof e.tier?parseInt(e.tier,10):e.tier;return Object(o.jsxs)(\"div\",{className:\"shelf-detail\",role:\"dialog\",\"aria-labelledby\":\"shelf-detail-title\",children:[Object(o.jsxs)(\"div\",{className:\"shelf-detail-header\",children:[Object(o.jsx)(\"h3\",{id:\"shelf-detail-title\",children:\"Chi ti\\u1ebft k\\u1ec7 h\\xe0ng\"}),Object(o.jsx)(\"button\",{onClick:a,className:\"close-button\",\"aria-label\":\"\\u0110\\xf3ng chi ti\\u1ebft\",children:\"\\xd7\"})]}),Object(o.jsxs)(\"div\",{className:\"shelf-detail-content\",children:[Object(o.jsxs)(\"div\",{className:\"detail-row\",children:[Object(o.jsx)(\"span\",{className:\"label\",children:\"T\\u1ea7ng:\"}),Object(o.jsx)(\"span\",{className:\"value\",children:n})]}),Object(o.jsxs)(\"div\",{className:\"detail-row\",children:[Object(o.jsx)(\"span\",{className:\"label\",children:\"Khay:\"}),Object(o.jsx)(\"span\",{className:\"value\",children:e.tray})]}),Object(o.jsxs)(\"div\",{className:\"detail-row\",children:[Object(o.jsx)(\"span\",{className:\"label\",children:\"S\\u1ed1 l\\u01b0\\u1ee3ng:\"}),Object(o.jsxs)(\"span\",{className:\"value\",children:[e.itemCount||0,\" / \",e.capacity||0,\" (\",c.toFixed(1),\"%)\"]})]}),Object(o.jsxs)(\"div\",{className:\"detail-row\",children:[Object(o.jsx)(\"span\",{className:\"label\",children:\"Tr\\u1ea1ng th\\xe1i:\"}),Object(o.jsx)(\"span\",{className:\"value status-\".concat((e.status||\"\").toLowerCase()),children:(t=>{if(!t)return\"\";return{HIGH:\"\\u0110\\u1ea7y\",MEDIUM:\"C\\xf2n tr\\u1ed1ng m\\u1ed9t ph\\u1ea7n\",EMPTY:\"Tr\\u1ed1ng\"}[t]||t})(e.status)})]}),e.lastUpdated&&Object(o.jsxs)(\"div\",{className:\"detail-row\",children:[Object(o.jsx)(\"span\",{className:\"label\",children:\"C\\u1eadp nh\\u1eadt l\\u1ea7n cu\\u1ed1i:\"}),Object(o.jsx)(\"span\",{className:\"value\",children:(t=>{if(!t)return\"\";try{const e=new Date(t);return isNaN(e.getTime())?\"\":new Intl.DateTimeFormat(\"vi-VN\",{year:\"numeric\",month:\"numeric\",day:\"numeric\",hour:\"numeric\",minute:\"numeric\",second:\"numeric\",hour12:!1}).format(e)}catch(e){return console.error(\"L\\u1ed7i khi \\u0111\\u1ecbnh d\\u1ea1ng ng\\xe0y:\",e),\"\"}})(e.lastUpdated)})]}),void 0!==e.capacity&&Object(o.jsxs)(\"div\",{className:\"detail-row\",children:[Object(o.jsx)(\"span\",{className:\"label\",children:\"S\\u1ee9c ch\\u1ee9a:\"}),Object(o.jsx)(\"span\",{className:\"value\",children:e.capacity})]})]})]})};a(33);var f=t=>{let{stats:e={},lastUpdated:a}=t;const s={high:\"number\"===typeof e.high?e.high:0,medium:\"number\"===typeof e.medium?e.medium:0,empty:\"number\"===typeof e.empty?e.empty:0},c=s.high+s.medium+s.empty;return Object(o.jsxs)(\"div\",{className:\"status-bar\",role:\"status\",\"aria-label\":\"Th\\u1ed1ng k\\xea tr\\u1ea1ng th\\xe1i k\\u1ec7 h\\xe0ng\",children:[Object(o.jsxs)(\"div\",{className:\"status-bar-items\",children:[Object(o.jsxs)(\"div\",{className:\"stat-item\",title:\"S\\u1ed1 \\xf4 \\u0111ang ch\\u1ee9a nhi\\u1ec1u\",children:[Object(o.jsxs)(\"div\",{className:\"stat-content\",children:[Object(o.jsx)(\"span\",{className:\"dot high-dot\",\"aria-label\":\"\\xd4 ch\\u1ee9a nhi\\u1ec1u\"}),Object(o.jsx)(\"span\",{className:\"stat-label\",children:\"HIGH:\"}),Object(o.jsx)(\"span\",{className:\"stat-value\",children:s.high})]}),Object(o.jsxs)(\"div\",{className:\"stat-percentage\",children:[c?(s.high/c*100).toFixed(1):0,\"%\"]})]}),Object(o.jsxs)(\"div\",{className:\"stat-item\",title:\"S\\u1ed1 \\xf4 \\u0111ang ch\\u1ee9a v\\u1eeba ph\\u1ea3i\",children:[Object(o.jsxs)(\"div\",{className:\"stat-content\",children:[Object(o.jsx)(\"span\",{className:\"dot medium-dot\",\"aria-label\":\"\\xd4 ch\\u1ee9a v\\u1eeba ph\\u1ea3i\"}),Object(o.jsx)(\"span\",{className:\"stat-label\",children:\"MEDIUM:\"}),Object(o.jsx)(\"span\",{className:\"stat-value\",children:s.medium})]}),Object(o.jsxs)(\"div\",{className:\"stat-percentage\",children:[c?(s.medium/c*100).toFixed(1):0,\"%\"]})]}),Object(o.jsxs)(\"div\",{className:\"stat-item\",title:\"S\\u1ed1 \\xf4 \\u0111ang tr\\u1ed1ng\",children:[Object(o.jsxs)(\"div\",{className:\"stat-content\",children:[Object(o.jsx)(\"span\",{className:\"dot empty-dot\",\"aria-label\":\"\\xd4 tr\\u1ed1ng\"}),Object(o.jsx)(\"span\",{className:\"stat-label\",children:\"EMPTY:\"}),Object(o.jsx)(\"span\",{className:\"stat-value\",children:s.empty})]}),Object(o.jsxs)(\"div\",{className:\"stat-percentage\",children:[c?(s.empty/c*100).toFixed(1):0,\"%\"]})]})]}),Object(o.jsxs)(\"div\",{className:\"last-updated\",title:\"Th\\u1eddi gian c\\u1eadp nh\\u1eadt th\\u1ed1ng k\\xea\",children:[\"C\\u1eadp nh\\u1eadt: \",(t=>{if(!t)return\"---\";try{const e=\"string\"===typeof t?new Date(t):t;return isNaN(e)?\"---\":new Intl.DateTimeFormat(\"vi-VN\",{year:\"numeric\",month:\"numeric\",day:\"numeric\",hour:\"numeric\",minute:\"numeric\",second:\"numeric\",hour12:!1}).format(e)}catch(e){return\"---\"}})(a)]})]})};a(34);var v=t=>{var e,a,c;let{onFilterChange:n,tiers:r=[],statuses:l=[\"HIGH\",\"MEDIUM\",\"EMPTY\"],filters:i,shelfStats:d}=t;const h={HIGH:{label:\"K\\u1ec7 \\u0111\\u1ea7y\",color:\"#22c55e\"},MEDIUM:{label:\"K\\u1ec7 c\\xf2n tr\\u1ed1ng m\\u1ed9t ph\\u1ea7n\",color:\"#f59e0b\"},EMPTY:{label:\"K\\u1ec7 tr\\u1ed1ng ho\\xe0n to\\xe0n\",color:\"#ef4444\"}},u=Object(s.useMemo)((()=>[...new Set(r)].sort(((t,e)=>Number(t)-Number(e)))),[r]),b=(t,e)=>{const a=Object(j.a)(Object(j.a)({},i),{},{[t]:e});n(t,e,a)},m=Object(s.useMemo)((()=>Object.values(d||{}).reduce(((t,e)=>t+(e||0)),0)),[d]);return Object(o.jsxs)(\"div\",{className:\"filter-panel\",children:[Object(o.jsxs)(\"div\",{className:\"filter-header\",children:[Object(o.jsx)(\"h3\",{children:\"B\\u1ed9 l\\u1ecdc\"}),Object(o.jsx)(\"button\",{className:\"reset-button\",onClick:()=>{n(\"reset\",null,{tier:\"all\",status:\"all\"})},disabled:\"all\"===i.tier&&\"all\"===i.status,title:\"\\u0110\\u1eb7t l\\u1ea1i t\\u1ea5t c\\u1ea3 b\\u1ed9 l\\u1ecdc\",children:\"\\u0110\\u1eb7t l\\u1ea1i\"})]}),Object(o.jsxs)(\"div\",{className:\"filter-group\",children:[Object(o.jsx)(\"label\",{htmlFor:\"tier-select\",children:\"Ch\\u1ecdn t\\u1ea7ng:\"}),Object(o.jsxs)(\"select\",{id:\"tier-select\",value:i.tier,onChange:t=>b(\"tier\",t.target.value),children:[Object(o.jsx)(\"option\",{value:\"all\",children:\"T\\u1ea5t c\\u1ea3 c\\xe1c t\\u1ea7ng\"}),u.map((t=>Object(o.jsxs)(\"option\",{value:t.toString(),children:[\"T\\u1ea7ng \",t]},t)))]})]}),Object(o.jsxs)(\"div\",{className:\"filter-group\",children:[Object(o.jsx)(\"label\",{htmlFor:\"status-select\",children:\"Tr\\u1ea1ng th\\xe1i k\\u1ec7:\"}),Object(o.jsxs)(\"select\",{id:\"status-select\",value:i.status,onChange:t=>b(\"status\",t.target.value),style:{borderLeft:\"all\"!==i.status?\"4px solid \".concat((null===(e=h[i.status])||void 0===e?void 0:e.color)||\"transparent\"):\"none\"},children:[Object(o.jsx)(\"option\",{value:\"all\",children:\"T\\u1ea5t c\\u1ea3 tr\\u1ea1ng th\\xe1i\"}),l.map((t=>{var e;const a=(null===d||void 0===d?void 0:d[t.toLowerCase()])||0,s=m>0?Math.round(a/m*100):0;return Object(o.jsxs)(\"option\",{value:t,className:\"status-option status-\".concat(t.toLowerCase()),children:[(null===(e=h[t])||void 0===e?void 0:e.label)||t,\" (\".concat(a,\" - \").concat(s,\"%)\")]},t)}))]})]}),Object(o.jsx)(\"div\",{className:\"active-filters\",children:(\"all\"!==i.tier||\"all\"!==i.status)&&Object(o.jsxs)(\"div\",{className:\"filter-tags\",children:[Object(o.jsx)(\"span\",{children:\"\\u0110ang l\\u1ecdc theo: \"}),\"all\"!==i.tier&&Object(o.jsxs)(\"span\",{className:\"filter-tag\",children:[\"T\\u1ea7ng \",i.tier,Object(o.jsx)(\"button\",{onClick:()=>b(\"tier\",\"all\"),\"aria-label\":\"X\\xf3a b\\u1ed9 l\\u1ecdc t\\u1ea7ng\",title:\"X\\xf3a b\\u1ed9 l\\u1ecdc t\\u1ea7ng\",children:\"\\xd7\"})]}),\"all\"!==i.status&&Object(o.jsxs)(\"span\",{className:\"filter-tag\",style:{borderLeft:\"4px solid \".concat((null===(a=h[i.status])||void 0===a?void 0:a.color)||\"transparent\"),paddingLeft:\"8px\"},children:[(null===(c=h[i.status])||void 0===c?void 0:c.label)||i.status,Object(o.jsx)(\"button\",{onClick:()=>b(\"status\",\"all\"),\"aria-label\":\"X\\xf3a b\\u1ed9 l\\u1ecdc tr\\u1ea1ng th\\xe1i\",title:\"X\\xf3a b\\u1ed9 l\\u1ecdc tr\\u1ea1ng th\\xe1i\",children:\"\\xd7\"})]})]})})]})};var y=t=>{let{shelves:e,onShelfClick:a}=t;const[c,n]=Object(s.useState)(null),[r,l]=Object(s.useState)({high:0,medium:0,empty:0}),[i,d]=Object(s.useState)((new Date).toISOString()),[h,u]=Object(s.useState)([]),[j,b]=Object(s.useState)({tier:\"all\",status:\"all\"}),m=(t,e)=>{const a=t/e*100;return a>=80?\"HIGH\":a>=15?\"MEDIUM\":a>=0?\"EMPTY\":void 0};Object(s.useEffect)((()=>{const t=Array.from({length:4},((t,e)=>({shelf:e+1,tiers:Array.from({length:2},((t,e)=>[{tier:2*e+1,trays:Array.from({length:6},((t,e)=>{const a=Math.floor(101*Math.random());return{tray:e+1,status:m(a,100),capacity:100,itemCount:a,lastUpdated:(new Date).toISOString()}}))},{tier:2*e+2,trays:Array.from({length:6},((t,e)=>{const a=Math.floor(101*Math.random());return{tray:e+1,status:m(a,100),capacity:100,itemCount:a,lastUpdated:(new Date).toISOString()}}))}]))})));u(t);const e=setInterval((()=>{u((t=>{const e=JSON.parse(JSON.stringify(t)),a=Math.floor(4*Math.random()),s=Math.floor(2*Math.random()),c=Math.floor(2*Math.random()),n=Math.floor(6*Math.random()),r=e[a].tiers[s][c].trays[n],l=Math.floor(Math.random()*(r.capacity+1));return r.itemCount=l,r.status=m(l,r.capacity),r.lastUpdated=(new Date).toISOString(),e})),d((new Date).toISOString())}),3e3);return()=>clearInterval(e)}),[]),Object(s.useEffect)((()=>{const t={high:0,medium:0,empty:0};h.forEach((e=>{e.tiers.forEach((e=>{e.forEach((e=>{e.trays.forEach((e=>{t[e.status.toLowerCase()]++}))}))}))})),l(t)}),[h]);const O=(t,e)=>{const a=\"all\"===j.tier||Number(j.tier)===t,s=\"all\"===j.status||j.status===e;return a&&s};return Object(o.jsxs)(\"div\",{className:\"shelf-grid-wrapper\",children:[Object(o.jsx)(f,{stats:r,lastUpdated:i}),Object(o.jsx)(\"div\",{className:\"shelf-grid-container\",children:h.map(((t,e)=>Object(o.jsxs)(\"div\",{className:\"shelf-grid\",children:[Object(o.jsxs)(\"h3\",{children:[\"K\\u1ec7 \",t.shelf]}),t.tiers.map(((t,a)=>Object(o.jsx)(\"div\",{className:\"tier-row-group\",children:t.map((t=>{const a=(t=>t.trays.some((e=>O(t.tier,e.status))))(t);return Object(o.jsxs)(\"div\",{className:\"tier-row \".concat(a?\"has-matching-items\":\"no-matching-items\"),children:[Object(o.jsxs)(\"div\",{className:\"tier-label\",children:[\"T\\u1ea7ng \",t.tier]}),Object(o.jsx)(\"div\",{className:\"tray-container\",children:t.trays.map(((a,s)=>{const c=O(t.tier,a.status);return Object(o.jsx)(\"div\",{className:\"tray-cell \".concat(c?\"matching-filter\":\"not-matching-filter\"),children:Object(o.jsx)(g,{tier:t.tier,tray:a.tray,status:a.status,onClick:()=>((t,e,a)=>{if(!e||!e.trays||!e.trays[a])return;const s=e.trays[a];n({shelf:t+1,tier:e.tier,tray:s.tray,status:s.status,capacity:s.capacity,itemCount:s.itemCount,lastUpdated:s.lastUpdated})})(e,t,s),isFiltered:c})},\"tray-\".concat(t.tier,\"-\").concat(a.tray))}))})]},\"tier-\".concat(t.tier))}))},\"tier-group-\".concat(a))))]},\"shelf-\".concat(t.shelf))))}),c&&Object(o.jsx)(x,{shelf:c,onClose:()=>{n(null)}})]})};const N=[{id:1,username:\"admin\",password:\"admin123\",email:\"admin@example.com\"},{id:2,username:\"user\",password:\"user123\",email:\"user@example.com\"}];N[0];let S=function(){const t=[];for(let e=1;e<=5;e++)for(let a=1;a<=3;a++)for(let s=1;s<=5;s++){const c=Math.floor(101*Math.random());let n;n=c>=80?\"HIGH\":c>=30?\"MEDIUM\":\"EMPTY\",t.push({shelf:e,tier:a,tray:s,status:n,capacity:c,lastUpdated:(new Date).toISOString()})}return t}();const w={fetchAll:async()=>S,getStats:async()=>{const t={high:0,medium:0,empty:0};return S.forEach((e=>{t[e.status.toLowerCase()]++})),t},subscribeToUpdates:async t=>{const e=setInterval((()=>{const e=Math.floor(Math.random()*S.length),a=S[e];a.capacity=Math.floor(101*Math.random()),a.capacity>=80?a.status=\"HIGH\":a.capacity>=30?a.status=\"MEDIUM\":a.status=\"EMPTY\",a.lastUpdated=(new Date).toISOString(),t(Object(j.a)({},a))}),1e4);return()=>clearInterval(e)},updateShelf:async(t,e,a)=>{const s=S.findIndex((s=>s.tier===t&&s.tray===e&&(!a.shelf||s.shelf===a.shelf)));if(-1===s)throw new Error(\"Kh\\xf4ng t\\xecm th\\u1ea5y k\\u1ec7\");return S[s]=Object(j.a)(Object(j.a)(Object(j.a)({},S[s]),a),{},{lastUpdated:(new Date).toISOString()}),S[s]}},M=w;var C=t=>{let{user:e,onLogout:a}=t;const[c,n]=Object(s.useState)([]),[r,l]=Object(s.useState)([]),[i,d]=Object(s.useState)(null),[h,u]=Object(s.useState)({tier:\"all\",status:\"all\"}),[b,m]=Object(s.useState)(!0),[O,p]=Object(s.useState)(null),g=(t,e)=>(Array.isArray(t)?t:[]).filter((t=>{const a=\"all\"===e.tier||String(t.tier)===String(e.tier),s=\"all\"===e.status||t.status&&t.status===e.status;return a&&s}));Object(s.useEffect)((()=>{let t=!0;return(async()=>{try{m(!0);const e=await M.fetchAll();if(!t)return;n(e);const a=g(e,h);l(a)}catch(e){t&&p(e.message)}finally{t&&m(!1)}})(),()=>{t=!1}}),[h]),Object(s.useEffect)((()=>{let t=null;return(async()=>{t=await M.subscribeToUpdates((t=>{n((e=>{const a=e.map((e=>e.tier===t.tier&&e.tray===t.tray?Object(j.a)(Object(j.a)({},e),t):e)),s=g(a,h);return l(s),a}))}))})(),()=>{t&&t()}}),[h]);return b?Object(o.jsx)(\"div\",{className:\"loading\",role:\"status\",children:\"\\u0110ang t\\u1ea3i d\\u1eef li\\u1ec7u...\"}):O?Object(o.jsxs)(\"div\",{className:\"error\",role:\"alert\",children:[\"L\\u1ed7i: \",O]}):Object(o.jsxs)(\"div\",{className:\"dashboard\",children:[Object(o.jsxs)(\"div\",{className:\"dashboard-header\",children:[Object(o.jsx)(\"h1\",{className:\"dashboard-title\",children:\"Warehouse Dashboard\"}),Object(o.jsxs)(\"div\",{className:\"user-info\",children:[Object(o.jsx)(\"span\",{className:\"user-name\",children:(null===e||void 0===e?void 0:e.username)||\"Admin\"}),Object(o.jsx)(\"button\",{className:\"logout-button\",onClick:a,children:\"\\u0110\\u0103ng xu\\u1ea5t\"})]})]}),\"      \",Object(o.jsx)(v,{tiers:[...new Set(c.map((t=>t.tier)))].sort(),statuses:[\"HIGH\",\"MEDIUM\",\"EMPTY\"],filters:h,onFilterChange:(t,e,a)=>{const s=a||Object(j.a)(Object(j.a)({},h),{},{[t]:e});u(s);const n=g(c,s);l(n)}}),Object(o.jsx)(y,{shelves:r,onShelfClick:d}),i&&Object(o.jsx)(x,{shelf:i,onClose:()=>d(null)})]})};var I=function(){return Object(o.jsx)(h,{children:Object(o.jsx)(l.a,{children:Object(o.jsxs)(i.d,{children:[Object(o.jsx)(i.b,{exact:!0,path:\"/login\",component:p}),Object(o.jsx)(O,{path:\"/dashboard\",component:C}),Object(o.jsx)(i.b,{exact:!0,path:\"/\",children:Object(o.jsx)(i.a,{to:\"/dashboard\"})})]})})})};a(35);r.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(I,{})}),document.getElementById(\"root\"))}},[[36,1,2]]]);","name":"static/js/main.3146d313.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","jsx_runtime","AuthContext","Object","AuthProvider","_ref","children","user","setUser","loading","setLoading","savedUser","localStorage","getItem","JSON","parse","Provider","value","login","async","userData","setItem","stringify","logout","removeItem","useAuth","context","Error","objectSpread2","objectWithoutProperties","_excluded","components_ProtectedRoute_ProtectedRoute","component","Component","rest","className","render","props","to","pathname","state","from","location","pages_Login","username","setUsername","password","setPassword","error","setError","isLoading","setIsLoading","history","onSubmit","e","preventDefault","role","replace","err","message","htmlFor","type","id","onChange","target","disabled","required","placeholder","ShelfGrid_ShelfItem","tier","tray","status","onClick","isFiltered","safeStatus","toLowerCase","statusLabels","high","medium","empty","filterClass","undefined","concat","stopPropagation","onKeyPress","key","title","tabIndex","style","cursor","components_ShelfDetail_ShelfDetail","shelf","onClose","percentageFilled","itemCount","capacity","displayTier","parseInt","toFixed","HIGH","MEDIUM","EMPTY","formatStatus","lastUpdated","dateString","date","Date","isNaN","getTime","Intl","DateTimeFormat","year","month","day","hour","minute","second","hour12","format","console","formatDateTime","components_StatusBar_StatusBar","stats","safeStats","totalTrays","d","_unused","formatDate","components_FilterPanel_FilterPanel","_statusDescriptions$f","_statusDescriptions$f2","_statusDescriptions$f3","onFilterChange","tiers","statuses","filters","shelfStats","statusDescriptions","label","color","sortedTiers","Set","sort","a","b","Number","handleFilterChange","filterType","newFilters","totalItems","values","reduce","acc","curr","map","toString","borderLeft","_statusDescriptions$s","count","percentage","Math","round","paddingLeft","components_ShelfGrid_ShelfGrid","shelves","onShelfClick","selectedShelf","setSelectedShelf","setStats","setLastUpdated","toISOString","shelvesData","setShelvesData","setFilters","calculateStatus","initialData","Array","length","_","shelfIndex","NUM_TIERS_PER_SHELF","groupIndex","trays","trayIndex","floor","random","interval","setInterval","prevData","newData","randomShelf","randomTierGroup","randomTierInGroup","randomTray","newItemCount","clearInterval","newStats","forEach","group","isItemMatchingFilters","tierNumber","tierMatch","statusMatch","hasMatchingItems","some","hasTierMatchingItems","isMatching","tierInfo","handleTrayClick","users","email","api_shelvesData","shelfNum","generateShelves","shelfAPI","fetchAll","getStats","subscribeToUpdates","intervalId","idx","onUpdate","updateShelf","data","findIndex","s","api_shelf","pages_Dashboard","onLogout","setShelves","filteredShelves","setFilteredShelves","applyFilters","shelfList","currentFilters","isArray","filter","String","isMounted","filtered","loadData","unsub","update","prevShelves","newShelves","subscribe","nextFilters","src_App","exact","path","StrictMode","document","getElementById"],"sources":["static/js/main.3146d313.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonpwarehouse-dashboard\"] = this[\"webpackJsonpwarehouse-dashboard\"] || []).push([[0],{\n\n/***/ 15:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 24:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 31:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(16);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/context/AuthContext.js\nconst AuthContext=/*#__PURE__*/Object(react[\"createContext\"])(null);const AuthProvider=_ref=>{let{children}=_ref;const[user,setUser]=Object(react[\"useState\"])(null);const[loading,setLoading]=Object(react[\"useState\"])(true);Object(react[\"useEffect\"])(()=>{const savedUser=localStorage.getItem('user');if(savedUser){setUser(JSON.parse(savedUser));}setLoading(false);},[]);const login=async userData=>{setUser(userData);localStorage.setItem('user',JSON.stringify(userData));};const logout=()=>{setUser(null);localStorage.removeItem('user');};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthContext.Provider,{value:{user,login,logout,loading},children:children});};const useAuth=()=>{const context=Object(react[\"useContext\"])(AuthContext);if(!context){throw new Error('useAuth must be used within an AuthProvider');}return context;};\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 4 modules\nvar objectSpread2 = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\nvar objectWithoutProperties = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./src/components/ProtectedRoute/ProtectedRoute.css\nvar ProtectedRoute = __webpack_require__(24);\n\n// CONCATENATED MODULE: ./src/components/ProtectedRoute/ProtectedRoute.js\nconst _excluded=[\"component\"];const ProtectedRoute_ProtectedRoute=_ref=>{let{component:Component}=_ref,rest=Object(objectWithoutProperties[\"a\" /* default */])(_ref,_excluded);const{user,loading}=useAuth();if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"\\u0110ang t\\u1EA3i...\"})]});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},rest),{},{render:props=>user?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Component,Object(objectSpread2[\"a\" /* default */])({},props)):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:{pathname:\"/login\",state:{from:props.location}}})}));};/* harmony default export */ var components_ProtectedRoute_ProtectedRoute = (ProtectedRoute_ProtectedRoute);\n// EXTERNAL MODULE: ./src/pages/Login.css\nvar Login = __webpack_require__(30);\n\n// CONCATENATED MODULE: ./src/pages/Login.js\nconst Login_Login=()=>{const[username,setUsername]=Object(react[\"useState\"])('');const[password,setPassword]=Object(react[\"useState\"])('');const[error,setError]=Object(react[\"useState\"])('');const[isLoading,setIsLoading]=Object(react[\"useState\"])(false);const history=Object(react_router[\"g\" /* useHistory */])();const location=Object(react_router[\"h\" /* useLocation */])();const{login}=useAuth();const handleSubmit=async e=>{e.preventDefault();setError('');setIsLoading(true);try{if(!username||!password){throw new Error('Vui lòng nhập đầy đủ thông tin');}if(username==='admin'&&password==='admin123'){await login({username,role:'admin'});const{from}=location.state||{from:{pathname:\"/dashboard\"}};history.replace(from);}else{throw new Error('Thông tin đăng nhập không chính xác');}}catch(err){setError(err.message);}finally{setIsLoading(false);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"login-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"\\u0110\\u0103ng Nh\\u1EADp H\\u1EC7 Th\\u1ED1ng\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"username\",children:\"T\\xEAn \\u0111\\u0103ng nh\\u1EADp:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",id:\"username\",value:username,onChange:e=>setUsername(e.target.value),disabled:isLoading,required:true,placeholder:\"Nh\\u1EADp t\\xEAn \\u0111\\u0103ng nh\\u1EADp\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"password\",children:\"M\\u1EADt kh\\u1EA9u:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",id:\"password\",value:password,onChange:e=>setPassword(e.target.value),disabled:isLoading,required:true,placeholder:\"Nh\\u1EADp m\\u1EADt kh\\u1EA9u\"})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",disabled:isLoading,children:isLoading?'Đang xử lý...':'Đăng Nhập'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"login-note\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"T\\xE0i kho\\u1EA3n m\\u1EB7c \\u0111\\u1ECBnh: admin / admin123\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"L\\u01B0u \\xFD: Ch\\u1EC9 d\\xE0nh cho m\\u1EE5c \\u0111\\xEDch ki\\u1EC3m th\\u1EED\"})]})]});};/* harmony default export */ var pages_Login = (Login_Login);\n// EXTERNAL MODULE: ./src/pages/Dashboard.css\nvar Dashboard = __webpack_require__(31);\n\n// EXTERNAL MODULE: ./src/components/ShelfGrid/ShelfGrid.css\nvar ShelfGrid = __webpack_require__(15);\n\n// CONCATENATED MODULE: ./src/components/ShelfGrid/ShelfItem.js\n// File: ShelfItem.js\n// Mô tả: Component React hiển thị một kệ hàng đơn lẻ trong lưới kệ của dashboard quản lý kho.\n// Chức năng: Hiển thị trạng thái, vị trí kệ, màu sắc và cho phép chọn để xem chi tiết.\nconst ShelfItem=_ref=>{let{tier,tray,status,onClick,isFiltered}=_ref;// Đảm bảo status luôn là chuỗi hợp lệ và chữ thường\nconst safeStatus=(status||'empty').toLowerCase();// Tooltip chi tiết hơn\nconst statusLabels={high:'Kệ chứa nhiều',medium:'Kệ chứa vừa phải',empty:'Kệ trống'};// Thêm class dựa trên trạng thái lọc\nconst filterClass=isFiltered!==undefined?isFiltered?'filtered-in':'filtered-out':'';// Thêm hàm xử lý sự kiện riêng để đảm bảo click hoạt động\nconst handleClick=e=>{e.preventDefault();e.stopPropagation();if(onClick)onClick();};// Thêm hàm xử lý phím để đảm bảo accessibility\nconst handleKeyPress=e=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();if(onClick)onClick();}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"shelf-item \".concat(safeStatus,\" \").concat(filterClass),onClick:handleClick,onKeyPress:handleKeyPress,title:\"T\\u1EA7ng \".concat(tier,\" - Khay \").concat(tray,\" | \").concat(statusLabels[safeStatus]),tabIndex:0,role:\"button\",\"aria-label\":\"K\\u1EC7 t\\u1EA7ng \".concat(tier,\" khay \").concat(tray,\" tr\\u1EA1ng th\\xE1i \").concat(statusLabels[safeStatus]),style:{cursor:onClick?'pointer':'default'},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"shelf-label\",children:[tier,\"-\",tray]})});};/* harmony default export */ var ShelfGrid_ShelfItem = (ShelfItem);\n// EXTERNAL MODULE: ./src/components/ShelfDetail/ShelfDetail.css\nvar ShelfDetail = __webpack_require__(32);\n\n// CONCATENATED MODULE: ./src/components/ShelfDetail/ShelfDetail.js\n/**\n * File: ShelfDetail.js\n * Mô tả: Component hiển thị chi tiết thông tin một kệ hàng trong dashboard quản lý kho.\n * Chức năng: \n * - Hiển thị thông tin chi tiết của kệ hàng được chọn (tầng, khay, trạng thái)\n * - Hiển thị số lượng hiện tại, sức chứa và phần trăm đã sử dụng\n * - Hiển thị thời gian cập nhật thông tin gần nhất\n * - Cung cấp nút đóng để quay lại giao diện tổng quan\n * - Hỗ trợ accessibility với ARIA attributes\n */const ShelfDetail_ShelfDetail=_ref=>{let{shelf,onClose}=_ref;// Đảm bảo useMemo luôn được gọi\nconst percentageFilled=Object(react[\"useMemo\"])(()=>{if(!shelf)return 0;// Trả về 0 nếu shelf không tồn tại\nconst itemCount=shelf.itemCount||0;const capacity=shelf.capacity||1;// Tránh chia cho 0\nreturn itemCount/capacity*100;},[shelf]);// Di chuyển điều kiện kiểm tra xuống dưới\nif(!shelf)return null;// Chuyển đổi trạng thái sang định dạng hiển thị dễ đọc\nconst formatStatus=status=>{if(!status)return'';const statusMap={'HIGH':'Đầy','MEDIUM':'Còn trống một phần','EMPTY':'Trống'};return statusMap[status]||status;};// Định dạng thời gian\nconst formatDateTime=dateString=>{if(!dateString)return'';try{const date=new Date(dateString);if(isNaN(date.getTime()))return'';return new Intl.DateTimeFormat('vi-VN',{year:'numeric',month:'numeric',day:'numeric',hour:'numeric',minute:'numeric',second:'numeric',hour12:false}).format(date);}catch(error){console.error('Lỗi khi định dạng ngày:',error);return'';}};// Đảm bảo tier là số nguyên\nconst displayTier=typeof shelf.tier==='string'?parseInt(shelf.tier,10):shelf.tier;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"shelf-detail\",role:\"dialog\",\"aria-labelledby\":\"shelf-detail-title\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"shelf-detail-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{id:\"shelf-detail-title\",children:\"Chi ti\\u1EBFt k\\u1EC7 h\\xE0ng\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:onClose,className:\"close-button\",\"aria-label\":\"\\u0110\\xF3ng chi ti\\u1EBFt\",children:\"\\xD7\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"shelf-detail-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"label\",children:\"T\\u1EA7ng:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"value\",children:displayTier})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"label\",children:\"Khay:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"value\",children:shelf.tray})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"label\",children:\"S\\u1ED1 l\\u01B0\\u1EE3ng:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"value\",children:[shelf.itemCount||0,\" / \",shelf.capacity||0,\" (\",percentageFilled.toFixed(1),\"%)\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"label\",children:\"Tr\\u1EA1ng th\\xE1i:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"value status-\".concat((shelf.status||'').toLowerCase()),children:formatStatus(shelf.status)})]}),shelf.lastUpdated&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"label\",children:\"C\\u1EADp nh\\u1EADt l\\u1EA7n cu\\u1ED1i:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"value\",children:formatDateTime(shelf.lastUpdated)})]}),shelf.capacity!==undefined&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"label\",children:\"S\\u1EE9c ch\\u1EE9a:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"value\",children:shelf.capacity})]})]})]});};/* harmony default export */ var components_ShelfDetail_ShelfDetail = (ShelfDetail_ShelfDetail);\n// EXTERNAL MODULE: ./src/components/StatusBar/StatusBar.css\nvar StatusBar = __webpack_require__(33);\n\n// CONCATENATED MODULE: ./src/components/StatusBar/StatusBar.js\n// File: StatusBar.js\n// Mô tả: Component React hiển thị thanh trạng thái tổng quan các kệ hàng trong dashboard quản lý kho.\n// Chức năng: Hiển thị số lượng kệ theo từng trạng thái (đầy, còn trống, trống hoàn toàn) và thời gian cập nhật gần nhất.\nconst StatusBar_StatusBar=_ref=>{let{stats={},lastUpdated}=_ref;// Đảm bảo stats luôn có đủ các trường\nconst safeStats={high:typeof stats.high==='number'?stats.high:0,medium:typeof stats.medium==='number'?stats.medium:0,empty:typeof stats.empty==='number'?stats.empty:0};// Định dạng ngày giờ cập nhật\nconst formatDate=date=>{if(!date)return'---';try{const d=typeof date==='string'?new Date(date):date;if(isNaN(d))return'---';return new Intl.DateTimeFormat('vi-VN',{year:'numeric',month:'numeric',day:'numeric',hour:'numeric',minute:'numeric',second:'numeric',hour12:false}).format(d);}catch(_unused){return'---';}};// Tính tổng số ô\nconst totalTrays=safeStats.high+safeStats.medium+safeStats.empty;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"status-bar\",role:\"status\",\"aria-label\":\"Th\\u1ED1ng k\\xEA tr\\u1EA1ng th\\xE1i k\\u1EC7 h\\xE0ng\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"status-bar-items\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-item\",title:\"S\\u1ED1 \\xF4 \\u0111ang ch\\u1EE9a nhi\\u1EC1u\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"dot high-dot\",\"aria-label\":\"\\xD4 ch\\u1EE9a nhi\\u1EC1u\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"stat-label\",children:\"HIGH:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"stat-value\",children:safeStats.high})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-percentage\",children:[totalTrays?(safeStats.high/totalTrays*100).toFixed(1):0,\"%\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-item\",title:\"S\\u1ED1 \\xF4 \\u0111ang ch\\u1EE9a v\\u1EEBa ph\\u1EA3i\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"dot medium-dot\",\"aria-label\":\"\\xD4 ch\\u1EE9a v\\u1EEBa ph\\u1EA3i\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"stat-label\",children:\"MEDIUM:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"stat-value\",children:safeStats.medium})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-percentage\",children:[totalTrays?(safeStats.medium/totalTrays*100).toFixed(1):0,\"%\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-item\",title:\"S\\u1ED1 \\xF4 \\u0111ang tr\\u1ED1ng\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"dot empty-dot\",\"aria-label\":\"\\xD4 tr\\u1ED1ng\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"stat-label\",children:\"EMPTY:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"stat-value\",children:safeStats.empty})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-percentage\",children:[totalTrays?(safeStats.empty/totalTrays*100).toFixed(1):0,\"%\"]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"last-updated\",title:\"Th\\u1EDDi gian c\\u1EADp nh\\u1EADt th\\u1ED1ng k\\xEA\",children:[\"C\\u1EADp nh\\u1EADt: \",formatDate(lastUpdated)]})]});};/* harmony default export */ var components_StatusBar_StatusBar = (StatusBar_StatusBar);\n// EXTERNAL MODULE: ./src/components/FilterPanel/FilterPanel.css\nvar FilterPanel = __webpack_require__(34);\n\n// CONCATENATED MODULE: ./src/components/FilterPanel/FilterPanel.js\n// File: FilterPanel.js\n// Mô tả: Component React hiển thị và xử lý bộ lọc (filter) cho dashboard quản lý kho hàng.\n// Chức năng: Cho phép người dùng lọc dữ liệu kệ hàng theo tầng và trạng thái, đồng bộ với dashboard.\nconst FilterPanel_FilterPanel=_ref=>{var _statusDescriptions$f,_statusDescriptions$f2,_statusDescriptions$f3;let{onFilterChange,tiers=[],statuses=['HIGH','MEDIUM','EMPTY'],filters,shelfStats}=_ref;// Mapping trạng thái với mô tả và màu sắc\nconst statusDescriptions={HIGH:{label:'Kệ đầy',color:'#22c55e'},MEDIUM:{label:'Kệ còn trống một phần',color:'#f59e0b'},EMPTY:{label:'Kệ trống hoàn toàn',color:'#ef4444'}};// Sắp xếp danh sách tầng\nconst sortedTiers=Object(react[\"useMemo\"])(()=>{return[...new Set(tiers)].sort((a,b)=>Number(a)-Number(b));},[tiers]);// Xử lý thay đổi bộ lọc\nconst handleFilterChange=(filterType,value)=>{const newFilters=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},filters),{},{[filterType]:value});onFilterChange(filterType,value,newFilters);};// Reset tất cả bộ lọc\nconst resetFilters=()=>{const resetState={tier:'all',status:'all'};onFilterChange('reset',null,resetState);};// Tính tổng số lượng cho mỗi trạng thái\nconst totalItems=Object(react[\"useMemo\"])(()=>{return Object.values(shelfStats||{}).reduce((acc,curr)=>acc+(curr||0),0);},[shelfStats]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filter-panel\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filter-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"B\\u1ED9 l\\u1ECDc\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"reset-button\",onClick:resetFilters,disabled:filters.tier==='all'&&filters.status==='all',title:\"\\u0110\\u1EB7t l\\u1EA1i t\\u1EA5t c\\u1EA3 b\\u1ED9 l\\u1ECDc\",children:\"\\u0110\\u1EB7t l\\u1EA1i\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"tier-select\",children:\"Ch\\u1ECDn t\\u1EA7ng:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{id:\"tier-select\",value:filters.tier,onChange:e=>handleFilterChange('tier',e.target.value),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"all\",children:\"T\\u1EA5t c\\u1EA3 c\\xE1c t\\u1EA7ng\"}),sortedTiers.map(tier=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"option\",{value:tier.toString(),children:[\"T\\u1EA7ng \",tier]},tier))]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"status-select\",children:\"Tr\\u1EA1ng th\\xE1i k\\u1EC7:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{id:\"status-select\",value:filters.status,onChange:e=>handleFilterChange('status',e.target.value),style:{borderLeft:filters.status!=='all'?\"4px solid \".concat(((_statusDescriptions$f=statusDescriptions[filters.status])===null||_statusDescriptions$f===void 0?void 0:_statusDescriptions$f.color)||'transparent'):'none'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"all\",children:\"T\\u1EA5t c\\u1EA3 tr\\u1EA1ng th\\xE1i\"}),statuses.map(status=>{var _statusDescriptions$s;const count=(shelfStats===null||shelfStats===void 0?void 0:shelfStats[status.toLowerCase()])||0;const percentage=totalItems>0?Math.round(count/totalItems*100):0;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"option\",{value:status,className:\"status-option status-\".concat(status.toLowerCase()),children:[((_statusDescriptions$s=statusDescriptions[status])===null||_statusDescriptions$s===void 0?void 0:_statusDescriptions$s.label)||status,\" (\".concat(count,\" - \").concat(percentage,\"%)\")]},status);})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"active-filters\",children:(filters.tier!=='all'||filters.status!=='all')&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filter-tags\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"\\u0110ang l\\u1ECDc theo: \"}),filters.tier!=='all'&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"filter-tag\",children:[\"T\\u1EA7ng \",filters.tier,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>handleFilterChange('tier','all'),\"aria-label\":\"X\\xF3a b\\u1ED9 l\\u1ECDc t\\u1EA7ng\",title:\"X\\xF3a b\\u1ED9 l\\u1ECDc t\\u1EA7ng\",children:\"\\xD7\"})]}),filters.status!=='all'&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"filter-tag\",style:{borderLeft:\"4px solid \".concat(((_statusDescriptions$f2=statusDescriptions[filters.status])===null||_statusDescriptions$f2===void 0?void 0:_statusDescriptions$f2.color)||'transparent'),paddingLeft:'8px'},children:[((_statusDescriptions$f3=statusDescriptions[filters.status])===null||_statusDescriptions$f3===void 0?void 0:_statusDescriptions$f3.label)||filters.status,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>handleFilterChange('status','all'),\"aria-label\":\"X\\xF3a b\\u1ED9 l\\u1ECDc tr\\u1EA1ng th\\xE1i\",title:\"X\\xF3a b\\u1ED9 l\\u1ECDc tr\\u1EA1ng th\\xE1i\",children:\"\\xD7\"})]})]})})]});};/* harmony default export */ var components_FilterPanel_FilterPanel = (FilterPanel_FilterPanel);\n// CONCATENATED MODULE: ./src/components/ShelfGrid/ShelfGrid.js\n// File: ShelfGrid.js\n// Mô tả: Component React hiển thị lưới các kệ hàng trong dashboard quản lý kho.\n// Chức năng: Hiển thị danh sách kệ hàng theo tầng và khay, cho phép chọn từng kệ để xem chi tiết.\nconst ShelfGrid_ShelfGrid=_ref=>{let{shelves,onShelfClick}=_ref;const NUM_SHELVES=4;// Số lượng kệ đồ\nconst NUM_TIERS_PER_SHELF=4;// Số tầng mỗi kệ\nconst NUM_TRAYS_PER_TIER=6;// Số ô mỗi tầng\nconst[selectedShelf,setSelectedShelf]=Object(react[\"useState\"])(null);const[stats,setStats]=Object(react[\"useState\"])({high:0,medium:0,empty:0});const[lastUpdated,setLastUpdated]=Object(react[\"useState\"])(new Date().toISOString());const[shelvesData,setShelvesData]=Object(react[\"useState\"])([]);const[filters,setFilters]=Object(react[\"useState\"])({tier:'all',status:'all'});// Hàm tính toán trạng thái dựa trên số lượng vật phẩm và sức chứa\nconst calculateStatus=(itemCount,capacity)=>{const percentage=itemCount/capacity*100;if(percentage>=80)return'HIGH';if(percentage>=15)return'MEDIUM';if(percentage>=0)return'EMPTY';};// Khởi tạo dữ liệu ban đầu và thiết lập interval cập nhật\nObject(react[\"useEffect\"])(()=>{// Tạo dữ liệu mẫu ban đầu\nconst initialData=Array.from({length:NUM_SHELVES},(_,shelfIndex)=>{const tiers=Array.from({length:NUM_TIERS_PER_SHELF/2},(_,groupIndex)=>{const groupedTiers=[{tier:groupIndex*2+1,trays:Array.from({length:NUM_TRAYS_PER_TIER},(_,trayIndex)=>{const capacity=100;const itemCount=Math.floor(Math.random()*(capacity+1));return{tray:trayIndex+1,status:calculateStatus(itemCount,capacity),capacity,itemCount,lastUpdated:new Date().toISOString()};})},{tier:groupIndex*2+2,trays:Array.from({length:NUM_TRAYS_PER_TIER},(_,trayIndex)=>{const capacity=100;const itemCount=Math.floor(Math.random()*(capacity+1));return{tray:trayIndex+1,status:calculateStatus(itemCount,capacity),capacity,itemCount,lastUpdated:new Date().toISOString()};})}];return groupedTiers;});return{shelf:shelfIndex+1,tiers};});setShelvesData(initialData);// Thiết lập interval để cập nhật ngẫu nhiên\nconst interval=setInterval(()=>{setShelvesData(prevData=>{const newData=JSON.parse(JSON.stringify(prevData));// Chọn ngẫu nhiên một ô để cập nhật\nconst randomShelf=Math.floor(Math.random()*NUM_SHELVES);const randomTierGroup=Math.floor(Math.random()*(NUM_TIERS_PER_SHELF/2));const randomTierInGroup=Math.floor(Math.random()*2);const randomTray=Math.floor(Math.random()*NUM_TRAYS_PER_TIER);// Cập nhật thông tin của ô được chọn\nconst tray=newData[randomShelf].tiers[randomTierGroup][randomTierInGroup].trays[randomTray];const newItemCount=Math.floor(Math.random()*(tray.capacity+1));tray.itemCount=newItemCount;tray.status=calculateStatus(newItemCount,tray.capacity);tray.lastUpdated=new Date().toISOString();return newData;});setLastUpdated(new Date().toISOString());},3000);return()=>clearInterval(interval);},[]);// Tính toán thống kê mỗi khi dữ liệu thay đổi\nObject(react[\"useEffect\"])(()=>{const newStats={high:0,medium:0,empty:0};shelvesData.forEach(shelf=>{shelf.tiers.forEach(group=>{group.forEach(tier=>{tier.trays.forEach(tray=>{newStats[tray.status.toLowerCase()]++;});});});});setStats(newStats);},[shelvesData]);const handleTrayClick=(shelfIndex,tierInfo,trayIndex)=>{// Thêm check để tránh click vào khu vực không hợp lệ\nif(!tierInfo||!tierInfo.trays||!tierInfo.trays[trayIndex]){return;}const tray=tierInfo.trays[trayIndex];setSelectedShelf({shelf:shelfIndex+1,tier:tierInfo.tier,tray:tray.tray,status:tray.status,capacity:tray.capacity,itemCount:tray.itemCount,lastUpdated:tray.lastUpdated});};// Hàm kiểm tra một ô có phù hợp với bộ lọc hay không\nconst isItemMatchingFilters=(tierNumber,status)=>{const tierMatch=filters.tier==='all'||Number(filters.tier)===tierNumber;const statusMatch=filters.status==='all'||filters.status===status;return tierMatch&&statusMatch;};// Hàm kiểm tra một hàng (tier) có bất kỳ ô nào phù hợp với bộ lọc không\nconst hasTierMatchingItems=tier=>{return tier.trays.some(tray=>isItemMatchingFilters(tier.tier,tray.status));};const handleCloseDetail=()=>{setSelectedShelf(null);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"shelf-grid-wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_StatusBar_StatusBar,{stats:stats,lastUpdated:lastUpdated}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"shelf-grid-container\",children:shelvesData.map((shelf,shelfIndex)=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"shelf-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[\"K\\u1EC7 \",shelf.shelf]}),shelf.tiers.map((group,groupIndex)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"tier-row-group\",children:group.map(tier=>{const hasMatchingItems=hasTierMatchingItems(tier);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"tier-row \".concat(hasMatchingItems?'has-matching-items':'no-matching-items'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"tier-label\",children:[\"T\\u1EA7ng \",tier.tier]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"tray-container\",children:tier.trays.map((tray,trayIndex)=>{const isMatching=isItemMatchingFilters(tier.tier,tray.status);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"tray-cell \".concat(isMatching?'matching-filter':'not-matching-filter'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ShelfGrid_ShelfItem,{tier:tier.tier,tray:tray.tray,status:tray.status,onClick:()=>handleTrayClick(shelfIndex,tier,trayIndex),isFiltered:isMatching})},\"tray-\".concat(tier.tier,\"-\").concat(tray.tray));})})]},\"tier-\".concat(tier.tier));})},\"tier-group-\".concat(groupIndex)))]},\"shelf-\".concat(shelf.shelf)))}),selectedShelf&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ShelfDetail_ShelfDetail,{shelf:selectedShelf,onClose:handleCloseDetail})]});};/* harmony default export */ var components_ShelfGrid_ShelfGrid = (ShelfGrid_ShelfGrid);\n// CONCATENATED MODULE: ./src/utils/api.js\n// MOCK DATA & API ONLY - KHÔNG GỌI BACKEND NỮA\n// Giả lập danh sách người dùng\nconst users=[{id:1,username:'admin',password:'admin123',email:'admin@example.com'},{id:2,username:'user',password:'user123',email:'user@example.com'}];let currentUser=users[0];const auth={register:async userData=>{if(users.some(u=>u.username===userData.username||u.email===userData.email)){throw new Error('Username hoặc email đã tồn tại');}const newUser=Object(objectSpread2[\"a\" /* default */])({id:users.length+1},userData);users.push(newUser);return{message:'Đăng ký thành công',user:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},newUser),{},{password:undefined})};},login:async(username,password)=>{const user=users.find(u=>u.username===username&&u.password===password);if(!user){throw new Error('Tên đăng nhập hoặc mật khẩu không đúng');}currentUser=user;return{token:'mock-token',user:{id:user.id,username:user.username,email:user.email}};},getProfile:async()=>{if(!currentUser)throw new Error('Chưa đăng nhập');return{id:currentUser.id,username:currentUser.username,email:currentUser.email};}};// Giả lập dữ liệu kệ hàng\nfunction generateShelves(){const shelves=[];for(let shelfNum=1;shelfNum<=5;shelfNum++){// 5 kệ hàng\nfor(let tier=1;tier<=3;tier++){for(let tray=1;tray<=5;tray++){const capacity=Math.floor(Math.random()*101);let status;if(capacity>=80)status='HIGH';else if(capacity>=30)status='MEDIUM';else status='EMPTY';shelves.push({shelf:shelfNum,tier,tray,status,capacity,lastUpdated:new Date().toISOString()});}}}return shelves;}let api_shelvesData=generateShelves();const shelfAPI={fetchAll:async()=>{return api_shelvesData;},getStats:async()=>{const stats={high:0,medium:0,empty:0};api_shelvesData.forEach(shelf=>{stats[shelf.status.toLowerCase()]++;});return stats;},subscribeToUpdates:async onUpdate=>{// Giả lập cập nhật ngẫu nhiên mỗi 10s\nconst intervalId=setInterval(()=>{const idx=Math.floor(Math.random()*api_shelvesData.length);const shelf=api_shelvesData[idx];// Random capacity\nshelf.capacity=Math.floor(Math.random()*101);if(shelf.capacity>=80)shelf.status='HIGH';else if(shelf.capacity>=30)shelf.status='MEDIUM';else shelf.status='EMPTY';shelf.lastUpdated=new Date().toISOString();onUpdate(Object(objectSpread2[\"a\" /* default */])({},shelf));},10000);// Trả về hàm unsubscribe\nreturn()=>clearInterval(intervalId);},updateShelf:async(tier,tray,data)=>{// Tìm đúng kệ theo tier, tray và shelf (nếu có)\nconst idx=api_shelvesData.findIndex(s=>s.tier===tier&&s.tray===tray&&(data.shelf?s.shelf===data.shelf:true));if(idx===-1)throw new Error('Không tìm thấy kệ');api_shelvesData[idx]=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},api_shelvesData[idx]),data),{},{lastUpdated:new Date().toISOString()});return api_shelvesData[idx];}};const authAPI=auth;const api_shelf=shelfAPI;const api={auth,shelf:shelfAPI};\n// CONCATENATED MODULE: ./src/pages/Dashboard.js\n// File: Dashboard.js\n// Mô tả: Component React chính hiển thị dashboard quản lý kho hàng.\n// Chức năng: Quản lý trạng thái, lọc, thống kê, hiển thị lưới kệ, chi tiết kệ, và đồng bộ dữ liệu mock cho toàn bộ hệ thống.\nconst Dashboard_Dashboard=_ref=>{let{user,onLogout}=_ref;const[shelves,setShelves]=Object(react[\"useState\"])([]);const[filteredShelves,setFilteredShelves]=Object(react[\"useState\"])([]);const[selectedShelf,setSelectedShelf]=Object(react[\"useState\"])(null);const[filters,setFilters]=Object(react[\"useState\"])({tier:'all',status:'all'});const[loading,setLoading]=Object(react[\"useState\"])(true);const[error,setError]=Object(react[\"useState\"])(null);// Loại bỏ hàm calculateStats vì không cần thiết nữa\n// Áp dụng bộ lọc, an toàn với dữ liệu thiếu\nconst applyFilters=(shelfList,currentFilters)=>{return(Array.isArray(shelfList)?shelfList:[]).filter(shelf=>{const tierMatch=currentFilters.tier==='all'||String(shelf.tier)===String(currentFilters.tier);const statusMatch=currentFilters.status==='all'||shelf.status&&shelf.status===currentFilters.status;return tierMatch&&statusMatch;});};// Load dữ liệu ban đầu\nObject(react[\"useEffect\"])(()=>{let isMounted=true;const loadData=async()=>{try{setLoading(true);const data=await api_shelf.fetchAll();if(!isMounted)return;setShelves(data);const filtered=applyFilters(data,filters);setFilteredShelves(filtered);}catch(err){if(isMounted)setError(err.message);}finally{if(isMounted)setLoading(false);}};loadData();return()=>{isMounted=false;};},[filters]);// Subscribe to shelf updates (mock)\nObject(react[\"useEffect\"])(()=>{let unsub=null;const subscribe=async()=>{unsub=await api_shelf.subscribeToUpdates(update=>{setShelves(prevShelves=>{const newShelves=prevShelves.map(s=>s.tier===update.tier&&s.tray===update.tray?Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},s),update):s);const filtered=applyFilters(newShelves,filters);setFilteredShelves(filtered);return newShelves;});});};subscribe();return()=>{if(unsub)unsub();};},[filters]);// Xử lý thay đổi bộ lọc\nconst handleFilterChange=(type,value,newFilters)=>{// newFilters có thể được truyền từ FilterPanel, nếu không thì tự tạo\nconst nextFilters=newFilters||Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},filters),{},{[type]:value});setFilters(nextFilters);const filtered=applyFilters(shelves,nextFilters);setFilteredShelves(filtered);};if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading\",role:\"status\",children:\"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u...\"});}if(error){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"error\",role:\"alert\",children:[\"L\\u1ED7i: \",error]});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"dashboard-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"dashboard-title\",children:\"Warehouse Dashboard\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"user-info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"user-name\",children:(user===null||user===void 0?void 0:user.username)||'Admin'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"logout-button\",onClick:onLogout,children:\"\\u0110\\u0103ng xu\\u1EA5t\"})]})]}),\"      \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_FilterPanel_FilterPanel,{tiers:[...new Set(shelves.map(s=>s.tier))].sort(),statuses:['HIGH','MEDIUM','EMPTY'],filters:filters,onFilterChange:handleFilterChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ShelfGrid_ShelfGrid,{shelves:filteredShelves,onShelfClick:setSelectedShelf}),selectedShelf&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ShelfDetail_ShelfDetail,{shelf:selectedShelf,onClose:()=>setSelectedShelf(null)})]});};/* harmony default export */ var pages_Dashboard = (Dashboard_Dashboard);\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/login\",component:pages_Login}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ProtectedRoute_ProtectedRoute,{path:\"/dashboard\",component:pages_Dashboard}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/dashboard\"})})]})})});}/* harmony default export */ var src_App = (App);\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(35);\n\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[36,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\components\\ShelfGrid\\ShelfGrid.css","C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\components\\ProtectedRoute\\ProtectedRoute.css","C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\pages\\Login.css","C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\pages\\Dashboard.css","C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\components\\ShelfDetail\\ShelfDetail.css","C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\components\\StatusBar\\StatusBar.css","C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\components\\FilterPanel\\FilterPanel.css","C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\index.css","C:/Documents/warehouse-dashboard/src/context/AuthContext.js","C:/Documents/warehouse-dashboard/src/components/ProtectedRoute/ProtectedRoute.js","C:/Documents/warehouse-dashboard/src/pages/Login.js","C:/Documents/warehouse-dashboard/src/components/ShelfGrid/ShelfItem.js","C:/Documents/warehouse-dashboard/src/components/ShelfDetail/ShelfDetail.js","C:/Documents/warehouse-dashboard/src/components/StatusBar/StatusBar.js","C:/Documents/warehouse-dashboard/src/components/FilterPanel/FilterPanel.js","C:/Documents/warehouse-dashboard/src/components/ShelfGrid/ShelfGrid.js","C:/Documents/warehouse-dashboard/src/utils/api.js","C:/Documents/warehouse-dashboard/src/pages/Dashboard.js","C:/Documents/warehouse-dashboard/src/App.js","C:/Documents/warehouse-dashboard/src/index.js"],"names":["AuthContext","createContext","AuthProvider","_ref","children","user","setUser","useState","loading","setLoading","useEffect","savedUser","localStorage","getItem","JSON","parse","login","userData","setItem","stringify","logout","removeItem","_jsx","Provider","value","useAuth","context","useContext","Error","ProtectedRoute","component","Component","rest","_objectWithoutProperties","_excluded","_jsxs","className","Route","_objectSpread","render","props","Redirect","to","pathname","state","from","location","Login","username","setUsername","password","setPassword","error","setError","isLoading","setIsLoading","history","useHistory","useLocation","handleSubmit","e","preventDefault","role","replace","err","message","onSubmit","htmlFor","type","id","onChange","target","disabled","required","placeholder","ShelfItem","tier","tray","status","onClick","isFiltered","safeStatus","toLowerCase","statusLabels","high","medium","empty","filterClass","undefined","handleClick","stopPropagation","handleKeyPress","key","concat","onKeyPress","title","tabIndex","style","cursor","ShelfDetail","shelf","onClose","percentageFilled","useMemo","itemCount","capacity","formatStatus","statusMap","formatDateTime","dateString","date","Date","isNaN","getTime","Intl","DateTimeFormat","year","month","day","hour","minute","second","hour12","format","console","displayTier","parseInt","toFixed","lastUpdated","StatusBar","stats","safeStats","formatDate","d","_unused","totalTrays","FilterPanel","_statusDescriptions$f","_statusDescriptions$f2","_statusDescriptions$f3","onFilterChange","tiers","statuses","filters","shelfStats","statusDescriptions","HIGH","label","color","MEDIUM","EMPTY","sortedTiers","Set","sort","a","b","Number","handleFilterChange","filterType","newFilters","resetFilters","resetState","totalItems","Object","values","reduce","acc","curr","map","toString","borderLeft","_statusDescriptions$s","count","percentage","Math","round","paddingLeft","ShelfGrid","shelves","onShelfClick","NUM_SHELVES","NUM_TIERS_PER_SHELF","NUM_TRAYS_PER_TIER","selectedShelf","setSelectedShelf","setStats","setLastUpdated","toISOString","shelvesData","setShelvesData","setFilters","calculateStatus","initialData","Array","length","_","shelfIndex","groupIndex","groupedTiers","trays","trayIndex","floor","random","interval","setInterval","prevData","newData","randomShelf","randomTierGroup","randomTierInGroup","randomTray","newItemCount","clearInterval","newStats","forEach","group","handleTrayClick","tierInfo","isItemMatchingFilters","tierNumber","tierMatch","statusMatch","hasTierMatchingItems","some","handleCloseDetail","hasMatchingItems","isMatching","users","email","currentUser","auth","register","u","newUser","push","find","token","getProfile","generateShelves","shelfNum","shelfAPI","fetchAll","getStats","subscribeToUpdates","onUpdate","intervalId","idx","updateShelf","data","findIndex","s","authAPI","api","Dashboard","onLogout","setShelves","filteredShelves","setFilteredShelves","applyFilters","shelfList","currentFilters","isArray","filter","String","isMounted","loadData","filtered","unsub","subscribe","update","prevShelves","newShelves","nextFilters","App","Router","Switch","exact","path","ReactDOM","React","StrictMode","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst AuthContext = createContext(null);\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n    const [user, setUser] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const savedUser = localStorage.getItem('user');\r\n        if (savedUser) {\r\n            setUser(JSON.parse(savedUser));\r\n        }\r\n        setLoading(false);\r\n    }, []);\r\n\r\n    const login = async (userData) => {\r\n        setUser(userData);\r\n        localStorage.setItem('user', JSON.stringify(userData));\r\n    };\r\n\r\n    const logout = () => {\r\n        setUser(null);\r\n        localStorage.removeItem('user');\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user, login, logout, loading }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useAuth = () => {\r\n    const context = useContext(AuthContext);\r\n    if (!context) {\r\n        throw new Error('useAuth must be used within an AuthProvider');\r\n    }\r\n    return context;\r\n};","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext';\nimport './ProtectedRoute.css';\n\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\n    const { user, loading } = useAuth();\n\n    if (loading) {\n        return (\n            <div className=\"loading-container\">\n                <div className=\"loading-spinner\"></div>\n                <p>Đang tải...</p>\n            </div>\n        );\n    }\n\n    return (\n        <Route\n            {...rest}\n            render={props => \n                user ? (\n                    <Component {...props} />\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: \"/login\",\n                            state: { from: props.location }\n                        }}\n                    />\n                )\n            }\n        />\n    );\n};\n\nexport default ProtectedRoute;","import React, { useState } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport './Login.css';\r\n\r\nconst Login = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const { login } = useAuth();\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            if (!username || !password) {\r\n                throw new Error('Vui lòng nhập đầy đủ thông tin');\r\n            }\r\n\r\n            if (username === 'admin' && password === 'admin123') {\r\n                await login({ username, role: 'admin' });\r\n                const { from } = location.state || { from: { pathname: \"/dashboard\" } };\r\n                history.replace(from);\r\n            } else {\r\n                throw new Error('Thông tin đăng nhập không chính xác');\r\n            }\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"login-container\">\r\n            <h2>Đăng Nhập Hệ Thống</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"username\">Tên đăng nhập:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"username\"\r\n                        value={username}\r\n                        onChange={(e) => setUsername(e.target.value)}\r\n                        disabled={isLoading}\r\n                        required\r\n                        placeholder=\"Nhập tên đăng nhập\"\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Mật khẩu:</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                        disabled={isLoading}\r\n                        required\r\n                        placeholder=\"Nhập mật khẩu\"\r\n                    />\r\n                </div>\r\n                {error && <div className=\"error-message\">{error}</div>}\r\n                <button type=\"submit\" disabled={isLoading}>\r\n                    {isLoading ? 'Đang xử lý...' : 'Đăng Nhập'}\r\n                </button>\r\n            </form>\r\n            <div className=\"login-note\">\r\n                <p>Tài khoản mặc định: admin / admin123</p>\r\n                <p>Lưu ý: Chỉ dành cho mục đích kiểm thử</p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","// File: ShelfItem.js\n// Mô tả: Component React hiển thị một kệ hàng đơn lẻ trong lưới kệ của dashboard quản lý kho.\n// Chức năng: Hiển thị trạng thái, vị trí kệ, màu sắc và cho phép chọn để xem chi tiết.\nimport React from 'react';\nimport './ShelfGrid.css';\n\nconst ShelfItem = ({ tier, tray, status, onClick, isFiltered }) => {\n  // Đảm bảo status luôn là chuỗi hợp lệ và chữ thường\n  const safeStatus = (status || 'empty').toLowerCase();\n\n  // Tooltip chi tiết hơn\n  const statusLabels = {\n    high: 'Kệ chứa nhiều',\n    medium: 'Kệ chứa vừa phải',\n    empty: 'Kệ trống'\n  };\n\n  // Thêm class dựa trên trạng thái lọc\n  const filterClass = isFiltered !== undefined \n    ? (isFiltered ? 'filtered-in' : 'filtered-out')\n    : '';\n\n  // Thêm hàm xử lý sự kiện riêng để đảm bảo click hoạt động\n  const handleClick = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (onClick) onClick();\n  };\n\n  // Thêm hàm xử lý phím để đảm bảo accessibility\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      if (onClick) onClick();\n    }\n  };\n\n  return (\n    <div\n      className={`shelf-item ${safeStatus} ${filterClass}`}\n      onClick={handleClick}\n      onKeyPress={handleKeyPress}\n      title={`Tầng ${tier} - Khay ${tray} | ${statusLabels[safeStatus]}`}\n      tabIndex={0}\n      role=\"button\"\n      aria-label={`Kệ tầng ${tier} khay ${tray} trạng thái ${statusLabels[safeStatus]}`}\n      style={{ cursor: onClick ? 'pointer' : 'default' }}\n    >\n      <span className=\"shelf-label\">{tier}-{tray}</span>\n    </div>\n  );\n};\n\nexport default ShelfItem;","/**\n * File: ShelfDetail.js\n * Mô tả: Component hiển thị chi tiết thông tin một kệ hàng trong dashboard quản lý kho.\n * Chức năng: \n * - Hiển thị thông tin chi tiết của kệ hàng được chọn (tầng, khay, trạng thái)\n * - Hiển thị số lượng hiện tại, sức chứa và phần trăm đã sử dụng\n * - Hiển thị thời gian cập nhật thông tin gần nhất\n * - Cung cấp nút đóng để quay lại giao diện tổng quan\n * - Hỗ trợ accessibility với ARIA attributes\n */\nimport React, { useMemo } from 'react';\nimport './ShelfDetail.css';\n\nconst ShelfDetail = ({ shelf, onClose }) => {\n    // Đảm bảo useMemo luôn được gọi\n    const percentageFilled = useMemo(() => {\n        if (!shelf) return 0; // Trả về 0 nếu shelf không tồn tại\n        const itemCount = shelf.itemCount || 0;\n        const capacity = shelf.capacity || 1; // Tránh chia cho 0\n        return (itemCount / capacity) * 100;\n    }, [shelf]);\n\n    // Di chuyển điều kiện kiểm tra xuống dưới\n    if (!shelf) return null;\n\n    // Chuyển đổi trạng thái sang định dạng hiển thị dễ đọc\n    const formatStatus = (status) => {\n        if (!status) return '';\n        const statusMap = {\n            'HIGH': 'Đầy',\n            'MEDIUM': 'Còn trống một phần',\n            'EMPTY': 'Trống'\n        };\n        return statusMap[status] || status;\n    };\n\n    // Định dạng thời gian\n    const formatDateTime = (dateString) => {\n        if (!dateString) return '';\n        try {\n            const date = new Date(dateString);\n            if (isNaN(date.getTime())) return '';\n            \n            return new Intl.DateTimeFormat('vi-VN', {\n                year: 'numeric',\n                month: 'numeric',\n                day: 'numeric',\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                hour12: false\n            }).format(date);\n        } catch (error) {\n            console.error('Lỗi khi định dạng ngày:', error);\n            return '';\n        }\n    };\n\n    // Đảm bảo tier là số nguyên\n    const displayTier = typeof shelf.tier === 'string' ? parseInt(shelf.tier, 10) : shelf.tier;\n\n    return (\n        <div className=\"shelf-detail\" role=\"dialog\" aria-labelledby=\"shelf-detail-title\">\n            <div className=\"shelf-detail-header\">\n                <h3 id=\"shelf-detail-title\">Chi tiết kệ hàng</h3>\n                <button \n                    onClick={onClose} \n                    className=\"close-button\"\n                    aria-label=\"Đóng chi tiết\"\n                >&times;</button>\n            </div>\n            <div className=\"shelf-detail-content\">\n                <div className=\"detail-row\">\n                    <span className=\"label\">Tầng:</span>\n                    <span className=\"value\">{displayTier}</span>\n                </div>\n                <div className=\"detail-row\">\n                    <span className=\"label\">Khay:</span>\n                    <span className=\"value\">{shelf.tray}</span>\n                </div>\n                <div className=\"detail-row\">\n                    <span className=\"label\">Số lượng:</span>\n                    <span className=\"value\">\n                        {shelf.itemCount || 0} / {shelf.capacity || 0} ({percentageFilled.toFixed(1)}%)\n                    </span>\n                </div>\n                <div className=\"detail-row\">\n                    <span className=\"label\">Trạng thái:</span>\n                    <span className={`value status-${(shelf.status || '').toLowerCase()}`}>\n                        {formatStatus(shelf.status)}\n                    </span>\n                </div>\n                {shelf.lastUpdated && (\n                    <div className=\"detail-row\">\n                        <span className=\"label\">Cập nhật lần cuối:</span>\n                        <span className=\"value\">{formatDateTime(shelf.lastUpdated)}</span>\n                    </div>\n                )}\n                {shelf.capacity !== undefined && (\n                    <div className=\"detail-row\">\n                        <span className=\"label\">Sức chứa:</span>\n                        <span className=\"value\">{shelf.capacity}</span>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default ShelfDetail;\n","// File: StatusBar.js\n// Mô tả: Component React hiển thị thanh trạng thái tổng quan các kệ hàng trong dashboard quản lý kho.\n// Chức năng: Hiển thị số lượng kệ theo từng trạng thái (đầy, còn trống, trống hoàn toàn) và thời gian cập nhật gần nhất.\nimport React from 'react';\nimport './StatusBar.css';\n\nconst StatusBar = ({ stats = {}, lastUpdated }) => {\n  // Đảm bảo stats luôn có đủ các trường\n  const safeStats = {\n    high: typeof stats.high === 'number' ? stats.high : 0,\n    medium: typeof stats.medium === 'number' ? stats.medium : 0,\n    empty: typeof stats.empty === 'number' ? stats.empty : 0,\n  };\n\n  // Định dạng ngày giờ cập nhật\n  const formatDate = (date) => {\n    if (!date) return '---';\n    try {\n      const d = typeof date === 'string' ? new Date(date) : date;\n      if (isNaN(d)) return '---';\n      \n      return new Intl.DateTimeFormat('vi-VN', {\n        year: 'numeric',\n        month: 'numeric',\n        day: 'numeric',\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: false\n      }).format(d);\n    } catch {\n      return '---';\n    }\n  };\n\n  // Tính tổng số ô\n  const totalTrays = safeStats.high + safeStats.medium + safeStats.empty;\n\n  return (\n    <div className=\"status-bar\" role=\"status\" aria-label=\"Thống kê trạng thái kệ hàng\">\n      <div className=\"status-bar-items\">\n        <div className=\"stat-item\" title=\"Số ô đang chứa nhiều\">\n          <div className=\"stat-content\">\n            <span className=\"dot high-dot\" aria-label=\"Ô chứa nhiều\"></span>\n            <span className=\"stat-label\">HIGH:</span>\n            <span className=\"stat-value\">{safeStats.high}</span>\n          </div>\n          <div className=\"stat-percentage\">\n            {totalTrays ? ((safeStats.high / totalTrays) * 100).toFixed(1) : 0}%\n          </div>\n        </div>\n\n        <div className=\"stat-item\" title=\"Số ô đang chứa vừa phải\">\n          <div className=\"stat-content\">\n            <span className=\"dot medium-dot\" aria-label=\"Ô chứa vừa phải\"></span>\n            <span className=\"stat-label\">MEDIUM:</span>\n            <span className=\"stat-value\">{safeStats.medium}</span>\n          </div>\n          <div className=\"stat-percentage\">\n            {totalTrays ? ((safeStats.medium / totalTrays) * 100).toFixed(1) : 0}%\n          </div>\n        </div>\n\n        <div className=\"stat-item\" title=\"Số ô đang trống\">\n          <div className=\"stat-content\">\n            <span className=\"dot empty-dot\" aria-label=\"Ô trống\"></span>\n            <span className=\"stat-label\">EMPTY:</span>\n            <span className=\"stat-value\">{safeStats.empty}</span>\n          </div>\n          <div className=\"stat-percentage\">\n            {totalTrays ? ((safeStats.empty / totalTrays) * 100).toFixed(1) : 0}%\n          </div>\n        </div>\n      </div>\n\n      <div className=\"last-updated\" title=\"Thời gian cập nhật thống kê\">\n        Cập nhật: {formatDate(lastUpdated)}\n      </div>\n    </div>\n  );\n};\n\nexport default StatusBar;","// File: FilterPanel.js\n// Mô tả: Component React hiển thị và xử lý bộ lọc (filter) cho dashboard quản lý kho hàng.\n// Chức năng: Cho phép người dùng lọc dữ liệu kệ hàng theo tầng và trạng thái, đồng bộ với dashboard.\nimport React, { useMemo } from 'react';\nimport './FilterPanel.css';\n\nconst FilterPanel = ({\n  onFilterChange,\n  tiers = [],\n  statuses = ['HIGH', 'MEDIUM', 'EMPTY'],\n  filters,\n  shelfStats\n}) => {\n  // Mapping trạng thái với mô tả và màu sắc\n  const statusDescriptions = {\n    HIGH: { label: 'Kệ đầy', color: '#22c55e' },\n    MEDIUM: { label: 'Kệ còn trống một phần', color: '#f59e0b' },\n    EMPTY: { label: 'Kệ trống hoàn toàn', color: '#ef4444' },\n  };\n\n  // Sắp xếp danh sách tầng\n  const sortedTiers = useMemo(() => {\n    return [...new Set(tiers)].sort((a, b) => Number(a) - Number(b));\n  }, [tiers]);\n\n  // Xử lý thay đổi bộ lọc\n  const handleFilterChange = (filterType, value) => {\n    const newFilters = {\n      ...filters,\n      [filterType]: value,\n    };\n    onFilterChange(filterType, value, newFilters);\n  };\n\n  // Reset tất cả bộ lọc\n  const resetFilters = () => {\n    const resetState = {\n      tier: 'all',\n      status: 'all',\n    };\n    onFilterChange('reset', null, resetState);\n  };\n\n  // Tính tổng số lượng cho mỗi trạng thái\n  const totalItems = useMemo(() => {\n    return Object.values(shelfStats || {}).reduce((acc, curr) => acc + (curr || 0), 0);\n  }, [shelfStats]);\n\n  return (\n    <div className=\"filter-panel\">\n      <div className=\"filter-header\">\n        <h3>Bộ lọc</h3>\n        <button\n          className=\"reset-button\"\n          onClick={resetFilters}\n          disabled={filters.tier === 'all' && filters.status === 'all'}\n          title=\"Đặt lại tất cả bộ lọc\"\n        >\n          Đặt lại\n        </button>\n      </div>\n\n      <div className=\"filter-group\">\n        <label htmlFor=\"tier-select\">Chọn tầng:</label>\n        <select\n          id=\"tier-select\"\n          value={filters.tier}\n          onChange={(e) => handleFilterChange('tier', e.target.value)}\n        >\n          <option value=\"all\">Tất cả các tầng</option>\n          {sortedTiers.map((tier) => (\n            <option key={tier} value={tier.toString()}>\n              Tầng {tier}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"filter-group\">\n        <label htmlFor=\"status-select\">Trạng thái kệ:</label>\n        <select\n          id=\"status-select\"\n          value={filters.status}\n          onChange={(e) => handleFilterChange('status', e.target.value)}\n          style={{\n            borderLeft: filters.status !== 'all' ? `4px solid ${statusDescriptions[filters.status]?.color || 'transparent'}` : 'none'\n          }}\n        >\n          <option value=\"all\">Tất cả trạng thái</option>\n          {statuses.map((status) => {\n            const count = shelfStats?.[status.toLowerCase()] || 0;\n            const percentage = totalItems > 0 ? Math.round((count / totalItems) * 100) : 0;\n            \n            return (\n              <option \n                key={status} \n                value={status}\n                className={`status-option status-${status.toLowerCase()}`}\n              >\n                {statusDescriptions[status]?.label || status}\n                {` (${count} - ${percentage}%)`}\n              </option>\n            );\n          })}\n        </select>\n      </div>\n\n      {/* Hiển thị các bộ lọc đang áp dụng */}\n      <div className=\"active-filters\">\n        {(filters.tier !== 'all' || filters.status !== 'all') && (\n          <div className=\"filter-tags\">\n            <span>Đang lọc theo: </span>\n            {filters.tier !== 'all' && (\n              <span className=\"filter-tag\">\n                Tầng {filters.tier}\n                <button \n                  onClick={() => handleFilterChange('tier', 'all')} \n                  aria-label=\"Xóa bộ lọc tầng\"\n                  title=\"Xóa bộ lọc tầng\"\n                >×</button>\n              </span>\n            )}\n            {filters.status !== 'all' && (\n              <span \n                className=\"filter-tag\"\n                style={{ \n                  borderLeft: `4px solid ${statusDescriptions[filters.status]?.color || 'transparent'}`,\n                  paddingLeft: '8px'\n                }}\n              >\n                {statusDescriptions[filters.status]?.label || filters.status}\n                <button \n                  onClick={() => handleFilterChange('status', 'all')} \n                  aria-label=\"Xóa bộ lọc trạng thái\"\n                  title=\"Xóa bộ lọc trạng thái\"\n                >×</button>\n              </span>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default FilterPanel;\n","// File: ShelfGrid.js\n// Mô tả: Component React hiển thị lưới các kệ hàng trong dashboard quản lý kho.\n// Chức năng: Hiển thị danh sách kệ hàng theo tầng và khay, cho phép chọn từng kệ để xem chi tiết.\nimport React, { useState, useEffect } from 'react';\nimport './ShelfGrid.css';\nimport ShelfItem from './ShelfItem';\nimport ShelfDetail from '../ShelfDetail/ShelfDetail';\nimport StatusBar from '../StatusBar/StatusBar';\nimport FilterPanel from '../FilterPanel/FilterPanel';\n\nconst ShelfGrid = ({ shelves, onShelfClick }) => {\n  const NUM_SHELVES = 4; // Số lượng kệ đồ\n  const NUM_TIERS_PER_SHELF = 4; // Số tầng mỗi kệ\n  const NUM_TRAYS_PER_TIER = 6; // Số ô mỗi tầng\n\n  const [selectedShelf, setSelectedShelf] = useState(null);\n  const [stats, setStats] = useState({ high: 0, medium: 0, empty: 0 });\n  const [lastUpdated, setLastUpdated] = useState(new Date().toISOString());\n  const [shelvesData, setShelvesData] = useState([]);\n  const [filters, setFilters] = useState({\n    tier: 'all',\n    status: 'all'\n  });\n\n  // Hàm tính toán trạng thái dựa trên số lượng vật phẩm và sức chứa\n  const calculateStatus = (itemCount, capacity) => {\n    const percentage = (itemCount / capacity) * 100;\n    if (percentage >= 80) return 'HIGH';\n    if (percentage >= 15) return 'MEDIUM';\n    if (percentage >=0) return 'EMPTY';\n  };\n\n  // Khởi tạo dữ liệu ban đầu và thiết lập interval cập nhật\n  useEffect(() => {\n    // Tạo dữ liệu mẫu ban đầu\n    const initialData = Array.from({ length: NUM_SHELVES }, (_, shelfIndex) => {\n      const tiers = Array.from({ length: NUM_TIERS_PER_SHELF / 2 }, (_, groupIndex) => {\n        const groupedTiers = [\n          { \n            tier: groupIndex * 2 + 1, \n            trays: Array.from({ length: NUM_TRAYS_PER_TIER }, (_, trayIndex) => {\n              const capacity = 100;\n              const itemCount = Math.floor(Math.random() * (capacity + 1));\n              return {\n                tray: trayIndex + 1,\n                status: calculateStatus(itemCount, capacity),\n                capacity,\n                itemCount,\n                lastUpdated: new Date().toISOString()\n              };\n            })\n          },\n          { \n            tier: groupIndex * 2 + 2, \n            trays: Array.from({ length: NUM_TRAYS_PER_TIER }, (_, trayIndex) => {\n              const capacity = 100;\n              const itemCount = Math.floor(Math.random() * (capacity + 1));\n              return {\n                tray: trayIndex + 1,\n                status: calculateStatus(itemCount, capacity),\n                capacity,\n                itemCount,\n                lastUpdated: new Date().toISOString()\n              };\n            })\n          }\n        ];\n        return groupedTiers;\n      });\n      return { shelf: shelfIndex + 1, tiers };\n    });\n\n    setShelvesData(initialData);\n\n    // Thiết lập interval để cập nhật ngẫu nhiên\n    const interval = setInterval(() => {\n      setShelvesData(prevData => {\n        const newData = JSON.parse(JSON.stringify(prevData));\n        \n        // Chọn ngẫu nhiên một ô để cập nhật\n        const randomShelf = Math.floor(Math.random() * NUM_SHELVES);\n        const randomTierGroup = Math.floor(Math.random() * (NUM_TIERS_PER_SHELF / 2));\n        const randomTierInGroup = Math.floor(Math.random() * 2);\n        const randomTray = Math.floor(Math.random() * NUM_TRAYS_PER_TIER);\n        \n        // Cập nhật thông tin của ô được chọn\n        const tray = newData[randomShelf].tiers[randomTierGroup][randomTierInGroup].trays[randomTray];\n        const newItemCount = Math.floor(Math.random() * (tray.capacity + 1));\n        tray.itemCount = newItemCount;\n        tray.status = calculateStatus(newItemCount, tray.capacity);\n        tray.lastUpdated = new Date().toISOString();\n        \n        return newData;\n      });\n      setLastUpdated(new Date().toISOString());\n    }, 3000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  // Tính toán thống kê mỗi khi dữ liệu thay đổi\n  useEffect(() => {\n    const newStats = { high: 0, medium: 0, empty: 0 };\n    \n    shelvesData.forEach(shelf => {\n      shelf.tiers.forEach(group => {\n        group.forEach(tier => {\n          tier.trays.forEach(tray => {\n            newStats[tray.status.toLowerCase()]++;\n          });\n        });\n      });\n    });\n    \n    setStats(newStats);\n  }, [shelvesData]);\n\n  const handleTrayClick = (shelfIndex, tierInfo, trayIndex) => {\n    // Thêm check để tránh click vào khu vực không hợp lệ\n    if (!tierInfo || !tierInfo.trays || !tierInfo.trays[trayIndex]) {\n      return;\n    }\n  \n    const tray = tierInfo.trays[trayIndex];\n    \n    setSelectedShelf({\n      shelf: shelfIndex + 1,\n      tier: tierInfo.tier,\n      tray: tray.tray,\n      status: tray.status,\n      capacity: tray.capacity,\n      itemCount: tray.itemCount,\n      lastUpdated: tray.lastUpdated\n    });\n  };\n\n  // Hàm kiểm tra một ô có phù hợp với bộ lọc hay không\n  const isItemMatchingFilters = (tierNumber, status) => {\n    const tierMatch = filters.tier === 'all' || Number(filters.tier) === tierNumber;\n    const statusMatch = filters.status === 'all' || filters.status === status;\n    return tierMatch && statusMatch;\n  };\n\n  // Hàm kiểm tra một hàng (tier) có bất kỳ ô nào phù hợp với bộ lọc không\n  const hasTierMatchingItems = (tier) => {\n    return tier.trays.some(tray => isItemMatchingFilters(tier.tier, tray.status));\n  };\n\n  const handleCloseDetail = () => {\n    setSelectedShelf(null);\n  };\n\n  return (\n    <div className=\"shelf-grid-wrapper\">\n      <StatusBar stats={stats} lastUpdated={lastUpdated} />\n      <div className=\"shelf-grid-container\">\n        {shelvesData.map((shelf, shelfIndex) => (\n          <div key={`shelf-${shelf.shelf}`} className=\"shelf-grid\">\n            <h3>Kệ {shelf.shelf}</h3>\n            {shelf.tiers.map((group, groupIndex) => (\n              <div key={`tier-group-${groupIndex}`} className=\"tier-row-group\">\n                {group.map((tier) => {\n                  const hasMatchingItems = hasTierMatchingItems(tier);\n                  return (\n                    <div \n                      key={`tier-${tier.tier}`} \n                      className={`tier-row ${hasMatchingItems ? 'has-matching-items' : 'no-matching-items'}`}\n                    >\n                      <div className=\"tier-label\">Tầng {tier.tier}</div>\n                      <div className=\"tray-container\">\n                        {tier.trays.map((tray, trayIndex) => {\n                          const isMatching = isItemMatchingFilters(tier.tier, tray.status);\n                          return (\n                            <div \n                              key={`tray-${tier.tier}-${tray.tray}`} \n                              className={`tray-cell ${isMatching ? 'matching-filter' : 'not-matching-filter'}`}\n                            >\n                              <ShelfItem\n                                tier={tier.tier}\n                                tray={tray.tray}\n                                status={tray.status}\n                                onClick={() => handleTrayClick(shelfIndex, tier, trayIndex)}\n                                isFiltered={isMatching}\n                              />\n                            </div>\n                          );\n                        })}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            ))}\n          </div>\n        ))}\n      </div>\n      {selectedShelf && (\n        <ShelfDetail\n          shelf={selectedShelf}\n          onClose={handleCloseDetail}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ShelfGrid;","\r\n// MOCK DATA & API ONLY - KHÔNG GỌI BACKEND NỮA\r\n\r\n// Giả lập danh sách người dùng\r\nconst users = [\r\n  { id: 1, username: 'admin', password: 'admin123', email: 'admin@example.com' },\r\n  { id: 2, username: 'user', password: 'user123', email: 'user@example.com' }\r\n];\r\n\r\nlet currentUser = users[0];\r\n\r\nconst auth = {\r\n  register: async (userData) => {\r\n    if (users.some(u => u.username === userData.username || u.email === userData.email)) {\r\n      throw new Error('Username hoặc email đã tồn tại');\r\n    }\r\n    const newUser = {\r\n      id: users.length + 1,\r\n      ...userData\r\n    };\r\n    users.push(newUser);\r\n    return { message: 'Đăng ký thành công', user: { ...newUser, password: undefined } };\r\n  },\r\n  login: async (username, password) => {\r\n    const user = users.find(u => u.username === username && u.password === password);\r\n    if (!user) {\r\n      throw new Error('Tên đăng nhập hoặc mật khẩu không đúng');\r\n    }\r\n    currentUser = user;\r\n    return {\r\n      token: 'mock-token',\r\n      user: { id: user.id, username: user.username, email: user.email }\r\n    };\r\n  },\r\n  getProfile: async () => {\r\n    if (!currentUser) throw new Error('Chưa đăng nhập');\r\n    return { id: currentUser.id, username: currentUser.username, email: currentUser.email };\r\n  }\r\n};\r\n\r\n// Giả lập dữ liệu kệ hàng\r\nfunction generateShelves() {\r\n  const shelves = [];\r\n  for (let shelfNum = 1; shelfNum <= 5; shelfNum++) { // 5 kệ hàng\r\n    for (let tier = 1; tier <= 3; tier++) {\r\n      for (let tray = 1; tray <= 5; tray++) {\r\n        const capacity = Math.floor(Math.random() * 101);\r\n        let status;\r\n        if (capacity >= 80) status = 'HIGH';\r\n        else if (capacity >= 30) status = 'MEDIUM';\r\n        else status = 'EMPTY';\r\n        shelves.push({\r\n          shelf: shelfNum,\r\n          tier,\r\n          tray,\r\n          status,\r\n          capacity,\r\n          lastUpdated: new Date().toISOString()\r\n        });\r\n      }\r\n    }\r\n  }\r\n  return shelves;\r\n}\r\n\r\nlet shelvesData = generateShelves();\r\n\r\nconst shelfAPI = {\r\n  fetchAll: async () => {\r\n    return shelvesData;\r\n  },\r\n  getStats: async () => {\r\n    const stats = { high: 0, medium: 0, empty: 0 };\r\n    shelvesData.forEach(shelf => {\r\n      stats[shelf.status.toLowerCase()]++;\r\n    });\r\n    return stats;\r\n  },\r\n  subscribeToUpdates: async (onUpdate) => {\r\n    // Giả lập cập nhật ngẫu nhiên mỗi 10s\r\n    const intervalId = setInterval(() => {\r\n      const idx = Math.floor(Math.random() * shelvesData.length);\r\n      const shelf = shelvesData[idx];\r\n      // Random capacity\r\n      shelf.capacity = Math.floor(Math.random() * 101);\r\n      if (shelf.capacity >= 80) shelf.status = 'HIGH';\r\n      else if (shelf.capacity >= 30) shelf.status = 'MEDIUM';\r\n      else shelf.status = 'EMPTY';\r\n      shelf.lastUpdated = new Date().toISOString();\r\n      onUpdate({ ...shelf });\r\n    }, 10000);\r\n    // Trả về hàm unsubscribe\r\n    return () => clearInterval(intervalId);\r\n  },\r\n  updateShelf: async (tier, tray, data) => {\r\n    // Tìm đúng kệ theo tier, tray và shelf (nếu có)\r\n    const idx = shelvesData.findIndex(s => s.tier === tier && s.tray === tray && (data.shelf ? s.shelf === data.shelf : true));\r\n    if (idx === -1) throw new Error('Không tìm thấy kệ');\r\n    shelvesData[idx] = {\r\n      ...shelvesData[idx],\r\n      ...data,\r\n      lastUpdated: new Date().toISOString()\r\n    };\r\n    return shelvesData[idx];\r\n  }\r\n};\r\n\r\nexport const authAPI = auth;\r\nexport const shelf = shelfAPI;\r\nexport const api = { auth, shelf: shelfAPI };","// File: Dashboard.js\n// Mô tả: Component React chính hiển thị dashboard quản lý kho hàng.\n// Chức năng: Quản lý trạng thái, lọc, thống kê, hiển thị lưới kệ, chi tiết kệ, và đồng bộ dữ liệu mock cho toàn bộ hệ thống.\nimport React, { useState, useEffect } from 'react';\nimport './Dashboard.css';\nimport ShelfGrid from '../components/ShelfGrid/ShelfGrid';\nimport FilterPanel from '../components/FilterPanel/FilterPanel';\nimport ShelfDetail from '../components/ShelfDetail/ShelfDetail';\nimport { shelf } from '../utils/api';\n\nconst Dashboard = ({ user, onLogout }) => {\n  const [shelves, setShelves] = useState([]);\n  const [filteredShelves, setFilteredShelves] = useState([]);\n  const [selectedShelf, setSelectedShelf] = useState(null);  const [filters, setFilters] = useState({ tier: 'all', status: 'all' });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Loại bỏ hàm calculateStats vì không cần thiết nữa\n\n\n  // Áp dụng bộ lọc, an toàn với dữ liệu thiếu\n  const applyFilters = (shelfList, currentFilters) => {\n    return (Array.isArray(shelfList) ? shelfList : []).filter(shelf => {\n      const tierMatch = currentFilters.tier === 'all' || String(shelf.tier) === String(currentFilters.tier);\n      const statusMatch = currentFilters.status === 'all' || (shelf.status && shelf.status === currentFilters.status);\n      return tierMatch && statusMatch;\n    });\n  };\n\n  // Load dữ liệu ban đầu\n  useEffect(() => {\n    let isMounted = true;\n    const loadData = async () => {\n      try {\n        setLoading(true);\n        const data = await shelf.fetchAll();\n        if (!isMounted) return;        setShelves(data);\n        const filtered = applyFilters(data, filters);\n        setFilteredShelves(filtered);\n      } catch (err) {\n        if (isMounted) setError(err.message);\n      } finally {\n        if (isMounted) setLoading(false);\n      }\n    };\n    loadData();\n    return () => { isMounted = false; };\n  }, [filters]);\n\n\n  // Subscribe to shelf updates (mock)\n  useEffect(() => {\n    let unsub = null;\n    const subscribe = async () => {\n      unsub = await shelf.subscribeToUpdates((update) => {\n        setShelves(prevShelves => {\n          const newShelves = prevShelves.map(s =>\n            s.tier === update.tier && s.tray === update.tray\n              ? { ...s, ...update }\n              : s          );\n          const filtered = applyFilters(newShelves, filters);\n          setFilteredShelves(filtered);\n          return newShelves;\n        });\n      });\n    };\n    subscribe();\n    return () => { if (unsub) unsub(); };\n  }, [filters]);\n\n\n  // Xử lý thay đổi bộ lọc\n  const handleFilterChange = (type, value, newFilters) => {\n    // newFilters có thể được truyền từ FilterPanel, nếu không thì tự tạo\n    const nextFilters = newFilters || { ...filters, [type]: value };\n    setFilters(nextFilters);\n    const filtered = applyFilters(shelves, nextFilters);\n    setFilteredShelves(filtered);\n  };\n\n\n  if (loading) {\n    return <div className=\"loading\" role=\"status\">Đang tải dữ liệu...</div>;\n  }\n\n  if (error) {\n    return <div className=\"error\" role=\"alert\">Lỗi: {error}</div>;\n  }\n\n  return (\n    <div className=\"dashboard\">\n      <div className=\"dashboard-header\">\n        <h1 className=\"dashboard-title\">Warehouse Dashboard</h1>\n        <div className=\"user-info\">\n          <span className=\"user-name\">{user?.username || 'Admin'}</span>\n          <button className=\"logout-button\" onClick={onLogout}>\n            Đăng xuất\n          </button>\n        </div>\n      </div>      <FilterPanel \n        tiers={[...new Set(shelves.map(s => s.tier))].sort()}        statuses={['HIGH', 'MEDIUM', 'EMPTY']}\n        filters={filters}\n        onFilterChange={handleFilterChange}\n      />\n      \n      <ShelfGrid \n        shelves={filteredShelves}\n        onShelfClick={setSelectedShelf}\n      />\n      \n      {selectedShelf && (\n        <ShelfDetail \n          shelf={selectedShelf}\n          onClose={() => setSelectedShelf(null)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\r\nimport { AuthProvider } from './context/AuthContext';\r\nimport ProtectedRoute from './components/ProtectedRoute/ProtectedRoute';\r\nimport Login from './pages/Login';\r\nimport Dashboard from './pages/Dashboard';\r\n\r\nfunction App() {\r\n    return (\r\n        <AuthProvider>\r\n            <Router>\r\n                <Switch>\r\n                    <Route exact path=\"/login\" component={Login} />\r\n                    <ProtectedRoute path=\"/dashboard\" component={Dashboard} />\r\n                    <Route exact path=\"/\">\r\n                        <Redirect to=\"/dashboard\" />\r\n                    </Route>\r\n                </Switch>\r\n            </Router>\r\n        </AuthProvider>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"]}}