{"code":"(this[\"webpackJsonpwarehouse-dashboard\"]=this[\"webpackJsonpwarehouse-dashboard\"]||[]).push([[0],[,,,,,,,,,,,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},,function(t,e,a){},,,,,,,,function(t,e,a){},,function(t,e,a){},,,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){\"use strict\";a.r(e);var s=a(1),c=a.n(s),r=a(19),n=a.n(r),l=(a(14),a(15),a(16),a(26),a(9)),i=a(3),o=a(0);const d=Object(s.createContext)(null),h=t=>{let{children:e}=t;const[a,c]=Object(s.useState)(null),[r,n]=Object(s.useState)(!0);Object(s.useEffect)((()=>{const t=localStorage.getItem(\"user\");t&&c(JSON.parse(t)),n(!1)}),[]);return Object(o.jsx)(d.Provider,{value:{user:a,login:async t=>{c(t),localStorage.setItem(\"user\",JSON.stringify(t))},logout:()=>{c(null),localStorage.removeItem(\"user\")},loading:r},children:e})},u=()=>{const t=Object(s.useContext)(d);if(!t)throw new Error(\"useAuth must be used within an AuthProvider\");return t};var j=a(2),b=a(20);a(28);const m=[\"component\"];var O=t=>{let{component:e}=t,a=Object(b.a)(t,m);const{user:s,loading:c}=u();return c?Object(o.jsxs)(\"div\",{className:\"loading-container\",children:[Object(o.jsx)(\"div\",{className:\"loading-spinner\"}),Object(o.jsx)(\"p\",{children:\"\\u0110ang t\\u1ea3i...\"})]}):Object(o.jsx)(i.b,Object(j.a)(Object(j.a)({},a),{},{render:t=>s?Object(o.jsx)(e,Object(j.a)({},t)):Object(o.jsx)(i.a,{to:{pathname:\"/login\",state:{from:t.location}}})}))};a(34);var p=()=>{const[t,e]=Object(s.useState)(\"\"),[a,c]=Object(s.useState)(\"\"),[r,n]=Object(s.useState)(\"\"),[l,d]=Object(s.useState)(!1),h=Object(i.g)(),j=Object(i.h)(),{login:b}=u(),m=Object(s.useRef)(!0);Object(s.useEffect)((()=>()=>{m.current=!1}),[]);return Object(o.jsxs)(\"div\",{className:\"login-container\",children:[Object(o.jsx)(\"h2\",{children:\"\\u0110\\u0103ng Nh\\u1eadp H\\u1ec7 Th\\u1ed1ng\"}),Object(o.jsxs)(\"form\",{onSubmit:async e=>{e.preventDefault(),n(\"\"),d(!0);try{if(!t||!a)throw new Error(\"Vui l\\xf2ng nh\\u1eadp \\u0111\\u1ea7y \\u0111\\u1ee7 th\\xf4ng tin\");if(\"admin\"!==t||\"admin123\"!==a)throw new Error(\"Th\\xf4ng tin \\u0111\\u0103ng nh\\u1eadp kh\\xf4ng ch\\xednh x\\xe1c\");{await b({username:t,role:\"admin\"});const{from:e}=j.state||{from:{pathname:\"/dashboard\"}};m.current&&h.replace(e)}}catch(s){m.current&&n(s.message)}finally{m.current&&d(!1)}},children:[Object(o.jsxs)(\"div\",{className:\"form-group\",children:[Object(o.jsx)(\"label\",{htmlFor:\"username\",children:\"T\\xean \\u0111\\u0103ng nh\\u1eadp:\"}),Object(o.jsx)(\"input\",{type:\"text\",id:\"username\",value:t,onChange:t=>e(t.target.value),disabled:l,required:!0,placeholder:\"Nh\\u1eadp t\\xean \\u0111\\u0103ng nh\\u1eadp\"})]}),Object(o.jsxs)(\"div\",{className:\"form-group\",children:[Object(o.jsx)(\"label\",{htmlFor:\"password\",children:\"M\\u1eadt kh\\u1ea9u:\"}),Object(o.jsx)(\"input\",{type:\"password\",id:\"password\",value:a,onChange:t=>c(t.target.value),disabled:l,required:!0,placeholder:\"Nh\\u1eadp m\\u1eadt kh\\u1ea9u\"})]}),r&&Object(o.jsx)(\"div\",{className:\"error-message\",children:r}),Object(o.jsx)(\"button\",{type:\"submit\",disabled:l,children:l?\"\\u0110ang x\\u1eed l\\xfd...\":\"\\u0110\\u0103ng Nh\\u1eadp\"})]}),Object(o.jsxs)(\"div\",{className:\"login-note\",children:[Object(o.jsx)(\"p\",{children:\"T\\xe0i kho\\u1ea3n m\\u1eb7c \\u0111\\u1ecbnh: admin / admin123\"}),Object(o.jsx)(\"p\",{children:\"L\\u01b0u \\xfd: Ch\\u1ec9 d\\xe0nh cho m\\u1ee5c \\u0111\\xedch ki\\u1ec3m th\\u1eed\"})]})]})};a(35),a(18);var g=t=>{let{tier:e,tray:a,status:s,onClick:c,isFiltered:r=!1}=t;const n=(s||\"empty\").toLowerCase(),l={high:\"K\\u1ec7 ch\\u1ee9a nhi\\u1ec1u\",medium:\"K\\u1ec7 ch\\u1ee9a v\\u1eeba ph\\u1ea3i\",empty:\"K\\u1ec7 tr\\u1ed1ng\"};return Object(o.jsxs)(\"div\",{className:\"shelf-item \".concat(n,\" \").concat(r?\"filtered\":\"\"),onClick:t=>{t.preventDefault(),t.stopPropagation(),c&&c()},onKeyPress:t=>{\"Enter\"!==t.key&&\" \"!==t.key||(t.preventDefault(),c&&c())},title:\"T\\u1ea7ng \".concat(e,\" - Khay \").concat(a,\" | \").concat(l[n]),tabIndex:0,role:\"button\",\"aria-label\":\"K\\u1ec7 t\\u1ea7ng \".concat(e,\" khay \").concat(a,\" tr\\u1ea1ng th\\xe1i \").concat(l[n]),style:{cursor:c?\"pointer\":\"default\",transform:r?\"translateY(-6px)\":\"translateY(0)\"},children:[Object(o.jsxs)(\"span\",{className:\"shelf-label\",children:[e,\"-\",a]}),r&&Object(o.jsx)(\"div\",{className:\"highlight-border\"})]})};a(36);var f=t=>{let{shelf:e,onClose:a}=t;if(!e)return null;const s=(e.itemCount||0)/(e.capacity||1)*100,c=\"string\"===typeof e.tier?parseInt(e.tier):e.tier;return Object(o.jsxs)(\"div\",{className:\"shelf-detail\",role:\"dialog\",\"aria-labelledby\":\"shelf-detail-title\",children:[Object(o.jsxs)(\"div\",{className:\"shelf-detail-header\",children:[Object(o.jsx)(\"h3\",{id:\"shelf-detail-title\",children:\"Chi ti\\u1ebft k\\u1ec7 h\\xe0ng\"}),Object(o.jsx)(\"button\",{onClick:a,className:\"close-button\",\"aria-label\":\"\\u0110\\xf3ng chi ti\\u1ebft\",children:\"\\xd7\"})]}),Object(o.jsxs)(\"div\",{className:\"shelf-detail-content\",children:[Object(o.jsxs)(\"div\",{className:\"detail-row\",children:[Object(o.jsx)(\"span\",{className:\"label\",children:\"T\\u1ea7ng:\"}),Object(o.jsx)(\"span\",{className:\"value\",children:c})]}),Object(o.jsxs)(\"div\",{className:\"detail-row\",children:[Object(o.jsx)(\"span\",{className:\"label\",children:\"Khay:\"}),Object(o.jsx)(\"span\",{className:\"value\",children:e.tray})]}),Object(o.jsxs)(\"div\",{className:\"detail-row\",children:[Object(o.jsx)(\"span\",{className:\"label\",children:\"S\\u1ed1 l\\u01b0\\u1ee3ng:\"}),Object(o.jsxs)(\"span\",{className:\"value\",children:[e.itemCount||0,\" / \",e.capacity||0,\" (\",s.toFixed(1),\"%)\"]})]}),Object(o.jsxs)(\"div\",{className:\"detail-row\",children:[Object(o.jsx)(\"span\",{className:\"label\",children:\"Tr\\u1ea1ng th\\xe1i:\"}),Object(o.jsx)(\"span\",{className:\"value status-\".concat((e.status||\"\").toLowerCase()),children:e.status||\"\"})]}),e.lastUpdated&&Object(o.jsxs)(\"div\",{className:\"detail-row\",children:[Object(o.jsx)(\"span\",{className:\"label\",children:\"C\\u1eadp nh\\u1eadt l\\u1ea7n cu\\u1ed1i:\"}),Object(o.jsx)(\"span\",{className:\"value\",children:new Date(e.lastUpdated).toLocaleString()})]}),void 0!==e.capacity&&Object(o.jsxs)(\"div\",{className:\"detail-row\",children:[Object(o.jsx)(\"span\",{className:\"label\",children:\"S\\u1ee9c ch\\u1ee9a:\"}),Object(o.jsx)(\"span\",{className:\"value\",children:e.capacity})]})]})]})};a(37);var x=t=>{let{stats:e={},lastUpdated:a}=t;const s={high:\"number\"===typeof e.high?e.high:0,medium:\"number\"===typeof e.medium?e.medium:0,empty:\"number\"===typeof e.empty?e.empty:0},c=s.high+s.medium+s.empty;return Object(o.jsxs)(\"div\",{className:\"status-bar\",role:\"status\",\"aria-label\":\"Th\\u1ed1ng k\\xea tr\\u1ea1ng th\\xe1i k\\u1ec7 h\\xe0ng\",children:[Object(o.jsxs)(\"div\",{className:\"status-bar-items\",children:[Object(o.jsxs)(\"div\",{className:\"stat-item\",title:\"S\\u1ed1 \\xf4 \\u0111ang ch\\u1ee9a nhi\\u1ec1u\",children:[Object(o.jsxs)(\"div\",{className:\"stat-content\",children:[Object(o.jsx)(\"span\",{className:\"dot high-dot\",\"aria-label\":\"\\xd4 ch\\u1ee9a nhi\\u1ec1u\"}),Object(o.jsx)(\"span\",{className:\"stat-label\",children:\"HIGH:\"}),Object(o.jsx)(\"span\",{className:\"stat-value\",children:s.high})]}),Object(o.jsxs)(\"div\",{className:\"stat-percentage\",children:[c?(s.high/c*100).toFixed(1):0,\"%\"]})]}),Object(o.jsxs)(\"div\",{className:\"stat-item\",title:\"S\\u1ed1 \\xf4 \\u0111ang ch\\u1ee9a v\\u1eeba ph\\u1ea3i\",children:[Object(o.jsxs)(\"div\",{className:\"stat-content\",children:[Object(o.jsx)(\"span\",{className:\"dot medium-dot\",\"aria-label\":\"\\xd4 ch\\u1ee9a v\\u1eeba ph\\u1ea3i\"}),Object(o.jsx)(\"span\",{className:\"stat-label\",children:\"MEDIUM:\"}),Object(o.jsx)(\"span\",{className:\"stat-value\",children:s.medium})]}),Object(o.jsxs)(\"div\",{className:\"stat-percentage\",children:[c?(s.medium/c*100).toFixed(1):0,\"%\"]})]}),Object(o.jsxs)(\"div\",{className:\"stat-item\",title:\"S\\u1ed1 \\xf4 \\u0111ang tr\\u1ed1ng\",children:[Object(o.jsxs)(\"div\",{className:\"stat-content\",children:[Object(o.jsx)(\"span\",{className:\"dot empty-dot\",\"aria-label\":\"\\xd4 tr\\u1ed1ng\"}),Object(o.jsx)(\"span\",{className:\"stat-label\",children:\"EMPTY:\"}),Object(o.jsx)(\"span\",{className:\"stat-value\",children:s.empty})]}),Object(o.jsxs)(\"div\",{className:\"stat-percentage\",children:[c?(s.empty/c*100).toFixed(1):0,\"%\"]})]})]}),Object(o.jsxs)(\"div\",{className:\"last-updated\",title:\"Th\\u1eddi gian c\\u1eadp nh\\u1eadt th\\u1ed1ng k\\xea\",children:[\"C\\u1eadp nh\\u1eadt: \",(t=>{if(!t)return\"---\";try{const e=\"string\"===typeof t?new Date(t):t;return isNaN(e)?\"---\":new Intl.DateTimeFormat(\"vi-VN\",{year:\"numeric\",month:\"numeric\",day:\"numeric\",hour:\"numeric\",minute:\"numeric\",second:\"numeric\",hour12:!1}).format(e)}catch(e){return\"---\"}})(a)]})]})};var v=t=>{let{shelves:e,onShelfClick:a}=t;const c=Object(s.useRef)(!0),[r,n]=Object(s.useState)(null),[l,i]=Object(s.useState)({high:0,medium:0,empty:0}),[d,h]=Object(s.useState)((new Date).toISOString()),[u,j]=Object(s.useState)([]),[b]=Object(s.useState)({tier:\"all\",status:\"all\"}),m=\"all\"!==b.status||\"all\"!==b.tier,O=(t,e)=>{const a=t/e*100;let s;return s=a>=70?\"HIGH\":a>=30?\"MEDIUM\":\"EMPTY\",s};Object(s.useEffect)((()=>()=>{c.current=!1}),[]),Object(s.useEffect)((()=>{const t=Array.from({length:4},((t,e)=>({shelf:e+1,tiers:Array.from({length:2},((t,e)=>[{tier:2*e+1,trays:Array.from({length:6},((t,e)=>{const a=Math.floor(101*Math.random());return{tray:e+1,status:O(a,100),capacity:100,itemCount:a,lastUpdated:(new Date).toISOString()}}))},{tier:2*e+2,trays:Array.from({length:6},((t,e)=>{const a=Math.floor(101*Math.random());return{tray:e+1,status:O(a,100),capacity:100,itemCount:a,lastUpdated:(new Date).toISOString()}}))}]))})));j(t);const e=setInterval((()=>{c.current&&(j((t=>{const e=JSON.parse(JSON.stringify(t)),a=Math.floor(4*Math.random()),s=Math.floor(2*Math.random()),c=Math.floor(2*Math.random()),r=Math.floor(6*Math.random()),n=e[a].tiers[s][c].trays[r],l=Math.floor(Math.random()*(n.capacity+1));return n.itemCount=l,n.status=O(l,n.capacity),n.lastUpdated=(new Date).toISOString(),e})),h((new Date).toISOString()))}),3e3);return()=>clearInterval(e)}),[]),Object(s.useEffect)((()=>{const t={high:0,medium:0,empty:0};u.forEach((e=>{e.tiers.forEach((e=>{e.forEach((e=>{e.trays.forEach((e=>{t[e.status.toLowerCase()]++}))}))}))})),i(t)}),[u]);return Object(o.jsxs)(\"div\",{className:\"shelf-grid-wrapper\",children:[Object(o.jsx)(x,{stats:l,lastUpdated:d}),Object(o.jsx)(\"div\",{className:\"shelf-grid-container\",children:u.map(((t,e)=>Object(o.jsxs)(\"div\",{className:\"shelf-grid\",children:[Object(o.jsxs)(\"h3\",{children:[\"K\\u1ec7 \",t.shelf]}),t.tiers.map(((t,a)=>Object(o.jsx)(\"div\",{className:\"tier-row-group\",children:t.map((t=>{const a=(t=>\"all\"===b.tier&&\"all\"===b.status||(\"all\"===b.tier||Number(b.tier)===t.tier)&&t.trays.some((t=>\"all\"===b.status||b.status===t.status)))(t),s=\"all\"!==b.status||\"all\"!==b.tier?a?\"has-matching-items\":\"no-matching-items\":\"\";return Object(o.jsxs)(\"div\",{className:\"tier-row \".concat(s),style:{transition:\"all 0.7s cubic-bezier(0.4, 0, 0.2, 1) \".concat(.1*t.tier,\"s\")},\"data-tier\":t.tier,\"data-has-matches\":a.toString(),children:[Object(o.jsxs)(\"div\",{className:\"tier-label\",children:[\"T\\u1ea7ng \",t.tier]}),Object(o.jsx)(\"div\",{className:\"tray-container\",children:t.trays.map(((a,s)=>{const c=\"all\"===b.tier||Number(b.tier)===t.tier,r=\"all\"===b.status||b.status===a.status,l=c&&r,i=\"all\"!==b.status||\"all\"!==b.tier;return Object(o.jsx)(\"div\",{className:\"tray-cell \".concat(i?l?\"matching-filter\":\"not-matching-filter\":\"\",\" status-\").concat(a.status.toLowerCase()),style:{transition:\"all 0.5s cubic-bezier(0.4, 0, 0.2, 1) \".concat(.05*s,\"s\")},\"data-tier\":t.tier,\"data-tray\":a.tray,\"data-status\":a.status,\"data-matches\":l.toString(),children:Object(o.jsx)(g,{tier:t.tier,tray:a.tray,status:a.status,onClick:()=>((t,e,a)=>{if(!e||!e.trays||!e.trays[a])return;const s=e.trays[a];n({shelf:t+1,tier:e.tier,tray:s.tray,status:s.status,capacity:s.capacity,itemCount:s.itemCount,lastUpdated:s.lastUpdated})})(e,t,s),isFiltered:m&&l})},\"tray-\".concat(t.tier,\"-\").concat(a.tray))}))})]},\"tier-\".concat(t.tier))}))},\"tier-group-\".concat(a))))]},\"shelf-\".concat(t.shelf))))}),r&&Object(o.jsx)(f,{shelf:r,onClose:()=>{n(null)}})]})};a(38);var y=t=>{var e,a,c;let{onFilterChange:r,tiers:n=[],statuses:l=[\"HIGH\",\"MEDIUM\",\"EMPTY\"],filters:i,shelfStats:d}=t;const h={HIGH:{label:\"K\\u1ec7 \\u0111\\u1ea7y\",color:\"#22c55e\"},MEDIUM:{label:\"K\\u1ec7 c\\xf2n tr\\u1ed1ng m\\u1ed9t ph\\u1ea7n\",color:\"#f59e0b\"},EMPTY:{label:\"K\\u1ec7 tr\\u1ed1ng ho\\xe0n to\\xe0n\",color:\"#ef4444\"}},u=Object(s.useMemo)((()=>[...new Set(n)].sort(((t,e)=>Number(t)-Number(e)))),[n]),b=(t,e)=>{const a=Object(j.a)(Object(j.a)({},i),{},{[t]:e});r(t,e,a)},m=Object(s.useMemo)((()=>Object.values(d||{}).reduce(((t,e)=>t+(e||0)),0)),[d]);return Object(o.jsxs)(\"div\",{className:\"filter-panel\",children:[Object(o.jsxs)(\"div\",{className:\"filter-header\",children:[Object(o.jsx)(\"h3\",{children:\"B\\u1ed9 l\\u1ecdc\"}),Object(o.jsx)(\"button\",{className:\"reset-button\",onClick:()=>{r(\"reset\",null,{tier:\"all\",status:\"all\"})},disabled:\"all\"===i.tier&&\"all\"===i.status,title:\"\\u0110\\u1eb7t l\\u1ea1i t\\u1ea5t c\\u1ea3 b\\u1ed9 l\\u1ecdc\",children:\"\\u0110\\u1eb7t l\\u1ea1i\"})]}),Object(o.jsxs)(\"div\",{className:\"filter-group\",children:[Object(o.jsx)(\"label\",{htmlFor:\"tier-select\",children:\"Ch\\u1ecdn t\\u1ea7ng:\"}),Object(o.jsxs)(\"select\",{id:\"tier-select\",value:i.tier,onChange:t=>b(\"tier\",t.target.value),children:[Object(o.jsx)(\"option\",{value:\"all\",children:\"T\\u1ea5t c\\u1ea3 c\\xe1c t\\u1ea7ng\"}),u.map((t=>Object(o.jsxs)(\"option\",{value:t.toString(),children:[\"T\\u1ea7ng \",t]},t)))]})]}),Object(o.jsxs)(\"div\",{className:\"filter-group\",children:[Object(o.jsx)(\"label\",{htmlFor:\"status-select\",children:\"Tr\\u1ea1ng th\\xe1i k\\u1ec7:\"}),Object(o.jsxs)(\"select\",{id:\"status-select\",value:i.status,onChange:t=>b(\"status\",t.target.value),style:{borderLeft:\"all\"!==i.status?\"4px solid \".concat((null===(e=h[i.status])||void 0===e?void 0:e.color)||\"transparent\"):\"none\"},children:[Object(o.jsx)(\"option\",{value:\"all\",children:\"T\\u1ea5t c\\u1ea3 tr\\u1ea1ng th\\xe1i\"}),l.map((t=>{var e;const a=(null===d||void 0===d?void 0:d[t.toLowerCase()])||0,s=m>0?Math.round(a/m*100):0;return Object(o.jsxs)(\"option\",{value:t,className:\"status-option status-\".concat(t.toLowerCase()),children:[(null===(e=h[t])||void 0===e?void 0:e.label)||t,\" (\".concat(a,\" - \").concat(s,\"%)\")]},t)}))]})]}),Object(o.jsx)(\"div\",{className:\"active-filters\",children:(\"all\"!==i.tier||\"all\"!==i.status)&&Object(o.jsxs)(\"div\",{className:\"filter-tags\",children:[Object(o.jsx)(\"span\",{children:\"\\u0110ang l\\u1ecdc theo: \"}),\"all\"!==i.tier&&Object(o.jsxs)(\"span\",{className:\"filter-tag\",children:[\"T\\u1ea7ng \",i.tier,Object(o.jsx)(\"button\",{onClick:()=>b(\"tier\",\"all\"),\"aria-label\":\"X\\xf3a b\\u1ed9 l\\u1ecdc t\\u1ea7ng\",title:\"X\\xf3a b\\u1ed9 l\\u1ecdc t\\u1ea7ng\",children:\"\\xd7\"})]}),\"all\"!==i.status&&Object(o.jsxs)(\"span\",{className:\"filter-tag\",style:{borderLeft:\"4px solid \".concat((null===(a=h[i.status])||void 0===a?void 0:a.color)||\"transparent\"),paddingLeft:\"8px\"},children:[(null===(c=h[i.status])||void 0===c?void 0:c.label)||i.status,Object(o.jsx)(\"button\",{onClick:()=>b(\"status\",\"all\"),\"aria-label\":\"X\\xf3a b\\u1ed9 l\\u1ecdc tr\\u1ea1ng th\\xe1i\",title:\"X\\xf3a b\\u1ed9 l\\u1ecdc tr\\u1ea1ng th\\xe1i\",children:\"\\xd7\"})]})]})})]})};const N=[{id:1,username:\"admin\",password:\"admin123\",email:\"admin@example.com\"},{id:2,username:\"user\",password:\"user123\",email:\"user@example.com\"}];N[0];let w=function(){const t=[];for(let e=1;e<=4;e++){const a={shelf:e,tiers:[]};for(let t=1;t<=4;t++){const e={tier:t,trays:[]};for(let t=1;t<=6;t++){const a=100,s=Math.floor(Math.random()*(a+1));let c;c=s>=80?\"HIGH\":s>=30?\"MEDIUM\":\"EMPTY\",e.trays.push({tray:t,status:c,capacity:a,itemCount:s,lastUpdated:(new Date).toISOString()})}a.tiers.push(e)}t.push(a)}return t}();const S={fetchAll:async()=>w,getStats:async()=>{const t={high:0,medium:0,empty:0};return w.forEach((e=>{t[e.status.toLowerCase()]++})),t},subscribeToUpdates:async t=>{const e=setInterval((()=>{const e=Math.floor(Math.random()*w.length),a=w[e];a.capacity=Math.floor(101*Math.random()),a.capacity>=80?a.status=\"HIGH\":a.capacity>=30?a.status=\"MEDIUM\":a.status=\"EMPTY\",a.lastUpdated=(new Date).toISOString(),t(Object(j.a)({},a))}),1e4);return()=>clearInterval(e)},updateShelf:async(t,e,a)=>{const s=w.findIndex((s=>s.tier===t&&s.tray===e&&(!a.shelf||s.shelf===a.shelf)));if(-1===s)throw new Error(\"Kh\\xf4ng t\\xecm th\\u1ea5y k\\u1ec7\");return w[s]=Object(j.a)(Object(j.a)(Object(j.a)({},w[s]),a),{},{lastUpdated:(new Date).toISOString()}),w[s]}},M=S;var C=t=>{let{user:e,onLogout:a}=t;const c=Object(i.g)(),r=Object(s.useRef)(!0),[n,l]=Object(s.useState)([]),[d,h]=Object(s.useState)([]),[u,b]=Object(s.useState)(null),[m,O]=Object(s.useState)({tier:\"all\",status:\"all\"}),[p,g]=Object(s.useState)(!0),[x,N]=Object(s.useState)(null),w=(t,e)=>Array.isArray(t)?t.map((t=>Object(j.a)(Object(j.a)({},t),{},{tiers:t.tiers.map((t=>Object(j.a)(Object(j.a)({},t),{},{trays:t.trays.map((a=>Object(j.a)(Object(j.a)({},a),{},{isVisible:(\"all\"===e.tier||t.tier===parseInt(e.tier))&&(\"all\"===e.status||a.status===e.status)})))})))}))).filter((t=>t.tiers.some((t=>t.trays.some((t=>t.isVisible)))))):[];Object(s.useEffect)((()=>()=>{r.current=!1}),[]),Object(s.useEffect)((()=>{(async()=>{try{g(!0);const t=await M.fetchAll();if(!r.current)return;l(t);const e=w(t,m);h(e)}catch(t){r.current&&N(t.message)}finally{r.current&&g(!1)}})()}),[m]),Object(s.useEffect)((()=>{let t=null;return(async()=>{t=await M.subscribeToUpdates((t=>{r.current&&l((e=>{const a=e.map((e=>e.tier===t.tier&&e.tray===t.tray?Object(j.a)(Object(j.a)({},e),t):e)),s=w(a,m);return h(s),a}))}))})(),()=>{t&&t(),r.current=!1}}),[m]);return p?Object(o.jsx)(\"div\",{className:\"loading\",role:\"status\",children:\"\\u0110ang t\\u1ea3i d\\u1eef li\\u1ec7u...\"}):x?Object(o.jsxs)(\"div\",{className:\"error\",role:\"alert\",children:[\"L\\u1ed7i: \",x]}):Object(o.jsxs)(\"div\",{className:\"dashboard\",children:[Object(o.jsxs)(\"div\",{className:\"dashboard-header\",children:[Object(o.jsx)(\"h1\",{className:\"dashboard-title\",children:\"Warehouse Dashboard\"}),Object(o.jsxs)(\"div\",{className:\"user-info\",children:[Object(o.jsx)(\"span\",{className:\"user-name\",children:(null===e||void 0===e?void 0:e.username)||\"Admin\"}),Object(o.jsx)(\"button\",{className:\"logout-button\",onClick:()=>{try{a(),c.push(\"/login\")}catch(x){console.error(\"L\\u1ed7i khi \\u0111\\u0103ng xu\\u1ea5t:\",x)}},children:\"\\u0110\\u0103ng xu\\u1ea5t\"})]})]}),Object(o.jsx)(y,{tiers:(()=>{const t=new Set;return n.forEach((e=>{e.tiers.forEach((e=>{t.add(e.tier)}))})),Array.from(t)})(),statuses:[\"HIGH\",\"MEDIUM\",\"EMPTY\"],filters:m,onFilterChange:(t,e,a)=>{console.log(\"Filter changed: \".concat(t,\" = \").concat(e));const s=a||Object(j.a)(Object(j.a)({},m),{},{[t]:e});O(s);const c=w(n,s);if(h(c),u){c.some((t=>t.id===u.id||t._id===u._id))||b(null)}},shelfStats:(()=>{const t={high:0,medium:0,empty:0};return n.forEach((e=>{e.tiers&&e.tiers.forEach((e=>{e.trays&&e.trays.forEach((e=>{const a=e.status?e.status.toLowerCase():\"empty\";void 0!==t[a]&&t[a]++}))}))})),t})()}),Object(o.jsx)(v,{shelves:d,onShelfClick:b}),u&&Object(o.jsx)(f,{shelf:u,onClose:()=>b(null)})]})};const E=()=>{const{user:t,logout:e}=u();return Object(o.jsx)(C,{user:t,onLogout:e})};var I=function(){return Object(o.jsx)(h,{children:Object(o.jsx)(l.a,{children:Object(o.jsxs)(i.d,{children:[Object(o.jsx)(i.b,{exact:!0,path:\"/login\",component:p}),Object(o.jsx)(O,{path:\"/dashboard\",component:E}),Object(o.jsx)(i.b,{exact:!0,path:\"/\",children:Object(o.jsx)(i.a,{to:\"/dashboard\"})})]})})})};if(\"undefined\"!==typeof window){window.process||(window.process={}),window.process.env||(window.process.env={});const t={NODE_ENV:\"development\",REACT_APP_NODE_ENV:\"development\"};window.process.env=window._env_||t}n.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(I,{})}),document.getElementById(\"root\"))}],[[39,1,2]]]);","name":"static/js/main.65bb5931.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","jsx_runtime","AuthContext","Object","AuthProvider","_ref","children","user","setUser","loading","setLoading","savedUser","localStorage","getItem","JSON","parse","Provider","value","login","async","userData","setItem","stringify","logout","removeItem","useAuth","context","Error","objectSpread2","objectWithoutProperties","_excluded","components_ProtectedRoute_ProtectedRoute","component","Component","rest","className","render","props","to","pathname","state","from","location","pages_Login","username","setUsername","password","setPassword","error","setError","isLoading","setIsLoading","history","isMounted","current","onSubmit","e","preventDefault","role","replace","err","message","htmlFor","type","id","onChange","target","disabled","required","placeholder","ShelfGrid_ShelfItem","tier","tray","status","onClick","isFiltered","safeStatus","toLowerCase","statusLabels","high","medium","empty","concat","stopPropagation","onKeyPress","key","title","tabIndex","style","cursor","transform","components_ShelfDetail_ShelfDetail","shelf","onClose","percentageFilled","itemCount","capacity","displayTier","parseInt","toFixed","lastUpdated","Date","toLocaleString","undefined","components_StatusBar_StatusBar","stats","safeStats","totalTrays","date","d","isNaN","Intl","DateTimeFormat","year","month","day","hour","minute","second","hour12","format","_unused","formatDate","components_ShelfGrid_ShelfGrid","shelves","onShelfClick","selectedShelf","setSelectedShelf","setStats","setLastUpdated","toISOString","shelvesData","setShelvesData","filters","hasActiveFilters","calculateStatus","percentage","initialData","Array","length","_","shelfIndex","tiers","NUM_TIERS_PER_SHELF","groupIndex","trays","trayIndex","Math","floor","random","interval","setInterval","prevData","newData","randomShelf","randomTierGroup","randomTierInGroup","randomTray","newItemCount","clearInterval","newStats","forEach","group","map","hasMatchingItems","Number","some","hasTierMatchingItems","tierFilterClass","transition","toString","matchesTier","matchesStatus","isMatching","tierInfo","handleTrayClick","components_FilterPanel_FilterPanel","_statusDescriptions$f","_statusDescriptions$f2","_statusDescriptions$f3","onFilterChange","statuses","shelfStats","statusDescriptions","HIGH","label","color","MEDIUM","EMPTY","sortedTiers","Set","sort","a","b","handleFilterChange","filterType","newFilters","totalItems","values","reduce","acc","curr","borderLeft","_statusDescriptions$s","count","round","paddingLeft","users","email","api_shelvesData","shelfNum","shelfData","tierData","generateShelves","shelfAPI","fetchAll","getStats","subscribeToUpdates","intervalId","idx","onUpdate","updateShelf","data","findIndex","s","api_shelf","pages_Dashboard","onLogout","setShelves","filteredShelves","setFilteredShelves","setFilters","applyFilters","shelfList","currentFilters","isArray","isVisible","filter","filtered","loadData","unsub","update","prevShelves","newShelves","subscribe","console","add","getAllTiers","log","nextFilters","_id","getShelfStats","DashboardWithAuth","src_App","exact","path","window","process","env","defaultEnv","NODE_ENV","REACT_APP_NODE_ENV","_env_","StrictMode","document","getElementById"],"sources":["static/js/main.65bb5931.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonpwarehouse-dashboard\"] = this[\"webpackJsonpwarehouse-dashboard\"] || []).push([[0],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 17 */,\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 19 */,\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */,\n/* 24 */,\n/* 25 */,\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 27 */,\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 39 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(19);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/styles/variables.css\nvar variables = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./src/styles/global.css\nvar global = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./src/styles/responsive.css\nvar responsive = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(26);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/context/AuthContext.js\nconst AuthContext=/*#__PURE__*/Object(react[\"createContext\"])(null);const AuthProvider=_ref=>{let{children}=_ref;const[user,setUser]=Object(react[\"useState\"])(null);const[loading,setLoading]=Object(react[\"useState\"])(true);Object(react[\"useEffect\"])(()=>{const savedUser=localStorage.getItem('user');if(savedUser){setUser(JSON.parse(savedUser));}setLoading(false);},[]);const login=async userData=>{setUser(userData);localStorage.setItem('user',JSON.stringify(userData));};const logout=()=>{setUser(null);localStorage.removeItem('user');};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthContext.Provider,{value:{user,login,logout,loading},children:children});};const useAuth=()=>{const context=Object(react[\"useContext\"])(AuthContext);if(!context){throw new Error('useAuth must be used within an AuthProvider');}return context;};\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 4 modules\nvar objectSpread2 = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\nvar objectWithoutProperties = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./src/components/ProtectedRoute/ProtectedRoute.css\nvar ProtectedRoute = __webpack_require__(28);\n\n// CONCATENATED MODULE: ./src/components/ProtectedRoute/ProtectedRoute.js\nconst _excluded=[\"component\"];const ProtectedRoute_ProtectedRoute=_ref=>{let{component:Component}=_ref,rest=Object(objectWithoutProperties[\"a\" /* default */])(_ref,_excluded);const{user,loading}=useAuth();if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"\\u0110ang t\\u1EA3i...\"})]});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},rest),{},{render:props=>user?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Component,Object(objectSpread2[\"a\" /* default */])({},props)):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:{pathname:\"/login\",state:{from:props.location}}})}));};/* harmony default export */ var components_ProtectedRoute_ProtectedRoute = (ProtectedRoute_ProtectedRoute);\n// EXTERNAL MODULE: ./src/pages/Login.css\nvar Login = __webpack_require__(34);\n\n// CONCATENATED MODULE: ./src/pages/Login.js\nconst Login_Login=()=>{const[username,setUsername]=Object(react[\"useState\"])('');const[password,setPassword]=Object(react[\"useState\"])('');const[error,setError]=Object(react[\"useState\"])('');const[isLoading,setIsLoading]=Object(react[\"useState\"])(false);const history=Object(react_router[\"g\" /* useHistory */])();const location=Object(react_router[\"h\" /* useLocation */])();const{login}=useAuth();const isMounted=Object(react[\"useRef\"])(true);Object(react[\"useEffect\"])(()=>{return()=>{isMounted.current=false;};},[]);const handleSubmit=async e=>{e.preventDefault();setError('');setIsLoading(true);try{if(!username||!password){throw new Error('Vui lòng nhập đầy đủ thông tin');}if(username==='admin'&&password==='admin123'){await login({username,role:'admin'});const{from}=location.state||{from:{pathname:\"/dashboard\"}};if(isMounted.current){history.replace(from);}}else{throw new Error('Thông tin đăng nhập không chính xác');}}catch(err){if(isMounted.current){setError(err.message);}}finally{if(isMounted.current){setIsLoading(false);}}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"login-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"\\u0110\\u0103ng Nh\\u1EADp H\\u1EC7 Th\\u1ED1ng\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"username\",children:\"T\\xEAn \\u0111\\u0103ng nh\\u1EADp:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",id:\"username\",value:username,onChange:e=>setUsername(e.target.value),disabled:isLoading,required:true,placeholder:\"Nh\\u1EADp t\\xEAn \\u0111\\u0103ng nh\\u1EADp\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"password\",children:\"M\\u1EADt kh\\u1EA9u:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",id:\"password\",value:password,onChange:e=>setPassword(e.target.value),disabled:isLoading,required:true,placeholder:\"Nh\\u1EADp m\\u1EADt kh\\u1EA9u\"})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",disabled:isLoading,children:isLoading?'Đang xử lý...':'Đăng Nhập'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"login-note\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"T\\xE0i kho\\u1EA3n m\\u1EB7c \\u0111\\u1ECBnh: admin / admin123\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"L\\u01B0u \\xFD: Ch\\u1EC9 d\\xE0nh cho m\\u1EE5c \\u0111\\xEDch ki\\u1EC3m th\\u1EED\"})]})]});};/* harmony default export */ var pages_Login = (Login_Login);\n// EXTERNAL MODULE: ./src/pages/Dashboard.css\nvar Dashboard = __webpack_require__(35);\n\n// EXTERNAL MODULE: ./src/components/ShelfGrid/ShelfGrid.css\nvar ShelfGrid = __webpack_require__(18);\n\n// CONCATENATED MODULE: ./src/components/ShelfGrid/ShelfItem.js\n// File: ShelfItem.js\n// Mô tả: Component React hiển thị một kệ hàng đơn lẻ trong lưới kệ của dashboard quản lý kho.\n// Chức năng: Hiển thị trạng thái, vị trí kệ, màu sắc và cho phép chọn để xem chi tiết.\nconst ShelfItem=_ref=>{let{tier,tray,status,onClick,isFiltered=false}=_ref;// Đảm bảo status luôn là chuỗi hợp lệ và chữ thường\nconst safeStatus=(status||'empty').toLowerCase();// Tooltip chi tiết hơn\nconst statusLabels={high:'Kệ chứa nhiều',medium:'Kệ chứa vừa phải',empty:'Kệ trống'};// Thêm hàm xử lý sự kiện riêng để đảm bảo click hoạt động\nconst handleClick=e=>{e.preventDefault();e.stopPropagation();if(onClick)onClick();};// Thêm hàm xử lý phím để đảm bảo accessibility\nconst handleKeyPress=e=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();if(onClick)onClick();}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"shelf-item \".concat(safeStatus,\" \").concat(isFiltered?'filtered':''),onClick:handleClick,onKeyPress:handleKeyPress,title:\"T\\u1EA7ng \".concat(tier,\" - Khay \").concat(tray,\" | \").concat(statusLabels[safeStatus]),tabIndex:0,role:\"button\",\"aria-label\":\"K\\u1EC7 t\\u1EA7ng \".concat(tier,\" khay \").concat(tray,\" tr\\u1EA1ng th\\xE1i \").concat(statusLabels[safeStatus]),style:{cursor:onClick?'pointer':'default',transform:isFiltered?'translateY(-6px)':'translateY(0)'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"shelf-label\",children:[tier,\"-\",tray]}),isFiltered&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"highlight-border\"})]});};/* harmony default export */ var ShelfGrid_ShelfItem = (ShelfItem);\n// EXTERNAL MODULE: ./src/components/ShelfDetail/ShelfDetail.css\nvar ShelfDetail = __webpack_require__(36);\n\n// CONCATENATED MODULE: ./src/components/ShelfDetail/ShelfDetail.js\n// File: ShelfDetail.js\n// Mô tả: Component React hiển thị chi tiết thông tin một kệ hàng trong dashboard quản lý kho.\n// Chức năng: Hiển thị thông tin tầng, khay, trạng thái, sức chứa và thời gian cập nhật của kệ hàng, cho phép đóng popup chi tiết.\nconst ShelfDetail_ShelfDetail=_ref=>{let{shelf,onClose}=_ref;if(!shelf)return null;const percentageFilled=(shelf.itemCount||0)/(shelf.capacity||1)*100;// Đảm bảo tier là số nguyên\nconst displayTier=typeof shelf.tier==='string'?parseInt(shelf.tier):shelf.tier;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"shelf-detail\",role:\"dialog\",\"aria-labelledby\":\"shelf-detail-title\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"shelf-detail-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{id:\"shelf-detail-title\",children:\"Chi ti\\u1EBFt k\\u1EC7 h\\xE0ng\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:onClose,className:\"close-button\",\"aria-label\":\"\\u0110\\xF3ng chi ti\\u1EBFt\",children:\"\\xD7\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"shelf-detail-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"label\",children:\"T\\u1EA7ng:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"value\",children:displayTier})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"label\",children:\"Khay:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"value\",children:shelf.tray})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"label\",children:\"S\\u1ED1 l\\u01B0\\u1EE3ng:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"value\",children:[shelf.itemCount||0,\" / \",shelf.capacity||0,\" (\",percentageFilled.toFixed(1),\"%)\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"label\",children:\"Tr\\u1EA1ng th\\xE1i:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"value status-\".concat((shelf.status||'').toLowerCase()),children:shelf.status||''})]}),shelf.lastUpdated&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"label\",children:\"C\\u1EADp nh\\u1EADt l\\u1EA7n cu\\u1ED1i:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"value\",children:new Date(shelf.lastUpdated).toLocaleString()})]}),shelf.capacity!==undefined&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"label\",children:\"S\\u1EE9c ch\\u1EE9a:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"value\",children:shelf.capacity})]})]})]});};/* harmony default export */ var components_ShelfDetail_ShelfDetail = (ShelfDetail_ShelfDetail);\n// EXTERNAL MODULE: ./src/components/StatusBar/StatusBar.css\nvar StatusBar = __webpack_require__(37);\n\n// CONCATENATED MODULE: ./src/components/StatusBar/StatusBar.js\n// File: StatusBar.js\n// Mô tả: Component React hiển thị thanh trạng thái tổng quan các kệ hàng trong dashboard quản lý kho.\n// Chức năng: Hiển thị số lượng kệ theo từng trạng thái (đầy, còn trống, trống hoàn toàn) và thời gian cập nhật gần nhất.\nconst StatusBar_StatusBar=_ref=>{let{stats={},lastUpdated}=_ref;// Đảm bảo stats luôn có đủ các trường\nconst safeStats={high:typeof stats.high==='number'?stats.high:0,medium:typeof stats.medium==='number'?stats.medium:0,empty:typeof stats.empty==='number'?stats.empty:0};// Định dạng ngày giờ cập nhật\nconst formatDate=date=>{if(!date)return'---';try{const d=typeof date==='string'?new Date(date):date;if(isNaN(d))return'---';return new Intl.DateTimeFormat('vi-VN',{year:'numeric',month:'numeric',day:'numeric',hour:'numeric',minute:'numeric',second:'numeric',hour12:false}).format(d);}catch(_unused){return'---';}};// Tính tổng số ô\nconst totalTrays=safeStats.high+safeStats.medium+safeStats.empty;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"status-bar\",role:\"status\",\"aria-label\":\"Th\\u1ED1ng k\\xEA tr\\u1EA1ng th\\xE1i k\\u1EC7 h\\xE0ng\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"status-bar-items\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-item\",title:\"S\\u1ED1 \\xF4 \\u0111ang ch\\u1EE9a nhi\\u1EC1u\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"dot high-dot\",\"aria-label\":\"\\xD4 ch\\u1EE9a nhi\\u1EC1u\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"stat-label\",children:\"HIGH:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"stat-value\",children:safeStats.high})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-percentage\",children:[totalTrays?(safeStats.high/totalTrays*100).toFixed(1):0,\"%\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-item\",title:\"S\\u1ED1 \\xF4 \\u0111ang ch\\u1EE9a v\\u1EEBa ph\\u1EA3i\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"dot medium-dot\",\"aria-label\":\"\\xD4 ch\\u1EE9a v\\u1EEBa ph\\u1EA3i\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"stat-label\",children:\"MEDIUM:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"stat-value\",children:safeStats.medium})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-percentage\",children:[totalTrays?(safeStats.medium/totalTrays*100).toFixed(1):0,\"%\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-item\",title:\"S\\u1ED1 \\xF4 \\u0111ang tr\\u1ED1ng\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"dot empty-dot\",\"aria-label\":\"\\xD4 tr\\u1ED1ng\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"stat-label\",children:\"EMPTY:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"stat-value\",children:safeStats.empty})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-percentage\",children:[totalTrays?(safeStats.empty/totalTrays*100).toFixed(1):0,\"%\"]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"last-updated\",title:\"Th\\u1EDDi gian c\\u1EADp nh\\u1EADt th\\u1ED1ng k\\xEA\",children:[\"C\\u1EADp nh\\u1EADt: \",formatDate(lastUpdated)]})]});};/* harmony default export */ var components_StatusBar_StatusBar = (StatusBar_StatusBar);\n// CONCATENATED MODULE: ./src/components/ShelfGrid/ShelfGrid.js\n// File: ShelfGrid.js\n// Mô tả: Component React hiển thị lưới các kệ hàng trong dashboard quản lý kho.\n// Chức năng: Hiển thị danh sách kệ hàng theo tầng và khay, cho phép chọn từng kệ để xem chi tiết.\nconst ShelfGrid_ShelfGrid=_ref=>{let{shelves,onShelfClick}=_ref;const NUM_SHELVES=4;// Số lượng kệ đồ\nconst NUM_TIERS_PER_SHELF=4;// Số tầng mỗi kệ\nconst NUM_TRAYS_PER_TIER=6;// Số ô mỗi tầng\nconst isMounted=Object(react[\"useRef\"])(true);const[selectedShelf,setSelectedShelf]=Object(react[\"useState\"])(null);const[stats,setStats]=Object(react[\"useState\"])({high:0,medium:0,empty:0});const[lastUpdated,setLastUpdated]=Object(react[\"useState\"])(new Date().toISOString());const[shelvesData,setShelvesData]=Object(react[\"useState\"])([]);const[filters]=Object(react[\"useState\"])({tier:'all',status:'all'});// Kiểm tra xem có bất kỳ bộ lọc nào đang hoạt động không\nconst hasActiveFilters=filters.status!=='all'||filters.tier!=='all';// Hàm tính toán trạng thái dựa trên số lượng vật phẩm và sức chứa\nconst calculateStatus=(itemCount,capacity)=>{const percentage=itemCount/capacity*100;let status;if(percentage>=70)status='HIGH';else if(percentage>=30)status='MEDIUM';else status='EMPTY';return status;};// Cleanup khi component unmount\nObject(react[\"useEffect\"])(()=>{return()=>{isMounted.current=false;};},[]);// Khởi tạo dữ liệu ban đầu và thiết lập interval cập nhật\nObject(react[\"useEffect\"])(()=>{// Tạo dữ liệu mẫu ban đầu\nconst initialData=Array.from({length:NUM_SHELVES},(_,shelfIndex)=>{const tiers=Array.from({length:NUM_TIERS_PER_SHELF/2},(_,groupIndex)=>{const groupedTiers=[{tier:groupIndex*2+1,trays:Array.from({length:NUM_TRAYS_PER_TIER},(_,trayIndex)=>{const capacity=100;const itemCount=Math.floor(Math.random()*(capacity+1));return{tray:trayIndex+1,status:calculateStatus(itemCount,capacity),capacity,itemCount,lastUpdated:new Date().toISOString()};})},{tier:groupIndex*2+2,trays:Array.from({length:NUM_TRAYS_PER_TIER},(_,trayIndex)=>{const capacity=100;const itemCount=Math.floor(Math.random()*(capacity+1));return{tray:trayIndex+1,status:calculateStatus(itemCount,capacity),capacity,itemCount,lastUpdated:new Date().toISOString()};})}];return groupedTiers;});return{shelf:shelfIndex+1,tiers};});setShelvesData(initialData);// Thiết lập interval để cập nhật ngẫu nhiên\nconst interval=setInterval(()=>{if(isMounted.current){setShelvesData(prevData=>{const newData=JSON.parse(JSON.stringify(prevData));// Chọn ngẫu nhiên một ô để cập nhật\nconst randomShelf=Math.floor(Math.random()*NUM_SHELVES);const randomTierGroup=Math.floor(Math.random()*(NUM_TIERS_PER_SHELF/2));const randomTierInGroup=Math.floor(Math.random()*2);const randomTray=Math.floor(Math.random()*NUM_TRAYS_PER_TIER);// Cập nhật thông tin của ô được chọn\nconst tray=newData[randomShelf].tiers[randomTierGroup][randomTierInGroup].trays[randomTray];const newItemCount=Math.floor(Math.random()*(tray.capacity+1));tray.itemCount=newItemCount;tray.status=calculateStatus(newItemCount,tray.capacity);tray.lastUpdated=new Date().toISOString();return newData;});setLastUpdated(new Date().toISOString());}},3000);return()=>clearInterval(interval);},[]);// Tính toán thống kê mỗi khi dữ liệu thay đổi\nObject(react[\"useEffect\"])(()=>{const newStats={high:0,medium:0,empty:0};shelvesData.forEach(shelf=>{shelf.tiers.forEach(group=>{group.forEach(tier=>{tier.trays.forEach(tray=>{newStats[tray.status.toLowerCase()]++;});});});});setStats(newStats);},[shelvesData]);const handleTrayClick=(shelfIndex,tierInfo,trayIndex)=>{// Thêm check để tránh click vào khu vực không hợp lệ\nif(!tierInfo||!tierInfo.trays||!tierInfo.trays[trayIndex]){return;}const tray=tierInfo.trays[trayIndex];setSelectedShelf({shelf:shelfIndex+1,tier:tierInfo.tier,tray:tray.tray,status:tray.status,capacity:tray.capacity,itemCount:tray.itemCount,lastUpdated:tray.lastUpdated});};// Hàm kiểm tra một hàng (tier) có bất kỳ ô nào phù hợp với bộ lọc không\nconst hasTierMatchingItems=tier=>{// Nếu không có bộ lọc đang hoạt động, mọi tier đều phù hợp\nif(filters.tier==='all'&&filters.status==='all'){return true;}// Kiểm tra xem tầng này có phù hợp với bộ lọc tầng không\nconst matchesTierFilter=filters.tier==='all'||Number(filters.tier)===tier.tier;// Nếu không phù hợp với bộ lọc tầng, trả về false ngay\nif(!matchesTierFilter){return false;}// Kiểm tra xem có bất kỳ khay nào trong tầng này phù hợp với bộ lọc trạng thái\nconst hasMatchingStatus=tier.trays.some(tray=>{return filters.status==='all'||filters.status===tray.status;});return hasMatchingStatus;};const handleCloseDetail=()=>{setSelectedShelf(null);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"shelf-grid-wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_StatusBar_StatusBar,{stats:stats,lastUpdated:lastUpdated}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"shelf-grid-container\",children:shelvesData.map((shelf,shelfIndex)=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"shelf-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[\"K\\u1EC7 \",shelf.shelf]}),shelf.tiers.map((group,groupIndex)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"tier-row-group\",children:group.map(tier=>{// Xác định xem tier này có phần tử phù hợp với bộ lọc không\nconst hasMatchingItems=hasTierMatchingItems(tier);// Class CSS dựa trên kết quả lọc\nconst isFiltered=filters.status!=='all'||filters.tier!=='all';const tierFilterClass=isFiltered?hasMatchingItems?'has-matching-items':'no-matching-items':'';return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"tier-row \".concat(tierFilterClass),style:{transition:\"all 0.7s cubic-bezier(0.4, 0, 0.2, 1) \".concat(tier.tier*0.1,\"s\")},\"data-tier\":tier.tier,\"data-has-matches\":hasMatchingItems.toString(),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"tier-label\",children:[\"T\\u1EA7ng \",tier.tier]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"tray-container\",children:tier.trays.map((tray,trayIndex)=>{// Kiểm tra cụ thể cho mỗi loại bộ lọc\nconst matchesTier=filters.tier==='all'||Number(filters.tier)===tier.tier;const matchesStatus=filters.status==='all'||filters.status===tray.status;const isMatching=matchesTier&&matchesStatus;const isFiltered=filters.status!=='all'||filters.tier!=='all';return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"tray-cell \".concat(isFiltered?isMatching?'matching-filter':'not-matching-filter':'',\" status-\").concat(tray.status.toLowerCase()),style:{transition:\"all 0.5s cubic-bezier(0.4, 0, 0.2, 1) \".concat(trayIndex*0.05,\"s\")},\"data-tier\":tier.tier,\"data-tray\":tray.tray,\"data-status\":tray.status,\"data-matches\":isMatching.toString(),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ShelfGrid_ShelfItem,{tier:tier.tier,tray:tray.tray,status:tray.status,onClick:()=>handleTrayClick(shelfIndex,tier,trayIndex),isFiltered:hasActiveFilters&&isMatching})},\"tray-\".concat(tier.tier,\"-\").concat(tray.tray));})})]},\"tier-\".concat(tier.tier));})},\"tier-group-\".concat(groupIndex)))]},\"shelf-\".concat(shelf.shelf)))}),selectedShelf&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ShelfDetail_ShelfDetail,{shelf:selectedShelf,onClose:handleCloseDetail})]});};/* harmony default export */ var components_ShelfGrid_ShelfGrid = (ShelfGrid_ShelfGrid);\n// EXTERNAL MODULE: ./src/components/FilterPanel/FilterPanel.css\nvar FilterPanel = __webpack_require__(38);\n\n// CONCATENATED MODULE: ./src/components/FilterPanel/FilterPanel.js\n// File: FilterPanel.js\n// Mô tả: Component React hiển thị và xử lý bộ lọc (filter) cho dashboard quản lý kho hàng.\n// Chức năng: Cho phép người dùng lọc dữ liệu kệ hàng theo tầng và trạng thái, đồng bộ với dashboard.\nconst FilterPanel_FilterPanel=_ref=>{var _statusDescriptions$f,_statusDescriptions$f2,_statusDescriptions$f3;let{onFilterChange,tiers=[],statuses=['HIGH','MEDIUM','EMPTY'],filters,shelfStats}=_ref;// Mapping trạng thái với mô tả và màu sắc\nconst statusDescriptions={HIGH:{label:'Kệ đầy',color:'#22c55e'},MEDIUM:{label:'Kệ còn trống một phần',color:'#f59e0b'},EMPTY:{label:'Kệ trống hoàn toàn',color:'#ef4444'}};// Sắp xếp danh sách tầng\nconst sortedTiers=Object(react[\"useMemo\"])(()=>{return[...new Set(tiers)].sort((a,b)=>Number(a)-Number(b));},[tiers]);// Xử lý thay đổi bộ lọc\nconst handleFilterChange=(filterType,value)=>{const newFilters=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},filters),{},{[filterType]:value});onFilterChange(filterType,value,newFilters);};// Reset tất cả bộ lọc\nconst resetFilters=()=>{const resetState={tier:'all',status:'all'};onFilterChange('reset',null,resetState);};// Tính tổng số lượng cho mỗi trạng thái\nconst totalItems=Object(react[\"useMemo\"])(()=>{return Object.values(shelfStats||{}).reduce((acc,curr)=>acc+(curr||0),0);},[shelfStats]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filter-panel\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filter-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"B\\u1ED9 l\\u1ECDc\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"reset-button\",onClick:resetFilters,disabled:filters.tier==='all'&&filters.status==='all',title:\"\\u0110\\u1EB7t l\\u1EA1i t\\u1EA5t c\\u1EA3 b\\u1ED9 l\\u1ECDc\",children:\"\\u0110\\u1EB7t l\\u1EA1i\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"tier-select\",children:\"Ch\\u1ECDn t\\u1EA7ng:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{id:\"tier-select\",value:filters.tier,onChange:e=>handleFilterChange('tier',e.target.value),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"all\",children:\"T\\u1EA5t c\\u1EA3 c\\xE1c t\\u1EA7ng\"}),sortedTiers.map(tier=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"option\",{value:tier.toString(),children:[\"T\\u1EA7ng \",tier]},tier))]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"status-select\",children:\"Tr\\u1EA1ng th\\xE1i k\\u1EC7:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{id:\"status-select\",value:filters.status,onChange:e=>handleFilterChange('status',e.target.value),style:{borderLeft:filters.status!=='all'?\"4px solid \".concat(((_statusDescriptions$f=statusDescriptions[filters.status])===null||_statusDescriptions$f===void 0?void 0:_statusDescriptions$f.color)||'transparent'):'none'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"all\",children:\"T\\u1EA5t c\\u1EA3 tr\\u1EA1ng th\\xE1i\"}),statuses.map(status=>{var _statusDescriptions$s;const count=(shelfStats===null||shelfStats===void 0?void 0:shelfStats[status.toLowerCase()])||0;const percentage=totalItems>0?Math.round(count/totalItems*100):0;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"option\",{value:status,className:\"status-option status-\".concat(status.toLowerCase()),children:[((_statusDescriptions$s=statusDescriptions[status])===null||_statusDescriptions$s===void 0?void 0:_statusDescriptions$s.label)||status,\" (\".concat(count,\" - \").concat(percentage,\"%)\")]},status);})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"active-filters\",children:(filters.tier!=='all'||filters.status!=='all')&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filter-tags\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"\\u0110ang l\\u1ECDc theo: \"}),filters.tier!=='all'&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"filter-tag\",children:[\"T\\u1EA7ng \",filters.tier,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>handleFilterChange('tier','all'),\"aria-label\":\"X\\xF3a b\\u1ED9 l\\u1ECDc t\\u1EA7ng\",title:\"X\\xF3a b\\u1ED9 l\\u1ECDc t\\u1EA7ng\",children:\"\\xD7\"})]}),filters.status!=='all'&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"filter-tag\",style:{borderLeft:\"4px solid \".concat(((_statusDescriptions$f2=statusDescriptions[filters.status])===null||_statusDescriptions$f2===void 0?void 0:_statusDescriptions$f2.color)||'transparent'),paddingLeft:'8px'},children:[((_statusDescriptions$f3=statusDescriptions[filters.status])===null||_statusDescriptions$f3===void 0?void 0:_statusDescriptions$f3.label)||filters.status,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>handleFilterChange('status','all'),\"aria-label\":\"X\\xF3a b\\u1ED9 l\\u1ECDc tr\\u1EA1ng th\\xE1i\",title:\"X\\xF3a b\\u1ED9 l\\u1ECDc tr\\u1EA1ng th\\xE1i\",children:\"\\xD7\"})]})]})})]});};/* harmony default export */ var components_FilterPanel_FilterPanel = (FilterPanel_FilterPanel);\n// CONCATENATED MODULE: ./src/utils/api.js\n// MOCK DATA & API ONLY - KHÔNG GỌI BACKEND NỮA\n// Giả lập danh sách người dùng\nconst users=[{id:1,username:'admin',password:'admin123',email:'admin@example.com'},{id:2,username:'user',password:'user123',email:'user@example.com'}];let currentUser=users[0];const auth={register:async userData=>{if(users.some(u=>u.username===userData.username||u.email===userData.email)){throw new Error('Username hoặc email đã tồn tại');}const newUser=Object(objectSpread2[\"a\" /* default */])({id:users.length+1},userData);users.push(newUser);return{message:'Đăng ký thành công',user:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},newUser),{},{password:undefined})};},login:async(username,password)=>{const user=users.find(u=>u.username===username&&u.password===password);if(!user){throw new Error('Tên đăng nhập hoặc mật khẩu không đúng');}currentUser=user;return{token:'mock-token',user:{id:user.id,username:user.username,email:user.email}};},getProfile:async()=>{if(!currentUser)throw new Error('Chưa đăng nhập');return{id:currentUser.id,username:currentUser.username,email:currentUser.email};}};// Giả lập dữ liệu kệ hàng\nfunction generateShelves(){const shelves=[];for(let shelfNum=1;shelfNum<=4;shelfNum++){const shelfData={shelf:shelfNum,tiers:[]};for(let tier=1;tier<=4;tier++){const tierData={tier:tier,trays:[]};for(let tray=1;tray<=6;tray++){const capacity=100;const itemCount=Math.floor(Math.random()*(capacity+1));let status;if(itemCount>=80)status='HIGH';else if(itemCount>=30)status='MEDIUM';else status='EMPTY';tierData.trays.push({tray,status,capacity,itemCount,lastUpdated:new Date().toISOString()});}shelfData.tiers.push(tierData);}shelves.push(shelfData);}return shelves;}let api_shelvesData=generateShelves();const shelfAPI={fetchAll:async()=>{return api_shelvesData;},getStats:async()=>{const stats={high:0,medium:0,empty:0};api_shelvesData.forEach(shelf=>{stats[shelf.status.toLowerCase()]++;});return stats;},subscribeToUpdates:async onUpdate=>{// Giả lập cập nhật ngẫu nhiên mỗi 10s\nconst intervalId=setInterval(()=>{const idx=Math.floor(Math.random()*api_shelvesData.length);const shelf=api_shelvesData[idx];// Random capacity\nshelf.capacity=Math.floor(Math.random()*101);if(shelf.capacity>=80)shelf.status='HIGH';else if(shelf.capacity>=30)shelf.status='MEDIUM';else shelf.status='EMPTY';shelf.lastUpdated=new Date().toISOString();onUpdate(Object(objectSpread2[\"a\" /* default */])({},shelf));},10000);// Trả về hàm unsubscribe\nreturn()=>clearInterval(intervalId);},updateShelf:async(tier,tray,data)=>{// Tìm đúng kệ theo tier, tray và shelf (nếu có)\nconst idx=api_shelvesData.findIndex(s=>s.tier===tier&&s.tray===tray&&(data.shelf?s.shelf===data.shelf:true));if(idx===-1)throw new Error('Không tìm thấy kệ');api_shelvesData[idx]=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},api_shelvesData[idx]),data),{},{lastUpdated:new Date().toISOString()});return api_shelvesData[idx];}};const authAPI=auth;const api_shelf=shelfAPI;const api={auth,shelf:shelfAPI};\n// CONCATENATED MODULE: ./src/pages/Dashboard.js\n// File: Dashboard.js\n// Mô tả: Component React chính hiển thị dashboard quản lý kho hàng.\n// Chức năng: Quản lý trạng thái, lọc, thống kê, hiển thị lưới kệ, chi tiết kệ, và đồng bộ dữ liệu mock cho toàn bộ hệ thống.\nconst Dashboard_Dashboard=_ref=>{let{user,onLogout}=_ref;const history=Object(react_router[\"g\" /* useHistory */])();const isMounted=Object(react[\"useRef\"])(true);const[shelves,setShelves]=Object(react[\"useState\"])([]);const[filteredShelves,setFilteredShelves]=Object(react[\"useState\"])([]);const[selectedShelf,setSelectedShelf]=Object(react[\"useState\"])(null);const[filters,setFilters]=Object(react[\"useState\"])({tier:'all',status:'all'});const[loading,setLoading]=Object(react[\"useState\"])(true);const[error,setError]=Object(react[\"useState\"])(null);const handleLogout=()=>{try{onLogout();history.push('/login');}catch(error){console.error('Lỗi khi đăng xuất:',error);}};// Loại bỏ hàm calculateStats vì không cần thiết nữa\nconst getShelfStats=()=>{const stats={high:0,medium:0,empty:0};shelves.forEach(shelf=>{if(shelf.tiers){shelf.tiers.forEach(tier=>{if(tier.trays){tier.trays.forEach(tray=>{const status=tray.status?tray.status.toLowerCase():'empty';if(stats[status]!==undefined){stats[status]++;}});}});}});return stats;};const getAllTiers=()=>{const tiers=new Set();shelves.forEach(shelf=>{shelf.tiers.forEach(tier=>{tiers.add(tier.tier);});});return Array.from(tiers);};// Áp dụng bộ lọc\nconst applyFilters=(shelfList,currentFilters)=>{if(!Array.isArray(shelfList))return[];return shelfList.map(shelf=>Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},shelf),{},{tiers:shelf.tiers.map(tier=>Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},tier),{},{trays:tier.trays.map(tray=>Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},tray),{},{isVisible:(currentFilters.tier==='all'||tier.tier===parseInt(currentFilters.tier))&&(currentFilters.status==='all'||tray.status===currentFilters.status)}))}))})).filter(shelf=>shelf.tiers.some(tier=>tier.trays.some(tray=>tray.isVisible)));};// Load dữ liệu ban đầu\n// Cleanup khi component unmount\nObject(react[\"useEffect\"])(()=>{return()=>{isMounted.current=false;};},[]);// Load dữ liệu ban đầu\nObject(react[\"useEffect\"])(()=>{const loadData=async()=>{try{setLoading(true);const data=await api_shelf.fetchAll();if(!isMounted.current)return;setShelves(data);const filtered=applyFilters(data,filters);setFilteredShelves(filtered);}catch(err){if(isMounted.current)setError(err.message);}finally{if(isMounted.current)setLoading(false);}};loadData();},[filters]);// Subscribe to shelf updates (mock)\nObject(react[\"useEffect\"])(()=>{let unsub=null;const subscribe=async()=>{unsub=await api_shelf.subscribeToUpdates(update=>{if(isMounted.current){setShelves(prevShelves=>{const newShelves=prevShelves.map(s=>s.tier===update.tier&&s.tray===update.tray?Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},s),update):s);const filtered=applyFilters(newShelves,filters);setFilteredShelves(filtered);return newShelves;});}});};subscribe();return()=>{if(unsub)unsub();isMounted.current=false;};},[filters]);// Xử lý thay đổi bộ lọc\nconst handleFilterChange=(type,value,newFilters)=>{console.log(\"Filter changed: \".concat(type,\" = \").concat(value));const nextFilters=newFilters||Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},filters),{},{[type]:value});setFilters(nextFilters);// Tính toán lại danh sách đã lọc\nconst filtered=applyFilters(shelves,nextFilters);setFilteredShelves(filtered);// Nếu đang chọn một shelf nhưng nó không còn trong kết quả lọc, bỏ chọn\nif(selectedShelf){const isStillVisible=filtered.some(shelf=>shelf.id===selectedShelf.id||shelf._id===selectedShelf._id);if(!isStillVisible){setSelectedShelf(null);}}};if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading\",role:\"status\",children:\"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u...\"});}if(error){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"error\",role:\"alert\",children:[\"L\\u1ED7i: \",error]});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"dashboard-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"dashboard-title\",children:\"Warehouse Dashboard\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"user-info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"user-name\",children:(user===null||user===void 0?void 0:user.username)||'Admin'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"logout-button\",onClick:handleLogout,children:\"\\u0110\\u0103ng xu\\u1EA5t\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_FilterPanel_FilterPanel,{tiers:getAllTiers(),statuses:['HIGH','MEDIUM','EMPTY'],filters:filters,onFilterChange:handleFilterChange,shelfStats:getShelfStats()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ShelfGrid_ShelfGrid,{shelves:filteredShelves,onShelfClick:setSelectedShelf}),selectedShelf&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ShelfDetail_ShelfDetail,{shelf:selectedShelf,onClose:()=>setSelectedShelf(null)})]});};/* harmony default export */ var pages_Dashboard = (Dashboard_Dashboard);\n// CONCATENATED MODULE: ./src/App.js\nconst DashboardWithAuth=()=>{const{user,logout}=useAuth();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Dashboard,{user:user,onLogout:logout});};function App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/login\",component:pages_Login}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ProtectedRoute_ProtectedRoute,{path:\"/dashboard\",component:DashboardWithAuth}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/dashboard\"})})]})})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\n// Set up process polyfill\nif(typeof window!=='undefined'){if(!window.process){window.process={};}if(!window.process.env){window.process.env={};}// Load environment variables\nconst defaultEnv={NODE_ENV:'development',REACT_APP_NODE_ENV:'development'};// In development, we can access REACT_APP_* variables from _env_\nwindow.process.env=window._env_||defaultEnv;}react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n],[[39,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\styles\\variables.css","C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\styles\\global.css","C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\styles\\responsive.css","C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\components\\ShelfGrid\\ShelfGrid.css","C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\index.css","C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\components\\ProtectedRoute\\ProtectedRoute.css","C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\pages\\Login.css","C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\pages\\Dashboard.css","C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\components\\ShelfDetail\\ShelfDetail.css","C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\components\\StatusBar\\StatusBar.css","C:\\Documents\\warehouse-dashboard\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Documents\\warehouse-dashboard\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Documents\\warehouse-dashboard\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Documents\\warehouse-dashboard\\src\\components\\FilterPanel\\FilterPanel.css","C:/Documents/warehouse-dashboard/src/context/AuthContext.js","C:/Documents/warehouse-dashboard/src/components/ProtectedRoute/ProtectedRoute.js","C:/Documents/warehouse-dashboard/src/pages/Login.js","C:/Documents/warehouse-dashboard/src/components/ShelfGrid/ShelfItem.js","C:/Documents/warehouse-dashboard/src/components/ShelfDetail/ShelfDetail.js","C:/Documents/warehouse-dashboard/src/components/StatusBar/StatusBar.js","C:/Documents/warehouse-dashboard/src/components/ShelfGrid/ShelfGrid.js","C:/Documents/warehouse-dashboard/src/components/FilterPanel/FilterPanel.js","C:/Documents/warehouse-dashboard/src/utils/api.js","C:/Documents/warehouse-dashboard/src/pages/Dashboard.js","C:/Documents/warehouse-dashboard/src/App.js","C:/Documents/warehouse-dashboard/src/index.js"],"names":["AuthContext","createContext","AuthProvider","_ref","children","user","setUser","useState","loading","setLoading","useEffect","savedUser","localStorage","getItem","JSON","parse","login","userData","setItem","stringify","logout","removeItem","_jsx","Provider","value","useAuth","context","useContext","Error","ProtectedRoute","component","Component","rest","_objectWithoutProperties","_excluded","_jsxs","className","Route","_objectSpread","render","props","Redirect","to","pathname","state","from","location","Login","username","setUsername","password","setPassword","error","setError","isLoading","setIsLoading","history","useHistory","useLocation","isMounted","useRef","current","handleSubmit","e","preventDefault","role","replace","err","message","onSubmit","htmlFor","type","id","onChange","target","disabled","required","placeholder","ShelfItem","tier","tray","status","onClick","isFiltered","safeStatus","toLowerCase","statusLabels","high","medium","empty","handleClick","stopPropagation","handleKeyPress","key","concat","onKeyPress","title","tabIndex","style","cursor","transform","ShelfDetail","shelf","onClose","percentageFilled","itemCount","capacity","displayTier","parseInt","toFixed","lastUpdated","Date","toLocaleString","undefined","StatusBar","stats","safeStats","formatDate","date","d","isNaN","Intl","DateTimeFormat","year","month","day","hour","minute","second","hour12","format","_unused","totalTrays","ShelfGrid","shelves","onShelfClick","NUM_SHELVES","NUM_TIERS_PER_SHELF","NUM_TRAYS_PER_TIER","selectedShelf","setSelectedShelf","setStats","setLastUpdated","toISOString","shelvesData","setShelvesData","filters","hasActiveFilters","calculateStatus","percentage","initialData","Array","length","_","shelfIndex","tiers","groupIndex","groupedTiers","trays","trayIndex","Math","floor","random","interval","setInterval","prevData","newData","randomShelf","randomTierGroup","randomTierInGroup","randomTray","newItemCount","clearInterval","newStats","forEach","group","handleTrayClick","tierInfo","hasTierMatchingItems","matchesTierFilter","Number","hasMatchingStatus","some","handleCloseDetail","map","hasMatchingItems","tierFilterClass","transition","toString","matchesTier","matchesStatus","isMatching","FilterPanel","_statusDescriptions$f","_statusDescriptions$f2","_statusDescriptions$f3","onFilterChange","statuses","shelfStats","statusDescriptions","HIGH","label","color","MEDIUM","EMPTY","sortedTiers","useMemo","Set","sort","a","b","handleFilterChange","filterType","newFilters","resetFilters","resetState","totalItems","Object","values","reduce","acc","curr","borderLeft","_statusDescriptions$s","count","round","paddingLeft","users","email","currentUser","auth","register","u","newUser","push","find","token","getProfile","generateShelves","shelfNum","shelfData","tierData","shelfAPI","fetchAll","getStats","subscribeToUpdates","onUpdate","intervalId","idx","updateShelf","data","findIndex","s","authAPI","api","Dashboard","onLogout","setShelves","filteredShelves","setFilteredShelves","setFilters","handleLogout","console","getShelfStats","getAllTiers","add","applyFilters","shelfList","currentFilters","isArray","isVisible","filter","loadData","filtered","unsub","subscribe","update","prevShelves","newShelves","log","nextFilters","isStillVisible","_id","DashboardWithAuth","App","Router","Switch","exact","path","window","process","env","defaultEnv","NODE_ENV","REACT_APP_NODE_ENV","_env_","ReactDOM","React","StrictMode","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst AuthContext = createContext(null);\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n    const [user, setUser] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const savedUser = localStorage.getItem('user');\r\n        if (savedUser) {\r\n            setUser(JSON.parse(savedUser));\r\n        }\r\n        setLoading(false);\r\n    }, []);\r\n\r\n    const login = async (userData) => {\r\n        setUser(userData);\r\n        localStorage.setItem('user', JSON.stringify(userData));\r\n    };\r\n\r\n    const logout = () => {\r\n        setUser(null);\r\n        localStorage.removeItem('user');\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user, login, logout, loading }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useAuth = () => {\r\n    const context = useContext(AuthContext);\r\n    if (!context) {\r\n        throw new Error('useAuth must be used within an AuthProvider');\r\n    }\r\n    return context;\r\n};","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext';\nimport './ProtectedRoute.css';\n\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\n    const { user, loading } = useAuth();\n\n    if (loading) {\n        return (\n            <div className=\"loading-container\">\n                <div className=\"loading-spinner\"></div>\n                <p>Đang tải...</p>\n            </div>\n        );\n    }\n\n    return (\n        <Route\n            {...rest}\n            render={props => \n                user ? (\n                    <Component {...props} />\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: \"/login\",\n                            state: { from: props.location }\n                        }}\n                    />\n                )\n            }\n        />\n    );\n};\n\nexport default ProtectedRoute;","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport './Login.css';\r\n\r\nconst Login = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const { login } = useAuth();\r\n    const isMounted = useRef(true);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false;\r\n        };\r\n    }, []);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            if (!username || !password) {\r\n                throw new Error('Vui lòng nhập đầy đủ thông tin');\r\n            }\r\n\r\n            if (username === 'admin' && password === 'admin123') {\r\n                await login({ username, role: 'admin' });\r\n                const { from } = location.state || { from: { pathname: \"/dashboard\" } };\r\n                if (isMounted.current) {\r\n                    history.replace(from);\r\n                }\r\n            } else {\r\n                throw new Error('Thông tin đăng nhập không chính xác');\r\n            }\r\n        } catch (err) {\r\n            if (isMounted.current) {\r\n                setError(err.message);\r\n            }\r\n        } finally {\r\n            if (isMounted.current) {\r\n                setIsLoading(false);\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"login-container\">\r\n            <h2>Đăng Nhập Hệ Thống</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"username\">Tên đăng nhập:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"username\"\r\n                        value={username}\r\n                        onChange={(e) => setUsername(e.target.value)}\r\n                        disabled={isLoading}\r\n                        required\r\n                        placeholder=\"Nhập tên đăng nhập\"\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Mật khẩu:</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                        disabled={isLoading}\r\n                        required\r\n                        placeholder=\"Nhập mật khẩu\"\r\n                    />\r\n                </div>\r\n                {error && <div className=\"error-message\">{error}</div>}\r\n                <button type=\"submit\" disabled={isLoading}>\r\n                    {isLoading ? 'Đang xử lý...' : 'Đăng Nhập'}\r\n                </button>\r\n            </form>\r\n            <div className=\"login-note\">\r\n                <p>Tài khoản mặc định: admin / admin123</p>\r\n                <p>Lưu ý: Chỉ dành cho mục đích kiểm thử</p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","// File: ShelfItem.js\n// Mô tả: Component React hiển thị một kệ hàng đơn lẻ trong lưới kệ của dashboard quản lý kho.\n// Chức năng: Hiển thị trạng thái, vị trí kệ, màu sắc và cho phép chọn để xem chi tiết.\nimport React from 'react';\nimport './ShelfGrid.css';\n\nconst ShelfItem = ({ tier, tray, status, onClick, isFiltered = false }) => {\n  // Đảm bảo status luôn là chuỗi hợp lệ và chữ thường\n  const safeStatus = (status || 'empty').toLowerCase();\n\n  // Tooltip chi tiết hơn\n  const statusLabels = {\n    high: 'Kệ chứa nhiều',\n    medium: 'Kệ chứa vừa phải',\n    empty: 'Kệ trống'\n  };\n\n  // Thêm hàm xử lý sự kiện riêng để đảm bảo click hoạt động\n  const handleClick = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (onClick) onClick();\n  };\n\n  // Thêm hàm xử lý phím để đảm bảo accessibility\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      if (onClick) onClick();\n    }\n  };\n\n  return (\n    <div\n      className={`shelf-item ${safeStatus} ${isFiltered ? 'filtered' : ''}`}\n      onClick={handleClick}\n      onKeyPress={handleKeyPress}\n      title={`Tầng ${tier} - Khay ${tray} | ${statusLabels[safeStatus]}`}\n      tabIndex={0}\n      role=\"button\"\n      aria-label={`Kệ tầng ${tier} khay ${tray} trạng thái ${statusLabels[safeStatus]}`}\n      style={{ \n        cursor: onClick ? 'pointer' : 'default',\n        transform: isFiltered ? 'translateY(-6px)' : 'translateY(0)'\n      }}\n    >\n      <span className=\"shelf-label\">{tier}-{tray}</span>\n      {isFiltered && <div className=\"highlight-border\"></div>}\n    </div>\n  );\n};\n\nexport default ShelfItem;","// File: ShelfDetail.js\n// Mô tả: Component React hiển thị chi tiết thông tin một kệ hàng trong dashboard quản lý kho.\n// Chức năng: Hiển thị thông tin tầng, khay, trạng thái, sức chứa và thời gian cập nhật của kệ hàng, cho phép đóng popup chi tiết.\nimport React from 'react';\nimport './ShelfDetail.css';\n\nconst ShelfDetail = ({ shelf, onClose }) => {\n    if (!shelf) return null;\n\n    const percentageFilled = ((shelf.itemCount || 0) / (shelf.capacity || 1)) * 100;\n    \n    // Đảm bảo tier là số nguyên\n    const displayTier = typeof shelf.tier === 'string' ? parseInt(shelf.tier) : shelf.tier;\n\n    return (\n        <div className=\"shelf-detail\" role=\"dialog\" aria-labelledby=\"shelf-detail-title\">\n            <div className=\"shelf-detail-header\">\n                <h3 id=\"shelf-detail-title\">Chi tiết kệ hàng</h3>\n                <button \n                    onClick={onClose} \n                    className=\"close-button\"\n                    aria-label=\"Đóng chi tiết\"\n                >&times;</button>\n            </div>\n            <div className=\"shelf-detail-content\">\n                <div className=\"detail-row\">\n                    <span className=\"label\">Tầng:</span>\n                    <span className=\"value\">{displayTier}</span>\n                </div>\n                <div className=\"detail-row\">\n                    <span className=\"label\">Khay:</span>\n                    <span className=\"value\">{shelf.tray}</span>\n                </div>\n                <div className=\"detail-row\">\n                    <span className=\"label\">Số lượng:</span>\n                    <span className=\"value\">{shelf.itemCount || 0} / {shelf.capacity || 0} ({percentageFilled.toFixed(1)}%)</span>\n                </div>\n                <div className=\"detail-row\">\n                    <span className=\"label\">Trạng thái:</span>\n                    <span className={`value status-${(shelf.status || '').toLowerCase()}`}>\n                        {shelf.status || ''}\n                    </span>\n                </div>\n                {shelf.lastUpdated && (\n                    <div className=\"detail-row\">\n                        <span className=\"label\">Cập nhật lần cuối:</span>\n                        <span className=\"value\">{new Date(shelf.lastUpdated).toLocaleString()}</span>\n                    </div>\n                )}\n                {shelf.capacity !== undefined && (\n                    <div className=\"detail-row\">\n                        <span className=\"label\">Sức chứa:</span>\n                        <span className=\"value\">{shelf.capacity}</span>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default ShelfDetail;\n","// File: StatusBar.js\n// Mô tả: Component React hiển thị thanh trạng thái tổng quan các kệ hàng trong dashboard quản lý kho.\n// Chức năng: Hiển thị số lượng kệ theo từng trạng thái (đầy, còn trống, trống hoàn toàn) và thời gian cập nhật gần nhất.\nimport React from 'react';\nimport './StatusBar.css';\n\nconst StatusBar = ({ stats = {}, lastUpdated }) => {\n  // Đảm bảo stats luôn có đủ các trường\n  const safeStats = {\n    high: typeof stats.high === 'number' ? stats.high : 0,\n    medium: typeof stats.medium === 'number' ? stats.medium : 0,\n    empty: typeof stats.empty === 'number' ? stats.empty : 0,\n  };\n\n  // Định dạng ngày giờ cập nhật\n  const formatDate = (date) => {\n    if (!date) return '---';\n    try {\n      const d = typeof date === 'string' ? new Date(date) : date;\n      if (isNaN(d)) return '---';\n      \n      return new Intl.DateTimeFormat('vi-VN', {\n        year: 'numeric',\n        month: 'numeric',\n        day: 'numeric',\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: false\n      }).format(d);\n    } catch {\n      return '---';\n    }\n  };\n\n  // Tính tổng số ô\n  const totalTrays = safeStats.high + safeStats.medium + safeStats.empty;\n\n  return (\n    <div className=\"status-bar\" role=\"status\" aria-label=\"Thống kê trạng thái kệ hàng\">\n      <div className=\"status-bar-items\">\n        <div className=\"stat-item\" title=\"Số ô đang chứa nhiều\">\n          <div className=\"stat-content\">\n            <span className=\"dot high-dot\" aria-label=\"Ô chứa nhiều\"></span>\n            <span className=\"stat-label\">HIGH:</span>\n            <span className=\"stat-value\">{safeStats.high}</span>\n          </div>\n          <div className=\"stat-percentage\">\n            {totalTrays ? ((safeStats.high / totalTrays) * 100).toFixed(1) : 0}%\n          </div>\n        </div>\n\n        <div className=\"stat-item\" title=\"Số ô đang chứa vừa phải\">\n          <div className=\"stat-content\">\n            <span className=\"dot medium-dot\" aria-label=\"Ô chứa vừa phải\"></span>\n            <span className=\"stat-label\">MEDIUM:</span>\n            <span className=\"stat-value\">{safeStats.medium}</span>\n          </div>\n          <div className=\"stat-percentage\">\n            {totalTrays ? ((safeStats.medium / totalTrays) * 100).toFixed(1) : 0}%\n          </div>\n        </div>\n\n        <div className=\"stat-item\" title=\"Số ô đang trống\">\n          <div className=\"stat-content\">\n            <span className=\"dot empty-dot\" aria-label=\"Ô trống\"></span>\n            <span className=\"stat-label\">EMPTY:</span>\n            <span className=\"stat-value\">{safeStats.empty}</span>\n          </div>\n          <div className=\"stat-percentage\">\n            {totalTrays ? ((safeStats.empty / totalTrays) * 100).toFixed(1) : 0}%\n          </div>\n        </div>\n      </div>\n\n      <div className=\"last-updated\" title=\"Thời gian cập nhật thống kê\">\n        Cập nhật: {formatDate(lastUpdated)}\n      </div>\n    </div>\n  );\n};\n\nexport default StatusBar;","// File: ShelfGrid.js\n// Mô tả: Component React hiển thị lưới các kệ hàng trong dashboard quản lý kho.\n// Chức năng: Hiển thị danh sách kệ hàng theo tầng và khay, cho phép chọn từng kệ để xem chi tiết.\nimport React, { useState, useEffect, useRef } from 'react';\nimport './ShelfGrid.css';\nimport ShelfItem from './ShelfItem';\nimport ShelfDetail from '../ShelfDetail/ShelfDetail';\nimport StatusBar from '../StatusBar/StatusBar';\n\nconst ShelfGrid = ({ shelves, onShelfClick }) => {\n  const NUM_SHELVES = 4; // Số lượng kệ đồ\n  const NUM_TIERS_PER_SHELF = 4; // Số tầng mỗi kệ\n  const NUM_TRAYS_PER_TIER = 6; // Số ô mỗi tầng\n  const isMounted = useRef(true);\n\n  const [selectedShelf, setSelectedShelf] = useState(null);\n  const [stats, setStats] = useState({ high: 0, medium: 0, empty: 0 });\n  const [lastUpdated, setLastUpdated] = useState(new Date().toISOString());\n  const [shelvesData, setShelvesData] = useState([]);\n  const [filters] = useState({\n    tier: 'all',\n    status: 'all'\n  });\n\n  // Kiểm tra xem có bất kỳ bộ lọc nào đang hoạt động không\n  const hasActiveFilters = filters.status !== 'all' || filters.tier !== 'all';\n  \n  // Hàm tính toán trạng thái dựa trên số lượng vật phẩm và sức chứa\n  const calculateStatus = (itemCount, capacity) => {\n    const percentage = (itemCount / capacity) * 100;\n    let status;\n    if (percentage >= 70) status = 'HIGH';\n    else if (percentage >= 30) status = 'MEDIUM';\n    else status = 'EMPTY';\n    \n    return status;\n  };\n\n  // Cleanup khi component unmount\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  // Khởi tạo dữ liệu ban đầu và thiết lập interval cập nhật\n  useEffect(() => {\n    // Tạo dữ liệu mẫu ban đầu\n    const initialData = Array.from({ length: NUM_SHELVES }, (_, shelfIndex) => {\n      const tiers = Array.from({ length: NUM_TIERS_PER_SHELF / 2 }, (_, groupIndex) => {\n        const groupedTiers = [\n          { \n            tier: groupIndex * 2 + 1, \n            trays: Array.from({ length: NUM_TRAYS_PER_TIER }, (_, trayIndex) => {\n              const capacity = 100;\n              const itemCount = Math.floor(Math.random() * (capacity + 1));\n              return {\n                tray: trayIndex + 1,\n                status: calculateStatus(itemCount, capacity),\n                capacity,\n                itemCount,\n                lastUpdated: new Date().toISOString()\n              };\n            })\n          },\n          { \n            tier: groupIndex * 2 + 2, \n            trays: Array.from({ length: NUM_TRAYS_PER_TIER }, (_, trayIndex) => {\n              const capacity = 100;\n              const itemCount = Math.floor(Math.random() * (capacity + 1));\n              return {\n                tray: trayIndex + 1,\n                status: calculateStatus(itemCount, capacity),\n                capacity,\n                itemCount,\n                lastUpdated: new Date().toISOString()\n              };\n            })\n          }\n        ];\n        return groupedTiers;\n      });\n      return { shelf: shelfIndex + 1, tiers };\n    });\n\n    setShelvesData(initialData);\n\n    // Thiết lập interval để cập nhật ngẫu nhiên\n    const interval = setInterval(() => {\n      if (isMounted.current) {\n        setShelvesData(prevData => {\n          const newData = JSON.parse(JSON.stringify(prevData));\n          \n          // Chọn ngẫu nhiên một ô để cập nhật\n          const randomShelf = Math.floor(Math.random() * NUM_SHELVES);\n          const randomTierGroup = Math.floor(Math.random() * (NUM_TIERS_PER_SHELF / 2));\n          const randomTierInGroup = Math.floor(Math.random() * 2);\n          const randomTray = Math.floor(Math.random() * NUM_TRAYS_PER_TIER);\n          \n          // Cập nhật thông tin của ô được chọn\n          const tray = newData[randomShelf].tiers[randomTierGroup][randomTierInGroup].trays[randomTray];\n          const newItemCount = Math.floor(Math.random() * (tray.capacity + 1));\n          tray.itemCount = newItemCount;\n          tray.status = calculateStatus(newItemCount, tray.capacity);\n          tray.lastUpdated = new Date().toISOString();\n          \n          return newData;\n        });\n        setLastUpdated(new Date().toISOString());\n      }\n    }, 3000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  // Tính toán thống kê mỗi khi dữ liệu thay đổi\n  useEffect(() => {\n    const newStats = { high: 0, medium: 0, empty: 0 };\n    \n    shelvesData.forEach(shelf => {\n      shelf.tiers.forEach(group => {\n        group.forEach(tier => {\n          tier.trays.forEach(tray => {\n            newStats[tray.status.toLowerCase()]++;\n          });\n        });\n      });\n    });\n    \n    setStats(newStats);\n  }, [shelvesData]);\n\n  const handleTrayClick = (shelfIndex, tierInfo, trayIndex) => {\n    // Thêm check để tránh click vào khu vực không hợp lệ\n    if (!tierInfo || !tierInfo.trays || !tierInfo.trays[trayIndex]) {\n      return;\n    }\n  \n    const tray = tierInfo.trays[trayIndex];\n    \n    setSelectedShelf({\n      shelf: shelfIndex + 1,\n      tier: tierInfo.tier,\n      tray: tray.tray,\n      status: tray.status,\n      capacity: tray.capacity,\n      itemCount: tray.itemCount,\n      lastUpdated: tray.lastUpdated\n    });\n  };\n  // Hàm kiểm tra một hàng (tier) có bất kỳ ô nào phù hợp với bộ lọc không\n  const hasTierMatchingItems = (tier) => {\n    // Nếu không có bộ lọc đang hoạt động, mọi tier đều phù hợp\n    if (filters.tier === 'all' && filters.status === 'all') {\n      return true;\n    }\n    \n    // Kiểm tra xem tầng này có phù hợp với bộ lọc tầng không\n    const matchesTierFilter = filters.tier === 'all' || Number(filters.tier) === tier.tier;\n    \n    // Nếu không phù hợp với bộ lọc tầng, trả về false ngay\n    if (!matchesTierFilter) {\n      return false;\n    }\n    \n    // Kiểm tra xem có bất kỳ khay nào trong tầng này phù hợp với bộ lọc trạng thái\n    const hasMatchingStatus = tier.trays.some(tray => {\n      return filters.status === 'all' || filters.status === tray.status;\n    });\n    \n    return hasMatchingStatus;\n  };\n\n  const handleCloseDetail = () => {\n    setSelectedShelf(null);\n  };\n\n  return (\n    <div className=\"shelf-grid-wrapper\">\n      <StatusBar stats={stats} lastUpdated={lastUpdated} />\n      <div className=\"shelf-grid-container\">\n        {shelvesData.map((shelf, shelfIndex) => (\n          <div key={`shelf-${shelf.shelf}`} className=\"shelf-grid\">\n            <h3>Kệ {shelf.shelf}</h3>\n            {shelf.tiers.map((group, groupIndex) => (\n              <div key={`tier-group-${groupIndex}`} className=\"tier-row-group\">\n                {group.map((tier) => {\n                  // Xác định xem tier này có phần tử phù hợp với bộ lọc không\n                  const hasMatchingItems = hasTierMatchingItems(tier);\n                  \n                  // Class CSS dựa trên kết quả lọc\n                  const isFiltered = filters.status !== 'all' || filters.tier !== 'all';\n                  const tierFilterClass = isFiltered\n                    ? (hasMatchingItems ? 'has-matching-items' : 'no-matching-items')\n                    : '';\n                  \n                  return (\n                    <div \n                      key={`tier-${tier.tier}`} \n                      className={`tier-row ${tierFilterClass}`}\n                      style={{\n                        transition: `all 0.7s cubic-bezier(0.4, 0, 0.2, 1) ${tier.tier * 0.1}s`\n                      }}\n                      data-tier={tier.tier}\n                      data-has-matches={hasMatchingItems.toString()}\n                    >\n                      <div className=\"tier-label\">Tầng {tier.tier}</div>\n                      <div className=\"tray-container\">\n                        {tier.trays.map((tray, trayIndex) => {\n                          // Kiểm tra cụ thể cho mỗi loại bộ lọc\n                          const matchesTier = filters.tier === 'all' || Number(filters.tier) === tier.tier;\n                          const matchesStatus = filters.status === 'all' || filters.status === tray.status;\n                          const isMatching = matchesTier && matchesStatus;\n                          const isFiltered = filters.status !== 'all' || filters.tier !== 'all';\n                          \n                          return (\n                            <div \n                              key={`tray-${tier.tier}-${tray.tray}`} \n                              className={`tray-cell ${isFiltered ? (isMatching ? 'matching-filter' : 'not-matching-filter') : ''} status-${tray.status.toLowerCase()}`}\n                              style={{\n                                transition: `all 0.5s cubic-bezier(0.4, 0, 0.2, 1) ${trayIndex * 0.05}s`\n                              }}\n                              data-tier={tier.tier}\n                              data-tray={tray.tray}\n                              data-status={tray.status}\n                              data-matches={isMatching.toString()}\n                            >\n                              <ShelfItem\n                                tier={tier.tier}\n                                tray={tray.tray}\n                                status={tray.status}\n                                onClick={() => handleTrayClick(shelfIndex, tier, trayIndex)}\n                                isFiltered={hasActiveFilters && isMatching}\n                              />\n                            </div>\n                          );\n                        })}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            ))}\n          </div>\n        ))}\n      </div>\n      {selectedShelf && (\n        <ShelfDetail\n          shelf={selectedShelf}\n          onClose={handleCloseDetail}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ShelfGrid;","// File: FilterPanel.js\n// Mô tả: Component React hiển thị và xử lý bộ lọc (filter) cho dashboard quản lý kho hàng.\n// Chức năng: Cho phép người dùng lọc dữ liệu kệ hàng theo tầng và trạng thái, đồng bộ với dashboard.\nimport React, { useMemo } from 'react';\nimport './FilterPanel.css';\n\nconst FilterPanel = ({\n  onFilterChange,\n  tiers = [],\n  statuses = ['HIGH', 'MEDIUM', 'EMPTY'],\n  filters,\n  shelfStats\n}) => {\n  // Mapping trạng thái với mô tả và màu sắc\n  const statusDescriptions = {\n    HIGH: { label: 'Kệ đầy', color: '#22c55e' },\n    MEDIUM: { label: 'Kệ còn trống một phần', color: '#f59e0b' },\n    EMPTY: { label: 'Kệ trống hoàn toàn', color: '#ef4444' },\n  };\n\n  // Sắp xếp danh sách tầng\n  const sortedTiers = useMemo(() => {\n    return [...new Set(tiers)].sort((a, b) => Number(a) - Number(b));\n  }, [tiers]);\n\n  // Xử lý thay đổi bộ lọc\n  const handleFilterChange = (filterType, value) => {\n    const newFilters = {\n      ...filters,\n      [filterType]: value,\n    };\n    onFilterChange(filterType, value, newFilters);\n  };\n\n  // Reset tất cả bộ lọc\n  const resetFilters = () => {\n    const resetState = {\n      tier: 'all',\n      status: 'all',\n    };\n    onFilterChange('reset', null, resetState);\n  };\n\n  // Tính tổng số lượng cho mỗi trạng thái\n  const totalItems = useMemo(() => {\n    return Object.values(shelfStats || {}).reduce((acc, curr) => acc + (curr || 0), 0);\n  }, [shelfStats]);\n\n  return (\n    <div className=\"filter-panel\">\n      <div className=\"filter-header\">\n        <h3>Bộ lọc</h3>\n        <button\n          className=\"reset-button\"\n          onClick={resetFilters}\n          disabled={filters.tier === 'all' && filters.status === 'all'}\n          title=\"Đặt lại tất cả bộ lọc\"\n        >\n          Đặt lại\n        </button>\n      </div>\n\n      <div className=\"filter-group\">\n        <label htmlFor=\"tier-select\">Chọn tầng:</label>\n        <select\n          id=\"tier-select\"\n          value={filters.tier}\n          onChange={(e) => handleFilterChange('tier', e.target.value)}\n        >\n          <option value=\"all\">Tất cả các tầng</option>\n          {sortedTiers.map((tier) => (\n            <option key={tier} value={tier.toString()}>\n              Tầng {tier}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"filter-group\">\n        <label htmlFor=\"status-select\">Trạng thái kệ:</label>\n        <select\n          id=\"status-select\"\n          value={filters.status}\n          onChange={(e) => handleFilterChange('status', e.target.value)}\n          style={{\n            borderLeft: filters.status !== 'all' ? `4px solid ${statusDescriptions[filters.status]?.color || 'transparent'}` : 'none'\n          }}\n        >\n          <option value=\"all\">Tất cả trạng thái</option>\n          {statuses.map((status) => {\n            const count = shelfStats?.[status.toLowerCase()] || 0;\n            const percentage = totalItems > 0 ? Math.round((count / totalItems) * 100) : 0;\n            \n            return (\n              <option \n                key={status} \n                value={status}\n                className={`status-option status-${status.toLowerCase()}`}\n              >\n                {statusDescriptions[status]?.label || status}\n                {` (${count} - ${percentage}%)`}\n              </option>\n            );\n          })}\n        </select>\n      </div>\n\n      {/* Hiển thị các bộ lọc đang áp dụng */}\n      <div className=\"active-filters\">\n        {(filters.tier !== 'all' || filters.status !== 'all') && (\n          <div className=\"filter-tags\">\n            <span>Đang lọc theo: </span>\n            {filters.tier !== 'all' && (\n              <span className=\"filter-tag\">\n                Tầng {filters.tier}\n                <button \n                  onClick={() => handleFilterChange('tier', 'all')} \n                  aria-label=\"Xóa bộ lọc tầng\"\n                  title=\"Xóa bộ lọc tầng\"\n                >×</button>\n              </span>\n            )}\n            {filters.status !== 'all' && (\n              <span \n                className=\"filter-tag\"\n                style={{ \n                  borderLeft: `4px solid ${statusDescriptions[filters.status]?.color || 'transparent'}`,\n                  paddingLeft: '8px'\n                }}\n              >\n                {statusDescriptions[filters.status]?.label || filters.status}\n                <button \n                  onClick={() => handleFilterChange('status', 'all')} \n                  aria-label=\"Xóa bộ lọc trạng thái\"\n                  title=\"Xóa bộ lọc trạng thái\"\n                >×</button>\n              </span>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default FilterPanel;\n","// MOCK DATA & API ONLY - KHÔNG GỌI BACKEND NỮA\r\n\r\n// Giả lập danh sách người dùng\r\nconst users = [\r\n  { id: 1, username: 'admin', password: 'admin123', email: 'admin@example.com' },\r\n  { id: 2, username: 'user', password: 'user123', email: 'user@example.com' }\r\n];\r\n\r\nlet currentUser = users[0];\r\n\r\nconst auth = {\r\n  register: async (userData) => {\r\n    if (users.some(u => u.username === userData.username || u.email === userData.email)) {\r\n      throw new Error('Username hoặc email đã tồn tại');\r\n    }\r\n    const newUser = {\r\n      id: users.length + 1,\r\n      ...userData\r\n    };\r\n    users.push(newUser);\r\n    return { message: 'Đăng ký thành công', user: { ...newUser, password: undefined } };\r\n  },\r\n  login: async (username, password) => {\r\n    const user = users.find(u => u.username === username && u.password === password);\r\n    if (!user) {\r\n      throw new Error('Tên đăng nhập hoặc mật khẩu không đúng');\r\n    }\r\n    currentUser = user;\r\n    return {\r\n      token: 'mock-token',\r\n      user: { id: user.id, username: user.username, email: user.email }\r\n    };\r\n  },\r\n  getProfile: async () => {\r\n    if (!currentUser) throw new Error('Chưa đăng nhập');\r\n    return { id: currentUser.id, username: currentUser.username, email: currentUser.email };\r\n  }\r\n};\r\n\r\n// Giả lập dữ liệu kệ hàng\r\nfunction generateShelves() {\r\n  const shelves = [];\r\n  for (let shelfNum = 1; shelfNum <= 4; shelfNum++) {\r\n    const shelfData = {\r\n      shelf: shelfNum,\r\n      tiers: []\r\n    };\r\n    \r\n    for (let tier = 1; tier <= 4; tier++) {\r\n      const tierData = {\r\n        tier: tier,\r\n        trays: []\r\n      };\r\n      \r\n      for (let tray = 1; tray <= 6; tray++) {\r\n        const capacity = 100;\r\n        const itemCount = Math.floor(Math.random() * (capacity + 1));\r\n        let status;\r\n        if (itemCount >= 80) status = 'HIGH';\r\n        else if (itemCount >= 30) status = 'MEDIUM';\r\n        else status = 'EMPTY';\r\n        \r\n        tierData.trays.push({\r\n          tray,\r\n          status,\r\n          capacity,\r\n          itemCount,\r\n          lastUpdated: new Date().toISOString()\r\n        });\r\n      }\r\n      shelfData.tiers.push(tierData);\r\n    }\r\n    shelves.push(shelfData);\r\n  }\r\n  return shelves;\r\n}\r\n\r\nlet shelvesData = generateShelves();\r\n\r\nconst shelfAPI = {\r\n  fetchAll: async () => {\r\n    return shelvesData;\r\n  },\r\n  getStats: async () => {\r\n    const stats = { high: 0, medium: 0, empty: 0 };\r\n    shelvesData.forEach(shelf => {\r\n      stats[shelf.status.toLowerCase()]++;\r\n    });\r\n    return stats;\r\n  },\r\n  subscribeToUpdates: async (onUpdate) => {\r\n    // Giả lập cập nhật ngẫu nhiên mỗi 10s\r\n    const intervalId = setInterval(() => {\r\n      const idx = Math.floor(Math.random() * shelvesData.length);\r\n      const shelf = shelvesData[idx];\r\n      // Random capacity\r\n      shelf.capacity = Math.floor(Math.random() * 101);\r\n      if (shelf.capacity >= 80) shelf.status = 'HIGH';\r\n      else if (shelf.capacity >= 30) shelf.status = 'MEDIUM';\r\n      else shelf.status = 'EMPTY';\r\n      shelf.lastUpdated = new Date().toISOString();\r\n      onUpdate({ ...shelf });\r\n    }, 10000);\r\n    // Trả về hàm unsubscribe\r\n    return () => clearInterval(intervalId);\r\n  },\r\n  updateShelf: async (tier, tray, data) => {\r\n    // Tìm đúng kệ theo tier, tray và shelf (nếu có)\r\n    const idx = shelvesData.findIndex(s => s.tier === tier && s.tray === tray && (data.shelf ? s.shelf === data.shelf : true));\r\n    if (idx === -1) throw new Error('Không tìm thấy kệ');\r\n    shelvesData[idx] = {\r\n      ...shelvesData[idx],\r\n      ...data,\r\n      lastUpdated: new Date().toISOString()\r\n    };\r\n    return shelvesData[idx];\r\n  }\r\n};\r\n\r\nexport const authAPI = auth;\r\nexport const shelf = shelfAPI;\r\nexport const api = { auth, shelf: shelfAPI };","// File: Dashboard.js\n// Mô tả: Component React chính hiển thị dashboard quản lý kho hàng.\n// Chức năng: Quản lý trạng thái, lọc, thống kê, hiển thị lưới kệ, chi tiết kệ, và đồng bộ dữ liệu mock cho toàn bộ hệ thống.\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport '../styles/variables.css';\nimport '../styles/global.css';\nimport '../styles/responsive.css';\nimport './Dashboard.css';\nimport ShelfGrid from '../components/ShelfGrid/ShelfGrid';\nimport FilterPanel from '../components/FilterPanel/FilterPanel';\nimport ShelfDetail from '../components/ShelfDetail/ShelfDetail';\nimport { shelf } from '../utils/api';\n\nconst Dashboard = ({ user, onLogout }) => {\n  const history = useHistory();\n  const isMounted = useRef(true);\n  const [shelves, setShelves] = useState([]);\n  const [filteredShelves, setFilteredShelves] = useState([]);\n  const [selectedShelf, setSelectedShelf] = useState(null);\n  const [filters, setFilters] = useState({ tier: 'all', status: 'all' });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const handleLogout = () => {\n    try {\n      onLogout();\n      history.push('/login');\n    } catch (error) {\n      console.error('Lỗi khi đăng xuất:', error);\n    }\n  };\n\n  // Loại bỏ hàm calculateStats vì không cần thiết nữa\n\n  const getShelfStats = () => {\n    const stats = { high: 0, medium: 0, empty: 0 };\n    \n    shelves.forEach(shelf => {\n      if (shelf.tiers) {\n        shelf.tiers.forEach(tier => {\n          if (tier.trays) {\n            tier.trays.forEach(tray => {\n              const status = tray.status ? tray.status.toLowerCase() : 'empty';\n              if (stats[status] !== undefined) {\n                stats[status]++;\n              }\n            });\n          }\n        });\n      }\n    });\n    \n    return stats;\n  };\n\n  const getAllTiers = () => {\n    const tiers = new Set();\n    shelves.forEach(shelf => {\n      shelf.tiers.forEach(tier => {\n        tiers.add(tier.tier);\n      });\n    });\n    return Array.from(tiers);\n  };\n\n  // Áp dụng bộ lọc\n  const applyFilters = (shelfList, currentFilters) => {\n    if (!Array.isArray(shelfList)) return [];\n    \n    return shelfList.map(shelf => ({\n      ...shelf,\n      tiers: shelf.tiers.map(tier => ({\n        ...tier,\n        trays: tier.trays.map(tray => ({\n          ...tray,\n          isVisible: (currentFilters.tier === 'all' || tier.tier === parseInt(currentFilters.tier)) &&\n                    (currentFilters.status === 'all' || tray.status === currentFilters.status)\n        }))\n      }))\n    })).filter(shelf => shelf.tiers.some(tier => tier.trays.some(tray => tray.isVisible)));\n  };\n\n  // Load dữ liệu ban đầu\n  // Cleanup khi component unmount\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  // Load dữ liệu ban đầu\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        setLoading(true);\n        const data = await shelf.fetchAll();\n        if (!isMounted.current) return;\n        setShelves(data);\n        const filtered = applyFilters(data, filters);\n        setFilteredShelves(filtered);\n      } catch (err) {\n        if (isMounted.current) setError(err.message);\n      } finally {\n        if (isMounted.current) setLoading(false);\n      }\n    };\n    loadData();\n  }, [filters]);\n\n\n  // Subscribe to shelf updates (mock)\n  useEffect(() => {\n    let unsub = null;\n    const subscribe = async () => {\n      unsub = await shelf.subscribeToUpdates((update) => {\n        if (isMounted.current) {\n          setShelves(prevShelves => {\n            const newShelves = prevShelves.map(s =>\n              s.tier === update.tier && s.tray === update.tray\n                ? { ...s, ...update }\n                : s\n            );\n            const filtered = applyFilters(newShelves, filters);\n            setFilteredShelves(filtered);\n            return newShelves;\n          });\n        }\n      });\n    };\n    subscribe();\n    return () => { \n      if (unsub) unsub();\n      isMounted.current = false;\n    };\n  }, [filters]);\n\n\n  // Xử lý thay đổi bộ lọc\n  const handleFilterChange = (type, value, newFilters) => {\n    console.log(`Filter changed: ${type} = ${value}`);\n    const nextFilters = newFilters || { ...filters, [type]: value };\n    setFilters(nextFilters);\n    \n    // Tính toán lại danh sách đã lọc\n    const filtered = applyFilters(shelves, nextFilters);\n    setFilteredShelves(filtered);\n    \n    // Nếu đang chọn một shelf nhưng nó không còn trong kết quả lọc, bỏ chọn\n    if (selectedShelf) {\n      const isStillVisible = filtered.some(shelf => \n        shelf.id === selectedShelf.id || \n        shelf._id === selectedShelf._id\n      );\n      \n      if (!isStillVisible) {\n        setSelectedShelf(null);\n      }\n    }\n  };\n\n\n  if (loading) {\n    return <div className=\"loading\" role=\"status\">Đang tải dữ liệu...</div>;\n  }\n\n  if (error) {\n    return <div className=\"error\" role=\"alert\">Lỗi: {error}</div>;\n  }\n\n  return (\n    <div className=\"dashboard\">\n      <div className=\"dashboard-header\">\n        <h1 className=\"dashboard-title\">Warehouse Dashboard</h1>\n        <div className=\"user-info\">\n          <span className=\"user-name\">{user?.username || 'Admin'}</span>\n          <button className=\"logout-button\" onClick={handleLogout}>\n            Đăng xuất\n          </button>\n        </div>\n      </div>\n      \n      <FilterPanel \n        tiers={getAllTiers()}\n        statuses={['HIGH', 'MEDIUM', 'EMPTY']}\n        filters={filters}\n        onFilterChange={handleFilterChange}\n        shelfStats={getShelfStats()}\n      />\n      \n      <ShelfGrid \n        shelves={filteredShelves}\n        onShelfClick={setSelectedShelf}\n      />\n      \n      {selectedShelf && (\n        <ShelfDetail \n          shelf={selectedShelf}\n          onClose={() => setSelectedShelf(null)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\r\nimport { AuthProvider, useAuth } from './context/AuthContext';\r\nimport ProtectedRoute from './components/ProtectedRoute/ProtectedRoute';\r\nimport Login from './pages/Login';\r\nimport Dashboard from './pages/Dashboard';\r\n\r\nconst DashboardWithAuth = () => {\r\n    const { user, logout } = useAuth();\r\n    return <Dashboard user={user} onLogout={logout} />;\r\n};\r\n\r\nfunction App() {\r\n    return (\r\n        <AuthProvider>\r\n            <Router>\r\n                <Switch>\r\n                    <Route exact path=\"/login\" component={Login} />\r\n                    <ProtectedRoute path=\"/dashboard\" component={DashboardWithAuth} />\r\n                    <Route exact path=\"/\">\r\n                        <Redirect to=\"/dashboard\" />\r\n                    </Route>\r\n                </Switch>\r\n            </Router>\r\n        </AuthProvider>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/variables.css';\r\nimport './styles/global.css';\r\nimport './styles/responsive.css';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n// Set up process polyfill\r\nif (typeof window !== 'undefined') {\r\n  if (!window.process) {\r\n    window.process = {};\r\n  }\r\n  if (!window.process.env) {\r\n    window.process.env = {};\r\n  }\r\n  // Load environment variables\r\n  const defaultEnv = {\r\n    NODE_ENV: 'development',\r\n    REACT_APP_NODE_ENV: 'development'\r\n  };\r\n  // In development, we can access REACT_APP_* variables from _env_\r\n  window.process.env = window._env_ || defaultEnv;\r\n}\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"]}}