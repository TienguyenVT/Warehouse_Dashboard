{"ast":null,"code":"/**\n * File: ShelfDetail.js\n * Mô tả: Component hiển thị chi tiết thông tin một kệ hàng trong dashboard quản lý kho.\n * Chức năng: \n * - Hiển thị thông tin chi tiết của kệ hàng được chọn (tầng, khay, trạng thái)\n * - Hiển thị số lượng hiện tại, sức chứa và phần trăm đã sử dụng\n * - Hiển thị thời gian cập nhật thông tin gần nhất\n * - Cung cấp nút đóng để quay lại giao diện tổng quan\n * - Hỗ trợ accessibility với ARIA attributes\n */import React,{useMemo}from'react';import'./ShelfDetail.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ShelfDetail=_ref=>{let{shelf,onClose}=_ref;// Đảm bảo useMemo luôn được gọi\nconst percentageFilled=useMemo(()=>{if(!shelf)return 0;// Trả về 0 nếu shelf không tồn tại\nconst itemCount=shelf.itemCount||0;const capacity=shelf.capacity||1;// Tránh chia cho 0\nreturn itemCount/capacity*100;},[shelf]);// Di chuyển điều kiện kiểm tra xuống dưới\nif(!shelf)return null;// Chuyển đổi trạng thái sang định dạng hiển thị dễ đọc\nconst formatStatus=status=>{if(!status)return'';const statusMap={'HIGH':'Đầy','MEDIUM':'Còn trống một phần','EMPTY':'Trống'};return statusMap[status]||status;};// Định dạng thời gian\nconst formatDateTime=dateString=>{if(!dateString)return'';try{const date=new Date(dateString);if(isNaN(date.getTime()))return'';return new Intl.DateTimeFormat('vi-VN',{year:'numeric',month:'numeric',day:'numeric',hour:'numeric',minute:'numeric',second:'numeric',hour12:false}).format(date);}catch(error){console.error('Lỗi khi định dạng ngày:',error);return'';}};// Đảm bảo tier là số nguyên\nconst displayTier=typeof shelf.tier==='string'?parseInt(shelf.tier,10):shelf.tier;return/*#__PURE__*/_jsxs(\"div\",{className:\"shelf-detail\",role:\"dialog\",\"aria-labelledby\":\"shelf-detail-title\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"shelf-detail-header\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"shelf-detail-title\",children:\"Chi ti\\u1EBFt k\\u1EC7 h\\xE0ng\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"close-button\",\"aria-label\":\"\\u0110\\xF3ng chi ti\\u1EBFt\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"shelf-detail-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"T\\u1EA7ng:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:displayTier})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Khay:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:shelf.tray})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"S\\u1ED1 l\\u01B0\\u1EE3ng:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[shelf.itemCount||0,\" / \",shelf.capacity||0,\" (\",percentageFilled.toFixed(1),\"%)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Tr\\u1EA1ng th\\xE1i:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value status-\".concat((shelf.status||'').toLowerCase()),children:formatStatus(shelf.status)})]}),shelf.lastUpdated&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"C\\u1EADp nh\\u1EADt l\\u1EA7n cu\\u1ED1i:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:formatDateTime(shelf.lastUpdated)})]}),shelf.capacity!==undefined&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"S\\u1EE9c ch\\u1EE9a:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:shelf.capacity})]})]})]});};export default ShelfDetail;","map":{"version":3,"names":["React","useMemo","jsx","_jsx","jsxs","_jsxs","ShelfDetail","_ref","shelf","onClose","percentageFilled","itemCount","capacity","formatStatus","status","statusMap","formatDateTime","dateString","date","Date","isNaN","getTime","Intl","DateTimeFormat","year","month","day","hour","minute","second","hour12","format","error","console","displayTier","tier","parseInt","className","role","children","id","onClick","tray","toFixed","concat","toLowerCase","lastUpdated","undefined"],"sources":["C:/Documents/warehouse-dashboard/src/components/ShelfDetail/ShelfDetail.js"],"sourcesContent":["/**\n * File: ShelfDetail.js\n * Mô tả: Component hiển thị chi tiết thông tin một kệ hàng trong dashboard quản lý kho.\n * Chức năng: \n * - Hiển thị thông tin chi tiết của kệ hàng được chọn (tầng, khay, trạng thái)\n * - Hiển thị số lượng hiện tại, sức chứa và phần trăm đã sử dụng\n * - Hiển thị thời gian cập nhật thông tin gần nhất\n * - Cung cấp nút đóng để quay lại giao diện tổng quan\n * - Hỗ trợ accessibility với ARIA attributes\n */\nimport React, { useMemo } from 'react';\nimport './ShelfDetail.css';\n\nconst ShelfDetail = ({ shelf, onClose }) => {\n    // Đảm bảo useMemo luôn được gọi\n    const percentageFilled = useMemo(() => {\n        if (!shelf) return 0; // Trả về 0 nếu shelf không tồn tại\n        const itemCount = shelf.itemCount || 0;\n        const capacity = shelf.capacity || 1; // Tránh chia cho 0\n        return (itemCount / capacity) * 100;\n    }, [shelf]);\n\n    // Di chuyển điều kiện kiểm tra xuống dưới\n    if (!shelf) return null;\n\n    // Chuyển đổi trạng thái sang định dạng hiển thị dễ đọc\n    const formatStatus = (status) => {\n        if (!status) return '';\n        const statusMap = {\n            'HIGH': 'Đầy',\n            'MEDIUM': 'Còn trống một phần',\n            'EMPTY': 'Trống'\n        };\n        return statusMap[status] || status;\n    };\n\n    // Định dạng thời gian\n    const formatDateTime = (dateString) => {\n        if (!dateString) return '';\n        try {\n            const date = new Date(dateString);\n            if (isNaN(date.getTime())) return '';\n            \n            return new Intl.DateTimeFormat('vi-VN', {\n                year: 'numeric',\n                month: 'numeric',\n                day: 'numeric',\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                hour12: false\n            }).format(date);\n        } catch (error) {\n            console.error('Lỗi khi định dạng ngày:', error);\n            return '';\n        }\n    };\n\n    // Đảm bảo tier là số nguyên\n    const displayTier = typeof shelf.tier === 'string' ? parseInt(shelf.tier, 10) : shelf.tier;\n\n    return (\n        <div className=\"shelf-detail\" role=\"dialog\" aria-labelledby=\"shelf-detail-title\">\n            <div className=\"shelf-detail-header\">\n                <h3 id=\"shelf-detail-title\">Chi tiết kệ hàng</h3>\n                <button \n                    onClick={onClose} \n                    className=\"close-button\"\n                    aria-label=\"Đóng chi tiết\"\n                >&times;</button>\n            </div>\n            <div className=\"shelf-detail-content\">\n                <div className=\"detail-row\">\n                    <span className=\"label\">Tầng:</span>\n                    <span className=\"value\">{displayTier}</span>\n                </div>\n                <div className=\"detail-row\">\n                    <span className=\"label\">Khay:</span>\n                    <span className=\"value\">{shelf.tray}</span>\n                </div>\n                <div className=\"detail-row\">\n                    <span className=\"label\">Số lượng:</span>\n                    <span className=\"value\">\n                        {shelf.itemCount || 0} / {shelf.capacity || 0} ({percentageFilled.toFixed(1)}%)\n                    </span>\n                </div>\n                <div className=\"detail-row\">\n                    <span className=\"label\">Trạng thái:</span>\n                    <span className={`value status-${(shelf.status || '').toLowerCase()}`}>\n                        {formatStatus(shelf.status)}\n                    </span>\n                </div>\n                {shelf.lastUpdated && (\n                    <div className=\"detail-row\">\n                        <span className=\"label\">Cập nhật lần cuối:</span>\n                        <span className=\"value\">{formatDateTime(shelf.lastUpdated)}</span>\n                    </div>\n                )}\n                {shelf.capacity !== undefined && (\n                    <div className=\"detail-row\">\n                        <span className=\"label\">Sức chứa:</span>\n                        <span className=\"value\">{shelf.capacity}</span>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default ShelfDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}