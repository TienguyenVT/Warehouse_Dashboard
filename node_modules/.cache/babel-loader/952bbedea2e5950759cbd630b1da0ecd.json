{"ast":null,"code":"import _objectSpread from\"C:/Documents/warehouse-dashboard/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// File: FilterPanel.js\n// Mô tả: Component React hiển thị và xử lý bộ lọc (filter) cho dashboard quản lý kho hàng.\n// Chức năng: Cho phép người dùng lọc dữ liệu kệ hàng theo tầng và trạng thái, đồng bộ với dashboard.\nimport React,{useMemo}from'react';import'./FilterPanel.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FilterPanel=_ref=>{var _statusDescriptions$f,_statusDescriptions$f2,_statusDescriptions$f3;let{onFilterChange,tiers=[],statuses=['HIGH','MEDIUM','EMPTY'],filters,shelfStats}=_ref;// Mapping trạng thái với mô tả và màu sắc\nconst statusDescriptions={HIGH:{label:'Kệ đầy',color:'#22c55e'},MEDIUM:{label:'Kệ còn trống một phần',color:'#f59e0b'},EMPTY:{label:'Kệ trống hoàn toàn',color:'#ef4444'}};// Sắp xếp danh sách tầng\nconst sortedTiers=useMemo(()=>{return[...new Set(tiers)].sort((a,b)=>Number(a)-Number(b));},[tiers]);// Xử lý thay đổi bộ lọc\nconst handleFilterChange=(filterType,value)=>{const newFilters=_objectSpread(_objectSpread({},filters),{},{[filterType]:value});onFilterChange(filterType,value,newFilters);};// Reset tất cả bộ lọc\nconst resetFilters=()=>{const resetState={tier:'all',status:'all'};onFilterChange('reset',null,resetState);};// Tính tổng số lượng cho mỗi trạng thái\nconst totalItems=useMemo(()=>{return Object.values(shelfStats||{}).reduce((acc,curr)=>acc+(curr||0),0);},[shelfStats]);return/*#__PURE__*/_jsxs(\"div\",{className:\"filter-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"B\\u1ED9 l\\u1ECDc\"}),/*#__PURE__*/_jsx(\"button\",{className:\"reset-button\",onClick:resetFilters,disabled:filters.tier==='all'&&filters.status==='all',title:\"\\u0110\\u1EB7t l\\u1EA1i t\\u1EA5t c\\u1EA3 b\\u1ED9 l\\u1ECDc\",children:\"\\u0110\\u1EB7t l\\u1EA1i\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tier-select\",children:\"Ch\\u1ECDn t\\u1EA7ng:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"tier-select\",value:filters.tier,onChange:e=>handleFilterChange('tier',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"T\\u1EA5t c\\u1EA3 c\\xE1c t\\u1EA7ng\"}),sortedTiers.map(tier=>/*#__PURE__*/_jsxs(\"option\",{value:tier.toString(),children:[\"T\\u1EA7ng \",tier]},tier))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"status-select\",children:\"Tr\\u1EA1ng th\\xE1i k\\u1EC7:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"status-select\",value:filters.status,onChange:e=>handleFilterChange('status',e.target.value),style:{borderLeft:filters.status!=='all'?\"4px solid \".concat(((_statusDescriptions$f=statusDescriptions[filters.status])===null||_statusDescriptions$f===void 0?void 0:_statusDescriptions$f.color)||'transparent'):'none'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"T\\u1EA5t c\\u1EA3 tr\\u1EA1ng th\\xE1i\"}),statuses.map(status=>{var _statusDescriptions$s;const count=(shelfStats===null||shelfStats===void 0?void 0:shelfStats[status.toLowerCase()])||0;const percentage=totalItems>0?Math.round(count/totalItems*100):0;return/*#__PURE__*/_jsxs(\"option\",{value:status,className:\"status-option status-\".concat(status.toLowerCase()),children:[((_statusDescriptions$s=statusDescriptions[status])===null||_statusDescriptions$s===void 0?void 0:_statusDescriptions$s.label)||status,\" (\".concat(count,\" - \").concat(percentage,\"%)\")]},status);})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"active-filters\",children:(filters.tier!=='all'||filters.status!=='all')&&/*#__PURE__*/_jsxs(\"div\",{className:\"filter-tags\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u0110ang l\\u1ECDc theo: \"}),filters.tier!=='all'&&/*#__PURE__*/_jsxs(\"span\",{className:\"filter-tag\",children:[\"T\\u1EA7ng \",filters.tier,/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFilterChange('tier','all'),\"aria-label\":\"X\\xF3a b\\u1ED9 l\\u1ECDc t\\u1EA7ng\",title:\"X\\xF3a b\\u1ED9 l\\u1ECDc t\\u1EA7ng\",children:\"\\xD7\"})]}),filters.status!=='all'&&/*#__PURE__*/_jsxs(\"span\",{className:\"filter-tag\",style:{borderLeft:\"4px solid \".concat(((_statusDescriptions$f2=statusDescriptions[filters.status])===null||_statusDescriptions$f2===void 0?void 0:_statusDescriptions$f2.color)||'transparent'),paddingLeft:'8px'},children:[((_statusDescriptions$f3=statusDescriptions[filters.status])===null||_statusDescriptions$f3===void 0?void 0:_statusDescriptions$f3.label)||filters.status,/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFilterChange('status','all'),\"aria-label\":\"X\\xF3a b\\u1ED9 l\\u1ECDc tr\\u1EA1ng th\\xE1i\",title:\"X\\xF3a b\\u1ED9 l\\u1ECDc tr\\u1EA1ng th\\xE1i\",children:\"\\xD7\"})]})]})})]});};export default FilterPanel;","map":{"version":3,"names":["React","useMemo","jsx","_jsx","jsxs","_jsxs","FilterPanel","_ref","_statusDescriptions$f","_statusDescriptions$f2","_statusDescriptions$f3","onFilterChange","tiers","statuses","filters","shelfStats","statusDescriptions","HIGH","label","color","MEDIUM","EMPTY","sortedTiers","Set","sort","a","b","Number","handleFilterChange","filterType","value","newFilters","_objectSpread","resetFilters","resetState","tier","status","totalItems","Object","values","reduce","acc","curr","className","children","onClick","disabled","title","htmlFor","id","onChange","e","target","map","toString","style","borderLeft","concat","_statusDescriptions$s","count","toLowerCase","percentage","Math","round","paddingLeft"],"sources":["C:/Documents/warehouse-dashboard/src/components/FilterPanel/FilterPanel.js"],"sourcesContent":["// File: FilterPanel.js\n// Mô tả: Component React hiển thị và xử lý bộ lọc (filter) cho dashboard quản lý kho hàng.\n// Chức năng: Cho phép người dùng lọc dữ liệu kệ hàng theo tầng và trạng thái, đồng bộ với dashboard.\nimport React, { useMemo } from 'react';\nimport './FilterPanel.css';\n\nconst FilterPanel = ({\n  onFilterChange,\n  tiers = [],\n  statuses = ['HIGH', 'MEDIUM', 'EMPTY'],\n  filters,\n  shelfStats\n}) => {\n  // Mapping trạng thái với mô tả và màu sắc\n  const statusDescriptions = {\n    HIGH: { label: 'Kệ đầy', color: '#22c55e' },\n    MEDIUM: { label: 'Kệ còn trống một phần', color: '#f59e0b' },\n    EMPTY: { label: 'Kệ trống hoàn toàn', color: '#ef4444' },\n  };\n\n  // Sắp xếp danh sách tầng\n  const sortedTiers = useMemo(() => {\n    return [...new Set(tiers)].sort((a, b) => Number(a) - Number(b));\n  }, [tiers]);\n\n  // Xử lý thay đổi bộ lọc\n  const handleFilterChange = (filterType, value) => {\n    const newFilters = {\n      ...filters,\n      [filterType]: value,\n    };\n    onFilterChange(filterType, value, newFilters);\n  };\n\n  // Reset tất cả bộ lọc\n  const resetFilters = () => {\n    const resetState = {\n      tier: 'all',\n      status: 'all',\n    };\n    onFilterChange('reset', null, resetState);\n  };\n\n  // Tính tổng số lượng cho mỗi trạng thái\n  const totalItems = useMemo(() => {\n    return Object.values(shelfStats || {}).reduce((acc, curr) => acc + (curr || 0), 0);\n  }, [shelfStats]);\n\n  return (\n    <div className=\"filter-panel\">\n      <div className=\"filter-header\">\n        <h3>Bộ lọc</h3>\n        <button\n          className=\"reset-button\"\n          onClick={resetFilters}\n          disabled={filters.tier === 'all' && filters.status === 'all'}\n          title=\"Đặt lại tất cả bộ lọc\"\n        >\n          Đặt lại\n        </button>\n      </div>\n\n      <div className=\"filter-group\">\n        <label htmlFor=\"tier-select\">Chọn tầng:</label>\n        <select\n          id=\"tier-select\"\n          value={filters.tier}\n          onChange={(e) => handleFilterChange('tier', e.target.value)}\n        >\n          <option value=\"all\">Tất cả các tầng</option>\n          {sortedTiers.map((tier) => (\n            <option key={tier} value={tier.toString()}>\n              Tầng {tier}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"filter-group\">\n        <label htmlFor=\"status-select\">Trạng thái kệ:</label>\n        <select\n          id=\"status-select\"\n          value={filters.status}\n          onChange={(e) => handleFilterChange('status', e.target.value)}\n          style={{\n            borderLeft: filters.status !== 'all' ? `4px solid ${statusDescriptions[filters.status]?.color || 'transparent'}` : 'none'\n          }}\n        >\n          <option value=\"all\">Tất cả trạng thái</option>\n          {statuses.map((status) => {\n            const count = shelfStats?.[status.toLowerCase()] || 0;\n            const percentage = totalItems > 0 ? Math.round((count / totalItems) * 100) : 0;\n            \n            return (\n              <option \n                key={status} \n                value={status}\n                className={`status-option status-${status.toLowerCase()}`}\n              >\n                {statusDescriptions[status]?.label || status}\n                {` (${count} - ${percentage}%)`}\n              </option>\n            );\n          })}\n        </select>\n      </div>\n\n      {/* Hiển thị các bộ lọc đang áp dụng */}\n      <div className=\"active-filters\">\n        {(filters.tier !== 'all' || filters.status !== 'all') && (\n          <div className=\"filter-tags\">\n            <span>Đang lọc theo: </span>\n            {filters.tier !== 'all' && (\n              <span className=\"filter-tag\">\n                Tầng {filters.tier}\n                <button \n                  onClick={() => handleFilterChange('tier', 'all')} \n                  aria-label=\"Xóa bộ lọc tầng\"\n                  title=\"Xóa bộ lọc tầng\"\n                >×</button>\n              </span>\n            )}\n            {filters.status !== 'all' && (\n              <span \n                className=\"filter-tag\"\n                style={{ \n                  borderLeft: `4px solid ${statusDescriptions[filters.status]?.color || 'transparent'}`,\n                  paddingLeft: '8px'\n                }}\n              >\n                {statusDescriptions[filters.status]?.label || filters.status}\n                <button \n                  onClick={() => handleFilterChange('status', 'all')} \n                  aria-label=\"Xóa bộ lọc trạng thái\"\n                  title=\"Xóa bộ lọc trạng thái\"\n                >×</button>\n              </span>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default FilterPanel;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}