{"ast":null,"code":"'use strict';\n\n/**\r\n * DefaultMessageAllocator constructor\r\n * @constructor\r\n */\nfunction DefaultMessageIdProvider() {\n  if (!(this instanceof DefaultMessageIdProvider)) {\n    return new DefaultMessageIdProvider();\n  }\n\n  /**\r\n   * MessageIDs starting with 1\r\n   * ensure that nextId is min. 1, see https://github.com/mqttjs/MQTT.js/issues/810\r\n   */\n  this.nextId = Math.max(1, Math.floor(Math.random() * 65535));\n}\n\n/**\r\n * allocate\r\n *\r\n * Get the next messageId.\r\n * @return unsigned int\r\n */\nDefaultMessageIdProvider.prototype.allocate = function () {\n  // id becomes current state of this.nextId and increments afterwards\n  const id = this.nextId++;\n  // Ensure 16 bit unsigned int (max 65535, nextId got one higher)\n  if (this.nextId === 65536) {\n    this.nextId = 1;\n  }\n  return id;\n};\n\n/**\r\n * getLastAllocated\r\n * Get the last allocated messageId.\r\n * @return unsigned int\r\n */\nDefaultMessageIdProvider.prototype.getLastAllocated = function () {\n  return this.nextId === 1 ? 65535 : this.nextId - 1;\n};\n\n/**\r\n * register\r\n * Register messageId. If success return true, otherwise return false.\r\n * @param { unsigned int } - messageId to register,\r\n * @return boolean\r\n */\nDefaultMessageIdProvider.prototype.register = function (messageId) {\n  return true;\n};\n\n/**\r\n * deallocate\r\n * Deallocate messageId.\r\n * @param { unsigned int } - messageId to deallocate,\r\n */\nDefaultMessageIdProvider.prototype.deallocate = function (messageId) {};\n\n/**\r\n * clear\r\n * Deallocate all messageIds.\r\n */\nDefaultMessageIdProvider.prototype.clear = function () {};\nmodule.exports = DefaultMessageIdProvider;","map":{"version":3,"names":["DefaultMessageIdProvider","nextId","Math","max","floor","random","prototype","allocate","id","getLastAllocated","register","messageId","deallocate","clear","module","exports"],"sources":["C:/Documents/warehouse-dashboard/node_modules/mqtt/lib/default-message-id-provider.js"],"sourcesContent":["'use strict'\r\n\r\n/**\r\n * DefaultMessageAllocator constructor\r\n * @constructor\r\n */\r\nfunction DefaultMessageIdProvider () {\r\n  if (!(this instanceof DefaultMessageIdProvider)) {\r\n    return new DefaultMessageIdProvider()\r\n  }\r\n\r\n  /**\r\n   * MessageIDs starting with 1\r\n   * ensure that nextId is min. 1, see https://github.com/mqttjs/MQTT.js/issues/810\r\n   */\r\n  this.nextId = Math.max(1, Math.floor(Math.random() * 65535))\r\n}\r\n\r\n/**\r\n * allocate\r\n *\r\n * Get the next messageId.\r\n * @return unsigned int\r\n */\r\nDefaultMessageIdProvider.prototype.allocate = function () {\r\n  // id becomes current state of this.nextId and increments afterwards\r\n  const id = this.nextId++\r\n  // Ensure 16 bit unsigned int (max 65535, nextId got one higher)\r\n  if (this.nextId === 65536) {\r\n    this.nextId = 1\r\n  }\r\n  return id\r\n}\r\n\r\n/**\r\n * getLastAllocated\r\n * Get the last allocated messageId.\r\n * @return unsigned int\r\n */\r\nDefaultMessageIdProvider.prototype.getLastAllocated = function () {\r\n  return (this.nextId === 1) ? 65535 : (this.nextId - 1)\r\n}\r\n\r\n/**\r\n * register\r\n * Register messageId. If success return true, otherwise return false.\r\n * @param { unsigned int } - messageId to register,\r\n * @return boolean\r\n */\r\nDefaultMessageIdProvider.prototype.register = function (messageId) {\r\n  return true\r\n}\r\n\r\n/**\r\n * deallocate\r\n * Deallocate messageId.\r\n * @param { unsigned int } - messageId to deallocate,\r\n */\r\nDefaultMessageIdProvider.prototype.deallocate = function (messageId) {\r\n}\r\n\r\n/**\r\n * clear\r\n * Deallocate all messageIds.\r\n */\r\nDefaultMessageIdProvider.prototype.clear = function () {\r\n}\r\n\r\nmodule.exports = DefaultMessageIdProvider\r\n"],"mappings":"AAAA,YAAY;;AAEZ;AACA;AACA;AACA;AACA,SAASA,wBAAwBA,CAAA,EAAI;EACnC,IAAI,EAAE,IAAI,YAAYA,wBAAwB,CAAC,EAAE;IAC/C,OAAO,IAAIA,wBAAwB,CAAC,CAAC;EACvC;;EAEA;AACF;AACA;AACA;EACE,IAAI,CAACC,MAAM,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,KAAK,CAACF,IAAI,CAACG,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;AAC9D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACAL,wBAAwB,CAACM,SAAS,CAACC,QAAQ,GAAG,YAAY;EACxD;EACA,MAAMC,EAAE,GAAG,IAAI,CAACP,MAAM,EAAE;EACxB;EACA,IAAI,IAAI,CAACA,MAAM,KAAK,KAAK,EAAE;IACzB,IAAI,CAACA,MAAM,GAAG,CAAC;EACjB;EACA,OAAOO,EAAE;AACX,CAAC;;AAED;AACA;AACA;AACA;AACA;AACAR,wBAAwB,CAACM,SAAS,CAACG,gBAAgB,GAAG,YAAY;EAChE,OAAQ,IAAI,CAACR,MAAM,KAAK,CAAC,GAAI,KAAK,GAAI,IAAI,CAACA,MAAM,GAAG,CAAE;AACxD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACAD,wBAAwB,CAACM,SAAS,CAACI,QAAQ,GAAG,UAAUC,SAAS,EAAE;EACjE,OAAO,IAAI;AACb,CAAC;;AAED;AACA;AACA;AACA;AACA;AACAX,wBAAwB,CAACM,SAAS,CAACM,UAAU,GAAG,UAAUD,SAAS,EAAE,CACrE,CAAC;;AAED;AACA;AACA;AACA;AACAX,wBAAwB,CAACM,SAAS,CAACO,KAAK,GAAG,YAAY,CACvD,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAGf,wBAAwB","ignoreList":[]},"metadata":{},"sourceType":"script"}